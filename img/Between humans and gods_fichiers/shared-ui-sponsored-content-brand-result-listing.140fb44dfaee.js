/*@license For license information please refer to shared-ui-sponsored-content-brand-result-listing.licenses.txt*/
(self.__LOADABLE_LOADED_CHUNKS__=self.__LOADABLE_LOADED_CHUNKS__||[]).push([[7283],{94695:function(e,n,t){t.d(n,{A:function(){return Be}});var r=t(67294),a=t(69430),i=t(64418),l=t(98250),o=t(85395),c=t(8470),s=t(35957),u=t(75766),d=t(25043),m=t(19633),E=t(46605),f=t(51330),p=t(27749),v=t(71641),g=t(95878),y=t(30082),b=t(511),h=t(83441),A=t(20515),S=t(23984),w=t(91233),O=t(85213),C=t(29097),k=t(93351),I=t(5419),N=t(95128),T=t(10333),_=t(60756);function L(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,r=new Array(n);t<n;t++)r[t]=e[t];return r}function R(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function B(e,n){return null!=n&&"undefined"!=typeof Symbol&&n[Symbol.hasInstance]?!!n[Symbol.hasInstance](e):e instanceof n}function D(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{},r=Object.keys(t);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(t).filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})))),r.forEach((function(n){R(e,n,t[n])}))}return e}function F(e,n){return n=null!=n?n:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):function(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})),e}function P(e,n){return function(e){if(Array.isArray(e))return e}(e)||function(e,n){var t=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=t){var r,a,i=[],l=!0,o=!1;try{for(t=t.call(e);!(l=(r=t.next()).done)&&(i.push(r.value),!n||i.length!==n);l=!0);}catch(c){o=!0,a=c}finally{try{l||null==t.return||t.return()}finally{if(o)throw a}}return i}}(e,n)||function(e,n){if(!e)return;if("string"==typeof e)return L(e,n);var t=Object.prototype.toString.call(e).slice(8,-1);"Object"===t&&e.constructor&&(t=e.constructor.name);if("Map"===t||"Set"===t)return Array.from(t);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return L(e,n)}(e,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function x(e,n){return n||(n=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(n)}}))}function V(){var e=x(["\n  fragment ClientSideAnalyticsFragment on ClientSideAnalytics {\n    linkName\n    referrerId\n  }\n"]);return V=function(){return e},e}function j(){var e=x(["\n  fragment SponsoredContentBeaconsFragment on SponsoredContentBeacons {\n    renderBeacons\n    viewabilityBeacon\n  }\n"]);return j=function(){return e},e}function z(){var e=x(["\n  fragment EGDSImageFragment on Image {\n    url\n    description\n  }\n"]);return z=function(){return e},e}function U(){var e=x(["\n  fragment EGDSMarkFragment on Mark {\n    description\n    id\n    orientation\n    size\n    url {\n      ... on HttpURI {\n        __typename\n        value\n      }\n    }\n  }\n"]);return U=function(){return e},e}function G(){var e=x(["\n  fragment EGDSStandardBadgeFragment on EGDSStandardBadge {\n    accessibility\n    text\n  }\n"]);return G=function(){return e},e}function M(){var e=x(["\n  fragment EGDSInlineLinkFragment on EGDSInlineLink {\n    text\n    action {\n      ...UILinkActionFragment\n    }\n  }\n"]);return M=function(){return e},e}function H(){var e=x(["\n  fragment UILinkActionFragment on UILinkAction {\n    accessibility\n    analytics {\n      referrerId\n      linkName\n      urls\n    }\n    resource {\n      ... on HttpURI {\n        value\n      }\n    }\n    target\n  }\n"]);return H=function(){return e},e}function K(){var e=x(["\n  fragment VideoFragment on SponsoredContentVideo {\n    description\n    videoAccessibility\n    volumeButtonAccessibility\n    url {\n      value\n    }\n    thumbnail {\n      value\n    }\n    link {\n      ...UILinkActionFragment\n    }\n    viewAnalytics {\n      ...ClientSideAnalyticsFragment\n    }\n    muteAnalytics {\n      ...ClientSideAnalyticsFragment\n    }\n    unmuteAnalytics {\n      ...ClientSideAnalyticsFragment\n    }\n    firstQuartileAnalytics {\n      ...ClientSideAnalyticsFragment\n    }\n    midpointAnalytics {\n      ...ClientSideAnalyticsFragment\n    }\n    thirdQuartileAnalytics {\n      ...ClientSideAnalyticsFragment\n    }\n    videoCompleteAnalytics {\n      ...ClientSideAnalyticsFragment\n    }\n    videoBufferingAnalytics {\n      ...ClientSideAnalyticsFragment\n    }\n  }\n\n  ","\n  ","\n"]);return K=function(){return e},e}function Q(){var e=x(["\n  query BrandResultListingQuery($context: ContextInput!, $sponsoredContentContext: SponsoredContentContextInput!) {\n    sponsoredContent {\n      brandResultListing(context: $context, sponsoredContentContext: $sponsoredContentContext) {\n        heading\n        paragraph\n        adTransparencyTrigger {\n          adTransparencyId\n          adTransparencyButton {\n            ...AdTransparencyButtonFragment\n          }\n          adTransparencyOverlaySkeleton {\n            ...TransparencyOverlaySkeletonFragment\n          }\n        }\n        beacons {\n          ...SponsoredContentBeaconsFragment\n        }\n        impressionAnalytics {\n          ...ClientSideAnalyticsFragment\n        }\n        link {\n          ...UILinkActionFragment\n        }\n        badge {\n          ...EGDSStandardBadgeFragment\n        }\n        feature {\n          ...EGDSImageFragment\n        }\n        logo {\n          standard {\n            ...EGDSMarkFragment\n          }\n        }\n        video {\n          ...VideoFragment\n        }\n      }\n    }\n  }\n\n  fragment AdTransparencyButtonFragment on AdTransparencyButton {\n    primary\n    accessibility\n    disabled\n    icon {\n      description\n      id\n      title\n    }\n    analyticsPayload\n  }\n  fragment TransparencyOverlaySkeletonFragment on TransparencyOverlaySkeleton {\n    title\n    error {\n      icon {\n        id\n        size\n      }\n      description\n      button {\n        primary\n      }\n      allowedRetryAttempts\n      exceededAttemptsMessage\n    }\n  }\n\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n"]);return Q=function(){return e},e}var W=(0,a.Ps)(V()),$={FAIL_TO_SEND_BEACON_USING_BEACON_API:new o.nS(o.nl.WARN,"FAIL_TO_SEND_BEACON_USING_BEACON_API")},Z=(0,a.Ps)(j()),q=function(e){var n=(0,o.Iw)($);r.useEffect((function(){var t;e&&(null===(t=e.renderBeacons)||void 0===t||t.forEach((function(e){!function(e,n){try{navigator.sendBeacon(encodeURI(e))||n.FAIL_TO_SEND_BEACON_USING_BEACON_API.log({})}catch(t){n.FAIL_TO_SEND_BEACON_USING_BEACON_API.log({error:t})}}(e,n)})))}),[])},X=(0,a.Ps)(z()),J=function(e){var n=e.data;return r.createElement(c.p,{alt:n.description,src:n.url})};J.fragment=X,J.displayName="EGDSImage";var Y,ee={4:4,5:5,6:6,7:7,8:8,9:9,10:10,11:11,12:12,13:13,14:14,15:15,16:16,17:17,18:18,24:24,30:30,37:37,38:38,40:40,48:48,72:72},ne=(R(Y={},"LANDSCAPE","landscape"),R(Y,"PORTRAIT","portrait"),Y),te=(0,a.Ps)(U()),re=function(e){var n,t,a=e.className,i=e.size,l=e.data,o=l.description,c=l.id,u=l.orientation,d=l.url;t=i?ee[i]:l.size?ee[l.size]:void 0;var m=u&&ne[u]||"landscape";return r.createElement(s.F,{className:a,description:o,id:c,name:c,orientation:m,size:t,url:null===(n=d)||void 0===n?void 0:n.value})};re.displayName="EGDSMark",re.fragment=te;var ae=(0,a.Ps)(G()),ie=function(e){var n,t=e.data;return t.text?r.createElement(u.F,{size:"small",text:t.text,a11yText:null!==(n=t.accessibility)&&void 0!==n?n:void 0}):null};ie.fragment=ae,ie.displayName="EGDSStandardBadge";(0,a.Ps)(M());var le,oe=(0,a.Ps)(H()),ce=(R(le={},"EXTERNAL","_blank"),R(le,"INTERNAL","_self"),le),se=function(e){var n=e.className,t=e.data,a=e.children,i=t.accessibility,o=t.resource,c=t.target,s=t.analytics,u=(0,l.useClickTracker)(),d=r.useCallback((function(){var e,n,t,r;null===(n=s)||void 0===n||null===(e=n.urls)||void 0===e||e.forEach((function(e){var n;null===(n=navigator)||void 0===n||n.sendBeacon(e)})),(null===(t=s)||void 0===t?void 0:t.referrerId)&&(null===(r=s)||void 0===r?void 0:r.linkName)&&u(s.referrerId,s.linkName)}),[u]);return"HttpURI"!==o.__typename?null:r.createElement("a",{className:n,target:ce[c],href:o.value,rel:"noopener noreferrer",onClickCapture:d},i&&r.createElement("span",{className:"is-visually-hidden"},i),a)};se.fragment=oe,se.displayName="UILinkAction";var ue=(0,a.Ps)(K(),W,se.fragment),de=new o.nS(o.nl.ERROR,"VIDEO_LOAD_ERROR"),me=function(e){var n,t=e.data,a=t.videoAccessibility,i=t.volumeButtonAccessibility,c=t.url,s=t.thumbnail,u=t.link,d=t.viewAnalytics,m=t.muteAnalytics,v=t.unmuteAnalytics,g=t.firstQuartileAnalytics,y=t.midpointAnalytics,b=t.thirdQuartileAnalytics,h=t.videoCompleteAnalytics,A=t.videoBufferingAnalytics,S=e.ratio,w=(0,r.useRef)(null),O=P((0,r.useState)({firstQuartile:!1,midpoint:!1,thirdQuartile:!1,viewed:!1}),2),C=O[0],k=O[1],I=(0,l.useClickTracker)(),N=(0,l.useClickstreamAnalytics)().track,T=(0,o.Iw)({VIDEO_LOAD_ERROR_EVENT:de}),_=function(e){e.referrerId&&e.linkName&&I(e.referrerId,e.linkName)},L=function(e){e.referrerId&&e.linkName&&N(l.ITrackType.EVENT,{data:{schemaName:"referrer",messageContent:{referrerId:e.referrerId,linkName:e.linkName,eventType:"impression"}}})},R=P((0,r.useState)(!0),2),x=R[0],V=R[1],j=P((0,r.useState)(!1),2),z=j[0],U=j[1],G=new IntersectionObserver((function(e){var n=P(e,1)[0];n&&U(n.isIntersecting)}),{threshold:.5}),M=P((0,r.useState)(1),2),H=M[0],K=M[1],Q=P((0,r.useState)(!0),2),W=Q[0],$=Q[1],Z=function(){$("visible"===document.visibilityState)};(0,r.useEffect)((function(){return w.current&&G.observe(w.current),document.addEventListener("visibilitychange",Z),function(){G.disconnect(),document.removeEventListener("visibilitychange",Z)}}),[]),(0,r.useEffect)((function(){B(w.current,HTMLVideoElement)&&(z&&W?w.current.play():w.current.pause())}),[z,W]);var q=r.createElement("video",{"aria-label":null!=a?a:void 0,controlsList:"nodownload noplaybackrate",disablePictureInPicture:!0,id:"video-player",muted:!0,onEnded:function(){if(w.current){if(H<=10&&h){var e={referrerId:"".concat(h.referrerId,".").concat(H),linkName:h.linkName};L(e)}K(H+1),w.current.play()}},onError:function(){T.VIDEO_LOAD_ERROR_EVENT.log({videoSrc:c.value})},onTimeUpdate:function(){var e=w.current;if(null!=e&&0!==e.duration){var n=e.currentTime>=2,t=e.currentTime/e.duration>=.25,r=e.currentTime/e.duration>=.5,a=e.currentTime/e.duration>=.75;n&&!C.viewed&&(L(d),k(F(D({},C),{viewed:!0}))),t&&!C.firstQuartile&&(L(g),k(F(D({},C),{firstQuartile:!0}))),r&&!C.midpoint&&(L(y),k(F(D({},C),{midpoint:!0}))),a&&!C.thirdQuartile&&(L(b),k(F(D({},C),{thirdQuartile:!0})))}},onWaiting:function(){w.current&&0!==w.current.currentTime&&L(A)},playsInline:!0,poster:null===(n=s)||void 0===n?void 0:n.value,preload:"auto",ref:w,style:{width:"100%",height:"100%",objectFit:"cover"}},r.createElement("source",{src:c.value}));return r.createElement(f.N,{ratio:S,imageFit:"cover"},u?r.createElement(se,{data:u},q):{videoComponent:q},r.createElement(p.O,{type:"absolute",position:{zindex:"layer3",right:"three",bottom:"three"}},r.createElement("button",{id:"muteButton",style:{background:"none",border:"none"},type:"button",onClick:function(){B(w.current,HTMLVideoElement)&&(w.current.muted?_(v):_(m),w.current.muted=!w.current.muted),V(!x)},"aria-label":null!=i?i:void 0},x?r.createElement(E.fR,{name:"volume_off",theme:"inverse"}):r.createElement(E.fR,{name:"volume_up",theme:"inverse"}))))};me.fragment=ue,me.displayName="Video";var Ee=new o.nS(o.nl.INFO,"AD_BLOCK_DETECTED"),fe=function(){return(0,o.Iw)({AD_BLOCK_DETECTED_EVENT:Ee}).AD_BLOCK_DETECTED_EVENT.log({message:"collapsing"}),null},pe=function(e){var n=e.children;return(0,o.Iw)({AD_BLOCK_DETECTED_EVENT:Ee}).AD_BLOCK_DETECTED_EVENT.log({message:"not collapsing"}),r.createElement(r.Fragment,null,n)};function ve(e){var n=function(n){var t,a=n.collapseWhenAdBlockDetected,l=n.adBlockCollapseExperiment;return window.meso=null!==(t=window.meso)&&void 0!==t?t:{},!window.meso.adblock||window.meso.adblock.enabled?l?r.createElement(i.Experiment,{name:l},r.createElement(i.ExperimentControl,null,r.createElement(fe,null)),r.createElement(i.ExperimentVariant,{bucket:1},r.createElement(pe,null,r.createElement(e,D({},n))))):!1===a?r.createElement(pe,null,r.createElement(e,D({},n))):r.createElement(fe,null):r.createElement(e,D({},n))};return n.displayName="WithAdBlockDetectHOC",n}var ge=function(e){var n=e.viewabilityBeacon,t=r.useRef(null),a=(0,r.useCallback)((function(e){var n;e&&window.meso&&(window.meso.viewability=null!==(n=window.meso.viewability)&&void 0!==n?n:[],window.meso.viewability.push({type:"deregister",element:e}))}),[]),i=(0,r.useCallback)((function(e){var t,r;e&&(window.meso=null!==(t=window.meso)&&void 0!==t?t:{},window.meso.viewability=null!==(r=window.meso.viewability)&&void 0!==r?r:[],window.meso.viewability.push({type:"register",config:"image",element:e,beacon:n}))}),[n]);return r.useEffect((function(){var e=t.current;return i(e),function(){a(e)}}),[i,a]),{componentRef:t}},ye="sponsored-content",be="no-cache",he="adurl=",Ae=function(e,n){if(e&&"HttpURI"===e.resource.__typename&&e.resource.value.toString().includes("search")&&n){var t,r=null===(t=e)||void 0===t?void 0:t.resource.value,a=r.substring(r.indexOf(he)+6),i=new URLSearchParams(a||"");i.append("NumRoom",n.length.toString());for(var l=0;l<n.length;l+=1){var o,c,s=(null===(o=n[l])||void 0===o?void 0:o.children)||[];i.append("NumAdult".concat(l+1),"".concat((null===(c=n[l])||void 0===c?void 0:c.adults)||"")),i.append("NumChild".concat(l+1),s.length.toString());for(var u=0;u<s.length;u+=1){var d;i.append("Rm".concat(l+1,"child").concat(u+1,"age"),"".concat((null===(d=s[u])||void 0===d?void 0:d.age)||""))}}return e.resource.value=e.resource.value.replace(a,i.toString()),e}},Se=function(e){var n,t=e.badge,a=e.adTransparencyTrigger,i=(null===(n=a)||void 0===n?void 0:n.adTransparencyId)?{bottom:"three",left:"three",zindex:"layer3"}:{bottom:"three",left:"three",zindex:"layer1"};return r.createElement(p.O,{type:"absolute",position:i,cloneElement:!0},a?r.createElement(h.i,{data:a}):t&&r.createElement("div",null,r.createElement(ie,{data:t})))},we=function(e){var n,t=e.data,a=e.impressionOnly,i=t.badge,l=t.heading,o=t.paragraph,c=t.feature,s=t.logo,u=t.beacons,d=t.adTransparencyTrigger;return q(u),a?null:r.createElement(O.a,{alignItems:"center",columns:3},r.createElement(Se,{badge:i,adTransparencyTrigger:d}),r.createElement(C.P,{colSpan:1},r.createElement(f.N,{imageFit:"cover"},r.createElement(J,{data:c}))),r.createElement(C.P,{colSpan:2,alignSelf:"start"},r.createElement(A.U,null,r.createElement(S.v,{direction:"column",justifyContent:"start"},(null===(n=s)||void 0===n?void 0:n.standard)&&r.createElement(w.t,{grow:0,maxWidth:100},r.createElement(k.l,{margin:{blockend:"three"}},r.createElement("div",null,r.createElement(re,{data:s.standard})))),r.createElement(w.t,null,r.createElement(I.y,{tag:"h3",size:5},l)),r.createElement(w.t,null,r.createElement(k.l,{margin:{blockstart:"half"}},r.createElement(N.a,{size:2},o)))))))},Oe=function(e){var n,t=e.data,a=e.impressionOnly,i=t.badge,l=t.heading,o=t.paragraph,c=t.feature,s=t.logo,u=t.beacons,d=t.adTransparencyTrigger;return q(u),a?null:r.createElement(O.a,{columns:3},r.createElement(Se,{badge:i,adTransparencyTrigger:d}),r.createElement(C.P,null,r.createElement(f.N,{imageFit:"cover",ratio:f.s.R21_9},r.createElement(J,{data:c}))),r.createElement(C.P,{colSpan:2},r.createElement(A.U,null,r.createElement(S.v,{direction:"column",justifyContent:"start"},(null===(n=s)||void 0===n?void 0:n.standard)&&r.createElement(w.t,{grow:0,maxWidth:100},r.createElement("div",null,r.createElement(re,{data:s.standard}))),r.createElement(w.t,null,r.createElement(k.l,{margin:{blockstart:"three"}},r.createElement(I.y,{tag:"h2",size:6},l))),r.createElement(w.t,null,r.createElement(k.l,{margin:{blockstart:"one"}},r.createElement(N.a,{size:2},o)))))))},Ce=function(e){var n=e.badge,t=e.adTransparencyTrigger;return r.createElement(p.O,{type:"absolute",position:{bottom:"three",left:"three",zindex:"layer3"}},t?r.createElement(h.i,{data:t}):n&&r.createElement(ie,{data:n}))},ke=function(e){var n,t=e.data,a=e.impressionOnly,i=t.link,l=t.badge,o=t.heading,c=t.paragraph,s=t.logo,u=t.beacons,d=t.adTransparencyTrigger,m=t.video;return q(u),a||!m?null:r.createElement(y.t,{border:!0},i&&r.createElement(b.o,null,r.createElement(se,{data:i})),r.createElement(O.a,{alignItems:"center",columns:3},r.createElement(Ce,{badge:l,adTransparencyTrigger:d}),r.createElement(C.P,{colSpan:2},r.createElement(p.O,{type:"relative",position:{zindex:"layer2"}},r.createElement(f.N,{ratio:f.s.R16_9,imageFit:"cover"},r.createElement(me,{data:m})))),r.createElement(C.P,{colSpan:1,alignSelf:"center"},r.createElement(A.U,null,r.createElement(S.v,{direction:"column",justifyContent:"start"},(null===(n=s)||void 0===n?void 0:n.standard)&&r.createElement(w.t,{grow:0,maxWidth:100},r.createElement("div",null,r.createElement(re,{data:s.standard}))),r.createElement(w.t,null,r.createElement(k.l,{margin:{blockstart:"three"}},r.createElement(I.y,{tag:"h3",size:5},o))),r.createElement(w.t,null,r.createElement(k.l,{margin:{blockstart:"two"}},r.createElement(N.a,{size:1},c))))))))},Ie=function(e){var n,t=e.data,a=e.impressionOnly,i=t.link,l=t.badge,o=t.heading,c=t.paragraph,s=(t.feature,t.logo),u=t.beacons,d=t.adTransparencyTrigger,m=t.video;if(q(u),a||!m)return null;var E=function(e){return i?r.createElement(T.M,null,r.createElement(se,{data:i},e)):e};return r.createElement(r.Fragment,null,r.createElement(_.B,{blockMargin:"six"}),r.createElement(O.a,{space:"three"},r.createElement(C.P,null,r.createElement(S.v,{direction:"column",justifyContent:"start"},(null===(n=s)||void 0===n?void 0:n.standard)&&r.createElement(w.t,{grow:0,maxWidth:100},r.createElement("div",null,E(r.createElement(re,{data:s.standard})))),r.createElement(w.t,null,r.createElement(k.l,{margin:{blockstart:"two"}},E(r.createElement(I.y,{tag:"h2",size:5},o)))),r.createElement(w.t,null,r.createElement(k.l,{margin:{blockstart:"half"}},E(r.createElement(N.a,{size:1},c)))))),r.createElement(C.P,null,r.createElement(y.t,null,i&&r.createElement(b.o,null,r.createElement(se,{data:i})),r.createElement(Ce,{badge:l,adTransparencyTrigger:d}),r.createElement(C.P,null,r.createElement(p.O,{type:"relative",position:{zindex:"layer2"}},r.createElement(me,{data:m})))))),r.createElement(_.B,{blockMargin:"six"}))},Ne=function(e){var n,t,a,i,o=e.impressionOnly,c=e.inputs,s=e.skipSsr,u=e.batchKey,d=void 0===u?ye:u,E=e.rooms,f=(0,g.v)().context,p=F(D({},c),{context:f}),h=(0,v.a)(Re,{context:{batchKey:d},variables:p,ssr:!s,fetchPolicy:be}),A=h.data,S=h.error,w=null===(i=A)||void 0===i||null===(a=i.sponsoredContent)||void 0===a||null===(t=a.brandResultListing)||void 0===t||null===(n=t.beacons)||void 0===n?void 0:n.viewabilityBeacon,O=ge({viewabilityBeacon:w}).componentRef;if(S||!A||!A.sponsoredContent.brandResultListing)return null;var C=A.sponsoredContent.brandResultListing,k=C.link,I=C.video,N=C.impressionAnalytics;Ae(k,E);var T=r.createElement(m.Viewport,null,r.createElement(m.ViewSmall,null,r.createElement(l.IntersectionTracker,{linkName:N.linkName,referrerId:N.referrerId},I?r.createElement(Ie,{data:A.sponsoredContent.brandResultListing,impressionOnly:o}):r.createElement(Oe,{data:A.sponsoredContent.brandResultListing,impressionOnly:o}))),r.createElement(m.ViewMedium,null,r.createElement(l.IntersectionTracker,{linkName:N.linkName,referrerId:N.referrerId},I?r.createElement(ke,{data:A.sponsoredContent.brandResultListing,impressionOnly:o}):r.createElement(we,{data:A.sponsoredContent.brandResultListing,impressionOnly:o}))));return r.createElement("div",{"data-eg-sc":!0,ref:O},I?T:r.createElement(y.t,{border:!0},k&&r.createElement(b.o,null,r.createElement(se,{data:k})),T))};Ne.displayName="sharedui-BrandResultListing";var Te=ve(Ne);Te.displayName="sharedui-BrandResultListing";var _e=function(e){var n,t,a,i,o=e.impressionOnly,c=e.inputs,s=e.skipSsr,u=e.batchKey,E=void 0===u?ye:u,f=e.rooms,p=P(r.useState(0),2),h=p[0],A=p[1],S=(0,g.v)().context,w=F(D({},c),{context:S}),O=(0,v.a)(Re,{context:{batchKey:E},variables:w,ssr:!s,fetchPolicy:be}),C=O.data,k=O.error,I=null===(i=C)||void 0===i||null===(a=i.sponsoredContent)||void 0===a||null===(t=a.brandResultListing)||void 0===t||null===(n=t.beacons)||void 0===n?void 0:n.viewabilityBeacon,N=ge({viewabilityBeacon:I}).componentRef;if(r.useEffect((function(){A(window.innerHeight)}),[]),k||!C||!C.sponsoredContent.brandResultListing)return null;var T=C.sponsoredContent.brandResultListing,_=T.link,L=T.video,R=T.impressionAnalytics;Ae(_,f);var B=r.createElement(m.Viewport,null,r.createElement(m.ViewSmall,null,r.createElement(d.Z,{offset:h},r.createElement(l.IntersectionTracker,{linkName:R.linkName,referrerId:R.referrerId},L?r.createElement(Ie,{data:C.sponsoredContent.brandResultListing,impressionOnly:o}):r.createElement(Oe,{data:C.sponsoredContent.brandResultListing,impressionOnly:o})))),r.createElement(m.ViewMedium,null,r.createElement(d.Z,{offset:h/2},r.createElement(l.IntersectionTracker,{linkName:R.linkName,referrerId:R.referrerId},L?r.createElement(ke,{data:C.sponsoredContent.brandResultListing,impressionOnly:o}):r.createElement(we,{data:C.sponsoredContent.brandResultListing,impressionOnly:o})))));return r.createElement("div",{"data-eg-sc":!0,ref:N},L?B:r.createElement(y.t,{border:!0},_&&r.createElement(b.o,null,r.createElement(se,{data:_})),B))};_e.displayName="sharedui-BrandResultListing";var Le=ve(_e);Le.displayName="sharedui-BrandResultListing";var Re=(0,a.Ps)(Q(),J.fragment,ie.fragment,re.fragment,me.fragment,se.fragment,W,Z),Be=function(e){var n=function(e){var n=P(r.useState(0),2),t=n[0],a=n[1];r.useEffect((function(){a(window.innerHeight)}),[]);var i=function(n){return r.createElement(m.Viewport,null,r.createElement(m.ViewSmall,null,r.createElement(d.Z,{offset:t},r.createElement(e,D({},n)))),r.createElement(m.ViewMedium,null,r.createElement(d.Z,{offset:t/2},r.createElement(e,D({},n)))))};return i.displayName="".concat(e.displayName,"WithSponsoredContentLazy"),i}(Te);return r.createElement(i.Experiment,{name:"MeSo_Remove_Eager_Fetch_on_ads_Web"},r.createElement(i.ExperimentControl,null,r.createElement(Le,D({},e))),r.createElement(i.ExperimentVariant,{bucket:1},r.createElement(n,D({},e))))};Be.displayName="sharedui-BrandResultListing"}}]);
//# sourceMappingURL=shared-ui-sponsored-content-brand-result-listing.140fb44dfaeee2a55249.js.map
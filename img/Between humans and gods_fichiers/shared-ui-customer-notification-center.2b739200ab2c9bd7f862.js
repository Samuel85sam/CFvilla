/*@license For license information please refer to shared-ui-customer-notification-center.licenses.txt*/
(self.__LOADABLE_LOADED_CHUNKS__=self.__LOADABLE_LOADED_CHUNKS__||[]).push([[5908],{93213:function(e,n,t){t.d(n,{L:function(){return he}});var i=t(67294),o=t(66252),r=t(71641),l=t(50319),a=t(95878),c=t(98250),u=t(19633),s=t(13413),d=t(46605),m=t(10333),f=t(93351),v=t(30300),p=t(73030),E=t(20515),y=t(23984),b=t(91233),g=t(5419),k=t(6992),S=t(511),C=t(78917),h=t(22335),A=t(13943),I=t(41913),O=t(95128),w=t(35981),x=t(24499),_=t(97534),N=t(34353),D=t(8315),z=t(34778),L=t(95032),T=t(19719),R=t(69430),j=t(51619),M=t(49349),P=t(79221),H=t(27749);function U(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,i=new Array(n);t<n;t++)i[t]=e[t];return i}function F(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function V(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{},i=Object.keys(t);"function"==typeof Object.getOwnPropertySymbols&&(i=i.concat(Object.getOwnPropertySymbols(t).filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})))),i.forEach((function(n){F(e,n,t[n])}))}return e}function $(e,n){return n=null!=n?n:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):function(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);n&&(i=i.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,i)}return t}(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})),e}function B(e,n){return function(e){if(Array.isArray(e))return e}(e)||function(e,n){var t=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=t){var i,o,r=[],l=!0,a=!1;try{for(t=t.call(e);!(l=(i=t.next()).done)&&(r.push(i.value),!n||r.length!==n);l=!0);}catch(c){a=!0,o=c}finally{try{l||null==t.return||t.return()}finally{if(a)throw o}}return r}}(e,n)||Y(e,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function G(e,n){return n||(n=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(n)}}))}function K(e){return function(e){if(Array.isArray(e))return U(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||Y(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Y(e,n){if(e){if("string"==typeof e)return U(e,n);var t=Object.prototype.toString.call(e).slice(8,-1);return"Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t?Array.from(t):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?U(e,n):void 0}}function Z(){var e=G(["\n  mutation DeleteNotificationById($contextInput: ContextInput, $notificationId: String!) {\n    deleteNotificationById(context: $contextInput, notificationId: $notificationId) {\n      operationStatus\n    }\n  }\n"]);return Z=function(){return e},e}function Q(){var e=G(["\n  mutation UpdateInboxState($contextInput: ContextInput, $ids: [String!]!, $state: NotificationState!) {\n    updateInboxState(context: $contextInput, notificationIds: $ids, state: $state) {\n      notificationId\n      operationStatus\n      notificationState\n    }\n  }\n"]);return Q=function(){return e},e}function q(){var e=G(["\n  query NotificationCenterQuery($context: ContextInput!) {\n    notification(context: $context) {\n      notificationCenter {\n        unseen\n        redirectPath\n        revealActions {\n          __typename\n          ... on NotificationAnalytics {\n            description\n            referrerId\n          }\n        }\n        title {\n          completeText\n          items {\n            __typename\n            text\n            styles\n            ... on NotificationPhraseLinkNode {\n              id\n              type\n              uri {\n                __typename\n                value\n              }\n              target\n              actions {\n                __typename\n                ... on NotificationAnalytics {\n                  description\n                  referrerId\n                }\n              }\n            }\n          }\n        }\n        icon {\n          id\n          description\n        }\n        emptyState {\n          title {\n            completeText\n            items {\n              __typename\n              text\n              styles\n              ... on NotificationPhraseLinkNode {\n                id\n                type\n                uri {\n                  __typename\n                  value\n                }\n                target\n                actions {\n                  __typename\n                  ... on NotificationAnalytics {\n                    description\n                    referrerId\n                  }\n                }\n              }\n            }\n          }\n          body {\n            completeText\n            items {\n              __typename\n              text\n              styles\n              ... on NotificationPhraseLinkNode {\n                id\n                type\n                uri {\n                  __typename\n                  value\n                }\n                target\n                actions {\n                  __typename\n                  ... on NotificationAnalytics {\n                    description\n                    referrerId\n                  }\n                }\n              }\n            }\n          }\n          icon {\n            id\n            description\n          }\n        }\n        deleteActionForm {\n          title\n          sections {\n            title\n            fields {\n              label\n              __typename\n            }\n          }\n          feedbackMessages {\n            name\n            title\n            text\n            displayType\n            level\n          }\n        }\n        notifications {\n          type\n          subType\n          containerLink {\n            id\n            uri {\n              __typename\n              value\n            }\n            target\n            actions {\n              __typename\n              ... on NotificationAnalytics {\n                description\n                referrerId\n              }\n            }\n          }\n          logo {\n            url\n          }\n          backgroundImage {\n            url\n          }\n          title {\n            completeText\n            items {\n              __typename\n              text\n              styles\n              ... on NotificationPhraseLinkNode {\n                id\n                type\n                uri {\n                  __typename\n                  value\n                }\n                target\n                actions {\n                  __typename\n                  ... on NotificationAnalytics {\n                    description\n                    referrerId\n                  }\n                }\n              }\n            }\n          }\n          body {\n            completeText\n            items {\n              __typename\n              text\n              styles\n              ... on NotificationPhraseLinkNode {\n                id\n                type\n                uri {\n                  __typename\n                  value\n                }\n                target\n                actions {\n                  __typename\n                  ... on NotificationAnalytics {\n                    description\n                    referrerId\n                  }\n                }\n              }\n            }\n          }\n          icon {\n            id\n            description\n          }\n          revealActions {\n            __typename\n            ... on NotificationAnalytics {\n              description\n              referrerId\n            }\n            ... on NotificationMarketing {\n              marketingCode\n              marketingCodeDetail\n            }\n          }\n          links {\n            text\n            uri {\n              __typename\n              value\n            }\n            actions {\n              __typename\n              ... on NotificationAnalytics {\n                description\n                referrerId\n              }\n            }\n          }\n          state\n          timeStamp\n          notificationId\n          userActions {\n            __typename\n            type\n            text\n            icon {\n              id\n              description\n              title\n            }\n            actions {\n              __typename\n              ... on NotificationAnalytics {\n                description\n                referrerId\n              }\n            }\n          }\n        }\n      }\n    }\n  }\n"]);return q=function(){return e},e}function W(){var e=G(["\n  query NotificationCenterGlobalHeaderQuery(\n    $context: ContextInput!\n    $viewSize: HeaderViewSize\n    $lineOfBusiness: GlobalNavigationLineOfBusiness\n    $layout: HeaderLayout\n  ) {\n    globalHeader(context: $context, viewSize: $viewSize, lineOfBusiness: $lineOfBusiness, layout: $layout) {\n      redDotState @client\n    }\n  }\n"]);return W=function(){return e},e}var J=function(e,n){var t=function(e){var t,i=null===(t=n.payload)||void 0===t?void 0:t.find((function(n){return n.notificationId===e.notificationId}));return null!=i},i=function(n){return e.notificationsList.map((function(e){return t(e)?$(V({},e),{state:n}):e}))};switch(n.action){case 0:return $(V({},e),{notificationsList:i("SEEN"),unseenCount:0});case 1:return $(V({},e),{notificationsList:i("READ"),unseenCount:0});case 2:return $(V({},e),{notificationsList:e.notificationsList.filter((function(e){return!t(e)})),unseenCount:0});default:return{notificationsList:[],unseenCount:0}}},X=(0,i.createContext)({lineOfBusiness:"UNKNOWN",notificationCenterObject:{notificationsList:[],unseenCount:0},viewSize:null,dispatch:function(){return[]}}),ee=function(e){var n=e.notificationCenterObject,t=e.lineOfBusiness,o=e.viewSize,r=e.children,l=B((0,i.useReducer)(J,{notificationsList:n.notificationsList,unseenCount:n.unseenCount}),2),a=l[0],c=l[1];return i.createElement(X.Provider,{value:{notificationCenterObject:a,dispatch:c,lineOfBusiness:t,viewSize:o}},r||null)},ne=function(){return i.useContext(X)},te=function(e,n,t){if(e){var i=[];e.forEach((function(e){"NotificationAnalytics"===e.__typename&&i.push(e)})),n&&i.forEach((function(e){var i=e.referrerId;t&&(i="".concat(e.referrerId,".Click")),n(i,e.description||"")}))}},ie=function(e){var n="";if(null!==window.location){var t=window.location.pathname?window.location.pathname:"",i=window.location.search?window.location.search:"",o=window.location.hash?window.location.hash:"",r=t.concat(i,o);n="&uurl=".concat(encodeURIComponent("e3id=redr&rurl=".concat(r)))}return e+n},oe=function(e){var n,t,o=e.ncIcon,r=e.emptyState;return i.createElement(y.v,{alignContent:"center",justifyContent:"center",direction:"column",blockSize:"full_size"},i.createElement(E.U,{padded:!1},i.createElement(f.l,{padding:{inlinestart:"four",inlineend:"four"}},i.createElement("div",null,i.createElement(b.t,{alignSelf:"center"},i.createElement("section",null,i.createElement(v.b,{align:"center"},i.createElement(d.fR,{name:o,size:d.eZ.LARGE})),i.createElement(f.l,{padding:{blockstart:"four",blockend:"four"}},i.createElement(g.y,{align:"center",tag:"h1",size:5},null===(n=r.title)||void 0===n?void 0:n.items[0].text)),i.createElement(v.b,{align:"center",size:300},null===(t=r.body)||void 0===t?void 0:t[0].items[0].text)))))))},re=function(e){var n,t,o,r,l=e.notification,a=e.onClick,c=e.children,u=(null===(t=l.links)||void 0===t||null===(n=t[0].uri)||void 0===n?void 0:n.value)?null===(r=l.links)||void 0===r||null===(o=r[0].uri)||void 0===o?void 0:o.value:"#";return i.createElement("a",{href:u,target:"_blank",rel:"noopener noreferrer",onClick:a},c)},le=function(e){var n=e.name,t=e.buttonSize,o=e.iconSize,r=e.onClick;return i.createElement(D.m,{size:t,onClick:r},i.createElement(d.fR,{name:n,size:o}))},ae=function(e){var n=e.sheetState,t=e.onSheetOpenTriggerClick,o=e.actionItems;return i.createElement(i.Fragment,null,i.createElement(le,{name:"more_vert",buttonSize:s.xY.MEDIUM,iconSize:d.eZ.MEDIUM,onClick:t}),n&&i.createElement("div",{tabIndex:0,role:"button",onKeyDown:t,onClick:t},i.createElement(x.o,{type:_.k.OVERLAY,color:_.b.PRIMARY})),i.createElement(I.U,{isVisible:n},i.createElement(N.K,{isVisible:n,triggerRef:null},i.createElement(f.l,{padding:{block:"three"}},i.createElement("div",null,i.createElement(w.d,{items:o}))))))},ce=function(e){var n=e.menuState,t=e.onMenuOpenTriggerClick,o=e.actionItems,r=e.actionState,l=e.setActionState,a=i.useRef(null);return i.useEffect((function(){var e=function(e){var t;!(null===(t=a.current)||void 0===t?void 0:t.contains(e.target))&&n&&l(new Array(r.length).fill(!1))};return document.addEventListener("mousedown",e),function(){return document.removeEventListener("mousedown",e)}}),[a,r,n,l]),i.createElement("div",{ref:a},i.createElement(z.p,{isOpen:n},i.createElement(L.H,null,i.createElement(le,{name:"more_vert",buttonSize:s.xY.MEDIUM,iconSize:d.eZ.MEDIUM,onClick:t})),i.createElement(T.a,{position:T.d.RIGHT},i.createElement(w.d,{items:o}))))},ue=(0,R.Ps)(Z());function se(e,n,t,i){return e({variables:{contextInput:n,ids:t,state:i}})}var de=(0,R.Ps)(Q()),me=function(e){var n=function(e){var n;return{attributes:{role:"menuitem",tabindex:0},className:"uitk-list-item",icon:{name:null===(n=e.icon)||void 0===n?void 0:n.id},label:e.text,onClick:R,typeAnchor:!0}},t=function(e,n){var t;return{attributes:{role:"menuitem",tabindex:0},className:"uitk-list-item",icon:{name:null===(t=e.icon)||void 0===t?void 0:t.id},onClick:n,label:e.text,typeAnchor:!0}},o=function(){var e=m.state,i=m.userActions;return i&&3===i.length?"READ"===e?function(e){return[n(e[0]),t(e[2],(function(){return M(e[2])}))]}(i):function(e){return[n(e[0]),t(e[1],(function(){return j(e[1])}))]}(i):[]},r=e.deleteActionForm,s=r.sections,d=r.title,m=e.notification,f=e.actionState,v=e.setActionState,E=e.index,y=e.setMenuClickHandlerState,b=new Array(f.length).fill(!1),k=ne().dispatch,S=(0,a.v)().context,w=B((0,p.useDialog)("notification-center-delete-action-".concat(m.notificationId),"notificationCenterDeleteDialog"),3),x=w[0],_=w[1],N=w[2],D=B((0,l.D)(ue),1)[0],z=B((0,l.D)(de),1)[0],L=(0,c.useClickTracker)(),T=function(){f[E]||L("Web.Notification.InApp.ActionList.Click","user action list click");var e=K(b);e[E]=!f[E],v(e)};i.useEffect((function(){var e=function(e){y&&y(e)};e(!!x)}),[x,y]);var R=function(){v(b),_.openDialog()},j=function(e){te(e.actions,L,!1),v(b),k({action:1,payload:[m]}),se(z,S,[m.notificationId||""],"READ")},M=function(e){te(e.actions,L,!1),v(b),k({action:0,payload:[m]}),se(z,S,[m.notificationId||""],"SEEN")};return i.createElement(i.Fragment,null,i.createElement(u.Viewport,null,i.createElement(u.ViewMedium,null,i.createElement(ce,{menuState:f[E],onMenuOpenTriggerClick:function(){return T()},actionItems:o(),actionState:f,setActionState:v})),i.createElement(u.ViewSmall,null,i.createElement(ae,{sheetState:f[E],onSheetOpenTriggerClick:function(){return T()},actionItems:o()}))),x&&i.createElement(I.U,{isVisible:x},i.createElement(N,null,i.createElement(C.A,{dialogShow:x,returnFocusOnClose:!0,autoFocus:!0},i.createElement(h.D,null,i.createElement(g.y,{tag:"h1",size:5,key:"dialogHeading"},d),i.createElement(O.a,{key:"dialogParagraph",size:2},s[0].title),i.createElement(A.Q,{key:"UitkDialogFooter",stacked:!0,buttonOne:{onClick:function(){var e,n,t;te(null===(t=e=m)||void 0===t||null===(n=t.userActions)||void 0===n?void 0:n[0].actions,L,!1),k({action:2,payload:[e]}),v(b),_.closeDialog(),function(e,n,t){e({variables:{contextInput:n,notificationId:t}})}(D,S,m.notificationId||"")},text:s[0].fields[0].label,type:"primary"},buttonTwo:{onClick:function(){v(b),_.closeDialog()},text:s[0].fields[1].label,type:"tertiary"}}))))))},fe=function(e){var n,t=e.deleteActionForm,o=e.setMenuClickHandlerState,r=ne().notificationCenterObject,u=(0,a.v)().context,s=(0,c.useClickTracker)(),m=ne().dispatch,p=B((0,l.D)(de),1)[0],C=function(e){te(e.revealActions,s,!0),"READ"!==e.state&&(m({action:1,payload:[e]}),se(p,u,[e.notificationId],"READ"))},h=new Array(null===(n=r.notificationsList)||void 0===n?void 0:n.length).fill(!1),A=B(i.useState(h),2),I=A[0],O=A[1];return i.createElement(i.Fragment,null,r.notificationsList.map((function(e,n){var r,l,a,c,u,s,m,p,h,A,w,x,_,N,D,z,L;return i.createElement("div",{key:"notifications-cell-".concat(n),"data-stid":"notifications-cell"},i.createElement(f.l,{padding:{block:"three",inlinestart:"one",inlineend:"half"}},i.createElement(y.v,null,i.createElement(b.t,{alignSelf:"start",grow:0},i.createElement(re,{notification:e,onClick:function(){return C(e)}},i.createElement(E.U,{padded:["blockstart","blockend","inlinestart"]},i.createElement(f.l,{margin:{blockstart:"one"}},i.createElement(k.x,{visible:"SEEN"===e.state}))))),i.createElement(b.t,{alignSelf:"start",grow:0},i.createElement(re,{notification:e,onClick:function(){return C(e)}},i.createElement(E.U,{"data-stid":"notification-center-lob-icon",padded:["blockstart","blockend","inlinestart"]},e.icon&&i.createElement(d.fR,{name:null===(r=e.icon)||void 0===r?void 0:r.id,size:d.eZ.MEDIUM})))),i.createElement(b.t,{grow:1},i.createElement(E.U,{padded:["blockstart","blockend","inlinestart"]},i.createElement(S.o,null,i.createElement("a",{href:(null===(a=e.links)||void 0===a||null===(l=a[0].uri)||void 0===l?void 0:l.value)?null===(u=e.links)||void 0===u||null===(c=u[0].uri)||void 0===c?void 0:c.value:"#",target:"_blank",rel:"noopener noreferrer",onClick:function(){return C(e)}},null===(m=e.title)||void 0===m||null===(s=m.items)||void 0===s?void 0:s[0].text)),(null===(h=e.title)||void 0===h||null===(p=h.items)||void 0===p?void 0:p[0].text)&&i.createElement(g.y,{tag:"h2",size:5},null===(w=e.title)||void 0===w||null===(A=w.items)||void 0===A?void 0:A[0].text),(null===(N=e.body)||void 0===N||null===(_=N[0])||void 0===_||null===(x=_.items)||void 0===x?void 0:x[0].text)&&i.createElement(f.l,{padding:{blockstart:"two"}},i.createElement(v.b,{overflow:"truncate-3-lines",size:300,theme:"default",weight:"SEEN"===e.state?"bold":"regular"},null===(L=e.body)||void 0===L||null===(z=L[0])||void 0===z||null===(D=z.items)||void 0===D?void 0:D[0].text)),e.timeStamp&&i.createElement(f.l,{padding:{blockstart:"two"}},i.createElement(v.b,{size:100,theme:"default",spacing:"two"},e.timeStamp)))),i.createElement(b.t,null,i.createElement(E.U,{padded:["blockstart","blockend","inlineend"]},i.createElement(me,{deleteActionForm:t,notification:e,actionState:I,setActionState:O,index:n,setMenuClickHandlerState:o}))))))})))},ve=function(e){var n=e.ncIcon,t=e.emptyState,o=e.deleteActionForm,r=e.setMenuClickHandlerState,l=ne().notificationCenterObject;return l.notificationsList&&0!==l.notificationsList.length?i.createElement(fe,{deleteActionForm:o,setMenuClickHandlerState:r}):i.createElement(u.Viewport,null,i.createElement(u.ViewMedium,null,i.createElement("div",{style:{height:450}},i.createElement(oe,{ncIcon:n,emptyState:t}))),i.createElement(u.ViewSmall,null,i.createElement("div",{style:{height:500}},i.createElement(oe,{ncIcon:n,emptyState:t}))))},pe=(0,R.Ps)(q()),Ee=(0,R.Ps)(W()),ye=function(e){var n,t,r,l=e.ncTitle,u=e.ncRevealActions,s=e.children,d=e.isDialogOpen,p=e.dialogActions,E=e.DialogComponent,g=e.onClick,k=ne(),S=k.notificationCenterObject,C=k.lineOfBusiness,h=k.viewSize,A=k.dispatch,O=(0,o.x)(),w=(0,a.v)().context,x=i.useRef(null),_=null===(n=u)||void 0===n?void 0:n[1],D=(null===(t=_)||void 0===t?void 0:t.referrerId)||"",z=(null===(r=_)||void 0===r?void 0:r.description)||"",L=null!==S.unseenCount&&S.unseenCount>0,T=i.createElement(y.v,null,i.createElement(b.t,null,i.createElement(v.b,{size:300,theme:"default"},l)),i.createElement(b.t,null,L&&i.createElement(c.IntersectionTracker,{referrerId:D,linkName:z},i.createElement(j.k,{visible:!0}))));return i.createElement(i.Fragment,null,i.createElement(f.l,{padding:{block:"three",inline:"six"}},i.createElement(m.M,{onClick:function(){O.writeQuery({query:Ee,data:{globalHeader:{redDotState:"NOT_VISIBLE"}},variables:{context:w,viewSize:h,lineOfBusiness:C}}),g(S,A),p.toggleDialog()},domRef:x},i.createElement("button",{type:"button"},T))),d&&i.createElement(I.U,{isVisible:d},i.createElement(E,null,i.createElement(N.K,{type:"full",isVisible:d,triggerRef:x,returnFocusOnClose:!0},i.createElement(P.b,{navigationContent:{onClick:p.closeDialog,navType:"close"},toolbarTitle:l}),i.createElement(M.z,{padded:!1},s)))))},be=function(e){var n=e.ncTitle,t=e.ncIcon,o=e.ncRevealActions,r=e.emptyState,l=e.deleteActionForm,a=e.onClick,c=B((0,p.useDialog)("notification-center-settings"),3),u=c[0],s=c[1],d=c[2];return i.createElement(ye,{ncTitle:n,ncRevealActions:o,isDialogOpen:u,dialogActions:s,DialogComponent:d,onClick:a},i.createElement(ve,{ncIcon:t,emptyState:r,deleteActionForm:l}))};be.displayName="sharedui-NotificationCenterDialog";var ge=function(e){var n=e.name,t=e.buttonSize,o=e.iconSize,r=e.onClick,l=e.description,a=ne().notificationCenterObject;return i.createElement(D.m,{className:"uitk-button-only-icon global-navigation-nav-button",size:t,onClick:r},i.createElement(H.O,{display:"inline-block",type:"relative"},i.createElement(d.fR,{name:n,size:o,id:"".concat(n,"-icon"),title:l}),i.createElement(H.O,{cloneElement:!0,position:{right:"zero",top:"zero"},type:"absolute"},i.createElement(j.k,{visible:null!==a.unseenCount&&a.unseenCount>0}))))},ke=function(e){var n,t,o,r=e.ncTitle,l=e.ncIcon,a=e.ncRevealActions,u=e.children,m=e.isOpen,f=e.setOpen,v=e.onClick,p=e.menuClickHandlerState,y=e.ncDescription,k=ne(),S=k.notificationCenterObject,C=k.dispatch,h=null===(n=a)||void 0===n?void 0:n[1],A=(null===(t=h)||void 0===t?void 0:t.referrerId)||"",I=(null===(o=h)||void 0===o?void 0:o.description)||"",O=null!==S.unseenCount&&S.unseenCount>0;return i.createElement(b.t,{minWidth:"zero",grow:0},i.createElement(z.p,{isOpen:m,onTriggerClick:function(){f(!m)},disableBodyClickHandler:p},i.createElement(L.H,null,i.createElement(D.m,{className:"uitk-button-only-icon global-navigation-nav-button",size:s.xY.LARGE,onClick:function(){m||v(S,C)},id:"".concat(l,"-button")},i.createElement(H.O,{display:"inline-block",type:"relative"},i.createElement(d.fR,{name:l,size:d.eZ.LARGE,id:"".concat(l,"-icon"),title:y}),i.createElement(H.O,{cloneElement:!0,position:{right:"zero",top:"zero"},type:"absolute"},O&&i.createElement(c.IntersectionTracker,{referrerId:A,linkName:I},i.createElement(j.k,{visible:!0})))))),i.createElement(T.a,{position:T.d.RIGHT,autoPosition:!0,width:375,maxHeight:576},i.createElement("div",{style:{height:576},role:"menu"},i.createElement(E.U,{padded:!0,border:"bottom"},i.createElement(g.y,{size:5,tag:"h1"},r)),u))))},Se=function(e){var n=e.ncTitle,t=e.ncIcon,o=e.ncRevealActions,r=e.emptyState,l=e.deleteActionForm,a=e.onClick,c=e.ncDescription,u=B(i.useState(!1),2),s=u[0],d=u[1],m=B(i.useState(!1),2),f=m[0],v=m[1];return i.createElement(ke,{ncTitle:n,ncRevealActions:o,ncIcon:t,isOpen:s,setOpen:d,onClick:a,menuClickHandlerState:f,ncDescription:c},i.createElement(ve,{ncIcon:t,emptyState:r,deleteActionForm:l,setMenuClickHandlerState:v}))};Se.displayName="sharedui-NotificationCenterMenu";var Ce=pe,he=function(e){var n,t,p,E,y,b,g,k,S=e.inputs,C=e.skipSsr,h=S.lineOfBusiness,A=S.viewSize,I=(0,a.v)().context,O=(0,o.x)(),w={context:I},x=(0,r.a)(Ce,{variables:w,ssr:!C,onCompleted:function(e){var n,t,i,o,r,l=null===(i=e)||void 0===i||null===(t=i.notification)||void 0===t||null===(n=t.notificationCenter)||void 0===n?void 0:n.unseen;null!==l&&l>0&&"AUTHENTICATED"===(null===(r=I)||void 0===r||null===(o=r.identity)||void 0===o?void 0:o.authState)&&O.writeQuery({query:Ee,data:{globalHeader:{redDotState:"VISIBLE"}},variables:{context:I,viewSize:A,lineOfBusiness:h}})}}),_=x.data,N=x.error,D=x.loading,z=B((0,l.D)(de),1)[0],L=(0,c.useClickTracker)();if(D||N||!_)return null;var T=null===(t=_)||void 0===t||null===(n=t.notification)||void 0===n?void 0:n.notificationCenter,R=null===(E=T.title)||void 0===E||null===(p=E.items[0])||void 0===p?void 0:p.text,j=null===(y=T)||void 0===y?void 0:y.revealActions,M=null===(b=T.icon)||void 0===b?void 0:b.id,P=null===(g=T.icon)||void 0===g?void 0:g.description,H=null===(k=T)||void 0===k?void 0:k.unseen,U=T.emptyState,F=T.deleteActionForm,V=T.notifications,$=T.redirectPath;if(!(R&&M&&U&&F&&V))return null;var G=function(){var e,n=T.revealActions;if(n&&(null===(e=n)||void 0===e?void 0:e.length)>0){var t=new Array(1).fill(n[0]);te(t,L,!1)}},K=function(e,n){var t;G();var i,o=null===(t=e.notificationsList)||void 0===t?void 0:t.filter((function(e){return"UNSEEN"===e.state}));if(o&&o.length>0){n({action:0,payload:o});var r=(null===(i=o)||void 0===i?void 0:i.map((function(e){return e.notificationId||""})).filter((function(e){return""!==e})))||[];r&&r.length>0&&se(z,I,r,"SEEN")}!function(e,n){if(n){var t="Web.Notification.NC.Opened.".concat(n.length);e(t,"Notification Screen load"),n.length>0&&n.forEach((function(n){te(n.revealActions,e,!1)}))}}(L,e.notificationsList)};return $&&$.length>0?i.createElement(ee,{notificationCenterObject:{notificationsList:V,unseenCount:H||0},lineOfBusiness:h,viewSize:A},i.createElement("a",{href:ie($),"aria-label":R},i.createElement(u.Viewport,null,i.createElement(u.ViewMedium,null,i.createElement(ge,{name:M,buttonSize:s.xY.LARGE,iconSize:d.eZ.LARGE,onClick:G,description:null!=P?P:R})),i.createElement(u.ViewSmall,null,i.createElement(f.l,{padding:{block:"three",inline:"six"}},i.createElement(m.M,{className:"uitk-list-item"},i.createElement("button",{type:"button",onClick:G},i.createElement(v.b,{size:300,theme:"default"},R)))))))):i.createElement(ee,{notificationCenterObject:{notificationsList:V,unseenCount:H||0},lineOfBusiness:h,viewSize:A},i.createElement(u.Viewport,null,i.createElement(u.ViewMedium,null,i.createElement(Se,{ncTitle:R,ncRevealActions:j,ncIcon:M,emptyState:U,deleteActionForm:F,onClick:K,ncDescription:null!=P?P:R})),i.createElement(u.ViewSmall,null,i.createElement(be,{ncTitle:R,ncRevealActions:j,ncIcon:M,emptyState:U,deleteActionForm:F,onClick:K}))))};he.displayName="sharedui-NotificationCenter"}}]);
//# sourceMappingURL=shared-ui-customer-notification-center.2b739200ab2c9bd7f862.js.map
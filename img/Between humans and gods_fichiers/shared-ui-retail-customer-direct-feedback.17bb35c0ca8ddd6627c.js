/*@license For license information please refer to shared-ui-retail-customer-direct-feedback.licenses.txt*/
(self.__LOADABLE_LOADED_CHUNKS__=self.__LOADABLE_LOADED_CHUNKS__||[]).push([[4102],{90009:function(e,n,t){t.d(n,{IS:function(){return Dt}});var a=t(67294),r=t(98250),i=t(73030),o=t(29892),c=t(19633),l=t(41913),u=t(34353),d=t(49349),m=t(79221),s=t(69430),f=t(50319),p=t(71641),g=t(95878),v=t(39711),b=t(85213),E=t(29097),y=t(23984),k=t(91233),D=t(52818),h=t(77844),S=t(93351),F=t(5419),I=t(87862),x=t(27764),P=t(58153),C=t(46605),_=t(30300),G=t(10333),T=t(68369),N=t(35062),A=t(66547),L=t(66020),w=t(45638),O=t(80398),R=t(70094),M=t(53274),B=t(51330),V=t(8470),U=t(52175),j=t(8315);function q(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,a=new Array(n);t<n;t++)a[t]=e[t];return a}function H(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function z(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function $(e,n){for(var t=0;t<n.length;t++){var a=n[t];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function K(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function Q(e){return Q=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Q(e)}function J(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{},a=Object.keys(t);"function"==typeof Object.getOwnPropertySymbols&&(a=a.concat(Object.getOwnPropertySymbols(t).filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})))),a.forEach((function(n){K(e,n,t[n])}))}return e}function W(e,n){return n=null!=n?n:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):function(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);n&&(a=a.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,a)}return t}(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})),e}function X(e,n){return X=Object.setPrototypeOf||function(e,n){return e.__proto__=n,e},X(e,n)}function Y(e,n){return function(e){if(Array.isArray(e))return e}(e)||function(e,n){var t=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=t){var a,r,i=[],o=!0,c=!1;try{for(t=t.call(e);!(o=(a=t.next()).done)&&(i.push(a.value),!n||i.length!==n);o=!0);}catch(l){c=!0,r=l}finally{try{o||null==t.return||t.return()}finally{if(c)throw r}}return i}}(e,n)||function(e,n){if(!e)return;if("string"==typeof e)return q(e,n);var t=Object.prototype.toString.call(e).slice(8,-1);"Object"===t&&e.constructor&&(t=e.constructor.name);if("Map"===t||"Set"===t)return Array.from(t);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return q(e,n)}(e,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Z(e,n){return n||(n=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(n)}}))}function ee(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e}function ne(e){var n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var t,a=Q(e);if(n){var r=Q(this).constructor;t=Reflect.construct(a,arguments,r)}else t=a.apply(this,arguments);return function(e,n){return!n||"object"!==ee(n)&&"function"!=typeof n?H(e):n}(this,t)}}function te(){var e=Z(["\n  fragment EGDSIconFragment on Icon {\n    __typename\n    description\n    id\n    size\n    theme\n    title\n    withBackground\n  }\n"]);return te=function(){return e},e}function ae(){var e=Z(["\n  fragment EGDSIconTextFragment on EGDSIconText {\n    icon {\n      ...EGDSIconFragment\n    }\n    text\n  }\n\n  ","\n"]);return ae=function(){return e},e}function re(){var e=Z(["\n  fragment EGDSInlineLinkFragment on EGDSInlineLink {\n    uiLinkAction: action {\n      accessibility\n      analytics {\n        linkName\n        referrerId\n      }\n      resource {\n        value\n      }\n      target\n    }\n    disabled\n    size\n    text\n  }\n"]);return re=function(){return e},e}function ie(){var e=Z(["\n  fragment EGDSPlainTextFragment on EGDSPlainText {\n    __typename\n    text\n  }\n"]);return ie=function(){return e},e}function oe(){var e=Z(["\n  fragment EGDSStandardLinkFragment on EGDSStandardLink {\n    uiLinkAction: action {\n      accessibility\n      analytics {\n        linkName\n        referrerId\n      }\n      resource {\n        value\n      }\n      target\n    }\n    disabled\n    standardLinkIcon: icon {\n      ...EGDSIconFragment\n    }\n    iconPosition\n    size\n    text\n  }\n\n  ","\n"]);return oe=function(){return e},e}function ce(){var e=Z(["\n  fragment EGDSTextFragment on EGDSText {\n    __typename\n    text\n    ...EGDSPlainTextFragment\n    ...EGDSInlineLinkFragment\n    ...EGDSStandardLinkFragment\n    ...EGDSIconTextFragment\n  }\n\n  ","\n  ","\n  ","\n  ","\n"]);return ce=function(){return e},e}function le(){var e=Z(["\n  fragment EGDSSpannableTextFragment on EGDSSpannableText {\n    __typename\n    text\n    egdsElementId\n    contents {\n      ...EGDSTextFragment\n    }\n  }\n\n  ","\n"]);return le=function(){return e},e}function ue(){var e=Z(["\n  fragment DirectFeedbackTextListFragment on DirectFeedbackTextList {\n    __typename\n    bullet\n    listItems {\n      egdsElementId\n      icon {\n        ...EGDSIconFragment\n      }\n      text {\n        ...EGDSSpannableTextFragment\n      }\n      style\n    }\n  }\n\n  ","\n  ","\n"]);return ue=function(){return e},e}function de(){var e=Z(["\n  fragment EGDSErrorSummaryFragment on EGDSErrorSummary {\n    __typename\n    heading\n    body {\n      text\n    }\n  }\n"]);return de=function(){return e},e}function me(){var e=Z(["\n  fragment EGDSHeadingFragment on EGDSHeading {\n    __typename\n    text\n    headingType\n  }\n"]);return me=function(){return e},e}function se(){var e=Z(["\n  fragment DirectFeedbackDisplayElementFragment on DirectFeedbackFormDisplayElement {\n    __typename\n    ...EGDSErrorSummaryFragment\n    ...EGDSPlainTextFragment\n    ...EGDSHeadingFragment\n    ...EGDSSpannableTextFragment\n    ...DirectFeedbackTextListFragment\n  }\n  ","\n  ","\n  ","\n  ","\n  ","\n"]);return se=function(){return e},e}function fe(){var e=Z(["\n  fragment EGDSMaxLengthInputValidationFragment on EGDSMaxLengthInputValidation {\n    errorMessage\n    maxLength\n  }\n"]);return fe=function(){return e},e}function pe(){var e=Z(["\n  fragment EGDSMinLengthInputValidationFragment on EGDSMinLengthInputValidation {\n    errorMessage\n    minLength\n  }\n"]);return pe=function(){return e},e}function ge(){var e=Z(["\n  fragment EGDSRegexInputValidationFragment on EGDSRegexInputValidation {\n    errorMessage\n    pattern\n  }\n"]);return ge=function(){return e},e}function ve(){var e=Z(["\n  fragment EGDSRequiredInputValidationFragment on EGDSRequiredInputValidation {\n    errorMessage\n  }\n"]);return ve=function(){return e},e}function be(){var e=Z(["\n  fragment EGDSInputValidationFragment on EGDSInputValidation {\n    ...EGDSRegexInputValidationFragment\n    ...EGDSMaxLengthInputValidationFragment\n    ...EGDSMinLengthInputValidationFragment\n    ...EGDSRequiredInputValidationFragment\n  }\n\n  ","\n  ","\n  ","\n  ","\n"]);return be=function(){return e},e}function Ee(){var e=Z(["\n  fragment DirectFeedbackInputFieldFragment on DirectFeedbackInputField {\n    __typename\n    label\n    value\n    name\n    placeholder\n    validations {\n      ...EGDSInputValidationFragment\n    }\n    instructions\n    leftIcon {\n      ...EGDSIconFragment\n    }\n    rightIcon {\n      ...EGDSIconFragment\n    }\n    required\n  }\n  ","\n  ","\n"]);return Ee=function(){return e},e}function ye(){var e=Z(["\n  fragment EGDSCheckBoxFragment on EGDSCheckBox {\n    __typename\n    description\n    enabled\n    errorMessage\n    label {\n      text\n    }\n    name\n    required\n    state\n  }\n"]);return ye=function(){return e},e}function ke(){var e=Z(["\n  fragment DirectFeedbackMultiSelectGroupFragment on DirectFeedbackMultiSelectGroup {\n    __typename\n    errorMessage\n    groupName\n    multiSelectOptions: options {\n      ...EGDSCheckBoxFragment\n    }\n    selected\n    required\n    legend\n  }\n  ","\n"]);return ke=function(){return e},e}function De(){var e=Z(["\n  fragment DirectFeedbackRadioGroupFragment on DirectFeedbackRadioGroup {\n    __typename\n    errorMessage\n    groupName\n    radioGroupOptions: options {\n      description\n      disabled\n      label\n      labelSuffix\n      value\n    }\n    selected\n    required\n    legend\n  }\n"]);return De=function(){return e},e}function he(){var e=Z(["\n  fragment DirectFeedbackTextAreaFragment on DirectFeedbackTextArea {\n    __typename\n    label\n    value\n    name\n    placeholder\n    required\n    isEditable\n    minRows\n    maxRows\n    validations {\n      ...EGDSInputValidationFragment\n    }\n    instructions\n    leftIcon {\n      ...EGDSIconFragment\n    }\n    rightIcon {\n      ...EGDSIconFragment\n    }\n  }\n\n  ","\n  ","\n"]);return he=function(){return e},e}function Se(){var e=Z(["\n  fragment DirectFeedbackElementFragment on DirectFeedbackFormPageElement {\n    __typename\n    ...EGDSErrorSummaryFragment\n    ...EGDSPlainTextFragment\n    ...EGDSHeadingFragment\n    ...DirectFeedbackMultiSelectGroupFragment\n    ...EGDSSpannableTextFragment\n    ...DirectFeedbackRadioGroupFragment\n    ...DirectFeedbackInputFieldFragment\n    ...DirectFeedbackTextAreaFragment\n    ...DirectFeedbackTextListFragment\n  }\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n"]);return Se=function(){return e},e}function Fe(){var e=Z(["\n  fragment EGDSButtonFragment on EGDSButton {\n    __typename\n    accessibility\n    analytics {\n      __typename\n      referrerId\n      linkName\n    }\n    action {\n      ...UIActionFragment\n    }\n    disabled\n    icon {\n      ...EGDSIconFragment\n    }\n    primary\n  }\n\n  fragment UIActionFragment on UIAction {\n    __typename\n    analytics {\n      __typename\n      referrerId\n      linkName\n    }\n    accessibility\n  }\n"]);return Fe=function(){return e},e}function Ie(){var e=Z(["\n  fragment UIPrimaryButtonFragment on UIPrimaryButton {\n    ...EGDSButtonFragment\n  }\n\n  ","\n"]);return Ie=function(){return e},e}function xe(){var e=Z(["\n  fragment UISecondaryButtonFragment on UISecondaryButton {\n    ...EGDSButtonFragment\n  }\n\n  ","\n"]);return xe=function(){return e},e}function Pe(){var e=Z(["\n  fragment DirectFeedbackPageFragment on DirectFeedbackFormPage {\n    title\n    subtitle {\n      ...EGDSTextFragment\n    }\n    id\n    commands {\n      action {\n        ...DirectFeedbackOpenNextPageActionFragment\n\n        ...DirectFeedbackOpenPreviousPageActionFragment\n\n        ...DirectFeedbackSubmitFormActionFragment\n      }\n\n      ...EGDSButtonFragment\n    }\n    displayConditions {\n      fieldId\n      expectedValue\n      conditionType\n    }\n    elements {\n      __typename\n      ...DirectFeedbackElementFragment\n    }\n    footer {\n      __typename\n      ...DirectFeedbackDisplayElementFragment\n    }\n  }\n\n  fragment DirectFeedbackOpenNextPageActionFragment on DirectFeedbackOpenNextPageAction {\n    __typename\n    destinationId\n  }\n\n  fragment DirectFeedbackOpenPreviousPageActionFragment on DirectFeedbackOpenPreviousPageAction {\n    __typename\n    analytics {\n      linkName\n    }\n  }\n\n  fragment DirectFeedbackSubmitFormActionFragment on DirectFeedbackSubmitFormAction {\n    __typename\n    analytics {\n      linkName\n    }\n  }\n\n  ","\n  ","\n  ","\n  ","\n"]);return Pe=function(){return e},e}function Ce(){var e=Z(["\n  fragment DirectFeedbackPagesFragment on DirectFeedbackPrompt {\n    pages {\n      ...DirectFeedbackPageFragment\n    }\n  }\n\n  ","\n"]);return Ce=function(){return e},e}function _e(){var e=Z(["\n  query DirectFeedbackQuery($context: ContextInput!, $promptId: ID!) {\n    directFeedbackPromptById(context: $context, id: $promptId) {\n      ...DirectFeedbackPromptByIdFragment\n    }\n  }\n\n  fragment DirectFeedbackPromptByIdFragment on DirectFeedbackPrompt {\n    title\n    challenges {\n      action {\n        ... on ArkoseChallenge {\n          apiKey\n          src\n        }\n      }\n    }\n    ...DirectFeedbackPagesFragment\n  }\n\n  ","\n"]);return _e=function(){return e},e}function Ge(){var e=Z(["\n  mutation DirectFeedbackSubmit($context: ContextInput!, $id: ID!, $feedback: DirectFeedbackValuesInput!) {\n    directFeedbackSubmit(context: $context, id: $id, feedback: $feedback) {\n      errors {\n        ...DirectFeedbackSubmitErrorFragment\n      }\n    }\n  }\n\n  fragment DirectFeedbackSubmitErrorFragment on DirectFeedbackFieldError {\n    fieldId\n    error\n  }\n"]);return Ge=function(){return e},e}function Te(){var e=Z(["\n  fragment EGDSImageLinkFragment on EGDSImageLink {\n    uiLinkAction: action {\n      accessibility\n      analytics {\n        linkName\n        referrerId\n      }\n      resource {\n        value\n      }\n      target\n    }\n    image {\n      altText\n      aspectRatio\n      description\n      thumbnailClickAnalytics {\n        linkName\n        referrerId\n      }\n      url\n    }\n  }\n"]);return Te=function(){return e},e}function Ne(){var e=Z(["\n  fragment UITertiaryButtonFragment on UITertiaryButton {\n    ...EGDSButtonFragment\n  }\n\n  ","\n"]);return Ne=function(){return e},e}function Ae(){var e=Z(["\n  fragment DirectFeedbackCallToActionFragment on DirectFeedbackCallToAction {\n    promptId\n    eager\n    callToAction {\n      __typename\n      ...UIPrimaryButtonFragment\n      ...UISecondaryButtonFragment\n      ...UITertiaryButtonFragment\n      ...EGDSStandardLinkFragment\n      ...EGDSImageLinkFragment\n      ...EGDSInlineLinkFragment\n    }\n    postSubmitDisplay {\n      __typename\n      ...UIPrimaryButtonFragment\n      ...UISecondaryButtonFragment\n      ...UITertiaryButtonFragment\n      ...EGDSStandardLinkFragment\n      ...EGDSSpannableTextFragment\n      ...EGDSInlineLinkFragment\n      ...EGDSImageLinkFragment\n    }\n    contextValues {\n      ...GraphQLPairFragment\n    }\n  }\n\n  fragment GraphQLPairFragment on GraphQLPair {\n    key\n    value\n  }\n\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n"]);return Ae=function(){return e},e}var Le=Object.defineProperty,we=function(e,n,t){return function(e,n,t){n in e?Le(e,n,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[n]=t}(e,"symbol"!==(void 0===n?"undefined":ee(n))?n+"":n,t),t},Oe=function e(n,t){z(this,e),we(this,"type",2),we(this,"promptId"),we(this,"error"),this.promptId=n,this.error=t},Re=function e(n){z(this,e),we(this,"type",1),we(this,"promptId"),this.promptId=n},Me=function e(n,t,a){z(this,e),we(this,"type",0),we(this,"promptId"),we(this,"context"),we(this,"formValues"),this.promptId=n,this.context=t,this.formValues=a},Be=function e(n,t){z(this,e),we(this,"type",3),we(this,"promptId"),we(this,"data"),this.promptId=n,this.data=t},Ve=function e(n,t,a){z(this,e),we(this,"type",4),we(this,"fieldId"),we(this,"promptId"),we(this,"value"),this.fieldId=t,this.promptId=n,this.value=a},Ue=function e(n){z(this,e),we(this,"type",0),we(this,"action"),this.action=n},je=function e(n){z(this,e),we(this,"type",1),we(this,"action"),this.action=n},qe=function e(n){z(this,e),we(this,"type",2),we(this,"action"),this.action=n},He=function e(n,t,a){z(this,e),we(this,"type",3),we(this,"fieldId"),we(this,"value"),we(this,"isValid"),this.fieldId=n,this.value=t,this.isValid=a},ze=function(){return a.createElement(y.v,{justifyContent:"center"},a.createElement(k.t,null,a.createElement(D.y,null)))},$e=(0,s.Ps)(te()),Ke=0,Qe=function(e){var n,t,r=e.data,i=(0,a.useMemo)((function(){return Ke+=1}),[]);return a.createElement(C.fR,{description:r.description,name:r.id,id:"uitk-icon-".concat(r.id,"-").concat(i),size:r.size?C.eZ[r.size]:void 0,title:null!==(n=r.title)&&void 0!==n?n:void 0,theme:null!==(t=r.theme)&&void 0!==t?t:void 0,shadow:Boolean(r.withBackground)})};Qe.displayName="EGDSIcon",Qe.fragment=$e;var Je=(0,s.Ps)(ae(),Qe.fragment),We=function(e){var n=e.data,t=n.icon,r=n.text;return a.createElement(a.Fragment,null,a.createElement(S.l,{margin:{inlineend:"one"}},a.createElement(Qe,{data:t})),a.createElement(S.l,{margin:{inlineend:"one"}},a.createElement(_.b,{inline:!0},r)))};We.fragment=Je,We.displayName="EGDSIconText";var Xe,Ye,Ze=(0,s.Ps)(re()),en=(K(Xe={},"SMALL","small"),K(Xe,"MEDIUM","medium"),K(Xe,"LARGE","large"),Xe),nn=(K(Ye={},"EXTERNAL","_blank"),K(Ye,"INTERNAL","_self"),Ye),tn=function(e){var n=e.onClick,t=e.data,i=t.uiLinkAction,o=i.analytics,c=i.resource,l=i.target,u=i.accessibility,d=t.disabled,m=(t.size,t.text),s=(0,r.useClickTracker)(),f=(0,a.useMemo)((function(){return{id:o.referrerId,description:o.linkName,callback:function(e,n,t){s(e,n)}}}),[o,s]);return a.createElement(G.M,{size:"large",disabled:d,analytics:f,onClick:n,inline:!0},a.createElement("a",{href:c.value,target:nn[l]},m,u&&a.createElement("span",{className:"is-visually-hidden"},u)))};tn.fragment=Ze,tn.displayName="EGDSInlineLink";var an=(0,s.Ps)(ie()),rn=function(e){var n=e.data,t=e.inline,r=void 0!==t&&t;return a.createElement(_.b,{size:400,inline:r},n.text)};rn.fragment=an,rn.displayName="EGDSPlainText";var on=(0,s.Ps)(oe(),Qe.fragment),cn=function(e){var n=e.icon,t=e.iconPosition,r=e.iconPositionToMatch;return n&&t===r?a.createElement(Qe,{data:n}):null},ln=function(e){var n=e.className,t=e.inline,r=e.onClick,i=e.data,o=i.uiLinkAction,c=o.resource,l=o.target,u=o.accessibility,d=i.disabled,m=i.iconPosition,s=i.standardLinkIcon,f=i.size,p=i.text;return a.createElement(G.M,{className:n,size:en[f],inline:t,disabled:d,onClick:r},a.createElement("a",{target:nn[l],href:c.value},a.createElement(cn,{icon:s,iconPosition:m,iconPositionToMatch:"LEADING"}),p,a.createElement(cn,{icon:s,iconPosition:m,iconPositionToMatch:"TRAILING"}),u&&a.createElement(_.b,{className:"is-visually-hidden"},u)))};ln.fragment=on,ln.displayName="EGDSStandardLink";var un=(0,s.Ps)(ce(),We.fragment,rn.fragment,tn.fragment,ln.fragment),dn={EGDSPlainText:rn,EGDSInlineLink:tn,EGDSStandardLink:ln,EGDSIconText:We},mn=function(e){var n=e.data,t=e.inline,r=void 0!==t&&t,i=dn[n.__typename]||rn;return a.createElement(i,{inline:r,data:n})};mn.fragment=un,mn.displayName="EGDSText";var sn=(0,s.Ps)(le(),mn.fragment),fn=function(e){var n=e.data;return a.createElement(a.Fragment,null,n.contents?n.contents.map((function(e,n){return a.createElement(mn,{inline:!0,data:e,key:"EGDSSpannableTextContents_".concat(n)})})):a.createElement(mn,{data:n}))};fn.fragment=sn,fn.displayName="EGDSSpannableText";var pn,gn=(0,s.Ps)(ue(),Qe.fragment,fn.fragment),vn=(K(pn={},"DEFAULT","default"),K(pn,"ICON_ALTERNATE","icon-alternate"),K(pn,"ICON_STANDARD","icon-standard"),K(pn,"NO_BULLET","no-bullet"),K(pn,"UNRECOGNIZED",void 0),pn),bn=function(e){var n=e.data;return n.listItems.length?a.createElement(x.Y,{bullet:vn[n.bullet]},n.listItems.map((function(e){var n=e.icon,t=e.egdsElementId,r=e.text;return a.createElement(P.m,{key:t},n?a.createElement(Qe,{data:n}):null,"EGDSSpannableText"===r.__typename&&a.createElement(fn,{data:r}))}))):null};bn.fragment=gn,bn.displayName="DirectFeedbackTextList";var En=(0,s.Ps)(de()),yn=function(e){var n,t=e.data,r=t.heading,i=null===(n=t.body)||void 0===n?void 0:n.text;return a.createElement(v.a,{heading:r,description:i})};yn.displayName="ErrorSummary",(yn.fragment=En).__typename="EGDSErrorSummary";var kn,Dn=(0,s.Ps)(me()),hn=(K(kn={},"H1","h1"),K(kn,"H2","h2"),K(kn,"H3","h3"),K(kn,"H4","h4"),K(kn,"H5","h5"),K(kn,"H6","h6"),K(kn,"H7","h6"),K(kn,"H8","h6"),kn),Sn=function(e){var n=e.data;return a.createElement(F.y,{tag:n.headingType?hn[n.headingType]:void 0},n.text)};Sn.fragment=Dn,Sn.displayName="EGDSHeading";var Fn=(0,s.Ps)(se(),yn.fragment,rn.fragment,Sn.fragment,fn.fragment,bn.fragment),In={EGDSPlainText:rn,EGDSHeading:Sn,EGDSSpannableText:fn,DirectFeedbackTextList:bn,EGDSErrorSummary:yn},xn=function(e){var n=e.data,t=In[n.__typename];return t?a.createElement(t,{data:n}):a.createElement("pre",null,JSON.stringify(n,null,2))};xn.fragment=Fn,xn.displayName="DirectFeedbackDisplayElement",xn.supportedTypes=Object.keys(In);var Pn=(0,s.Ps)(fe()),Cn=function(e){return{validate:function(n){return function(e,n){return e&&e.length>n.maxLength?{invalid:n.errorMessage}:{}}(n,e)}}};Cn.fragment=Pn;var _n=(0,s.Ps)(pe()),Gn=function(e){return{validate:function(n){return function(e,n){return e&&e.length<n.minLength?{invalid:n.errorMessage}:{}}(n,e)}}};Gn.fragment=_n;var Tn=(0,s.Ps)(ge()),Nn=function(e){return{validate:function(n){return function(e,n){var t,a=new RegExp(n.pattern);return(null===(t=e)||void 0===t?void 0:t.trim())&&!e.match(a)?{invalid:n.errorMessage}:{}}(n,e)}}};Nn.fragment=Tn;var An=(0,s.Ps)(ve()),Ln=function(e){return{validate:function(n){return function(e,n){var t;return(null===(t=e)||void 0===t?void 0:t.trim())?{}:{invalid:n.errorMessage}}(n,e)}}};Ln.fragment=An;var wn=(0,s.Ps)(be(),Nn.fragment,Ln.fragment,Cn.fragment,Gn.fragment),On=function(e){var n=function(e){return e.map((function(e){switch(e.__typename){case"EGDSRegexInputValidation":return J({},e,Nn(e));case"EGDSMaxLengthInputValidation":return J({},e,Cn(e));case"EGDSMinLengthInputValidation":return J({},e,Gn(e));case"EGDSRequiredInputValidation":return J({},e,Ln(e));default:return{validate:function(){return{}}}}}))}(e||[]);return{validate:function(e){return n.map((function(n){return n.validate(e)})).find((function(e){var n;return void 0!==(null===(n=e)||void 0===n?void 0:n.invalid)}))||{}}}},Rn=(0,s.Ps)(Ee(),wn,Qe.fragment),Mn=0,Bn=function(e){var n,t=e.data,r=t.label,i=t.required,o=t.placeholder,c=t.value,l=t.name,u=t.leftIcon,d=t.validations,m=e.onChange,s=e.value,f=(0,a.useMemo)((function(){return Mn+=1}),[]),p=(0,a.useMemo)((function(){return On(d)}),[d]),g=Y((0,a.useState)(void 0),2),v=g[0],b=g[1],E=(0,a.useCallback)((function(e){if(m){var n=p.validate(e.target.value).invalid;b(n),m(e.target.name,e.target.value,!(void 0!==n||i&&!e.target.value))}}),[m,i,p]);return a.createElement(T.w,{id:"uitk-text-input-".concat(l,"-").concat(f),label:r||"",value:s||c||void 0,name:l||void 0,hasVisibleLabel:""!==r,placeholder:o||void 0,required:i||!1,onChange:E,icon:(null===(n=u)||void 0===n?void 0:n.id)||void 0,invalid:v})};Bn.fragment=Rn,Bn.displayName="DirectFeedbackInputField";var Vn=(0,s.Ps)(ye()),Un=function(e){var n,t=e.data,r=e.onChange,i=e.checked,o=e.required;return a.createElement(A.R,{checked:null!==i?i:"CHECKED"===t.state,indeterminate:null!==i&&"INDETERMINATE"===t.state,description:t.description||void 0,required:t.required||o,label:null===(n=t.label)||void 0===n?void 0:n.text,disabled:!t.enabled,name:t.name||void 0,id:t.name||void 0,errorMessage:t.errorMessage||void 0,onChange:function(e){r&&r(t.name,e.currentTarget.checked)}},t.label.text)};Un.fragment=Vn,Un.displayName="EGDSCheckBox";var jn=(0,s.Ps)(ke(),Un.fragment),qn=function(e){var n,t=e.data,r=e.onChange,i=e.value,o=t.groupName,c=t.errorMessage,l=t.multiSelectOptions,u=t.required,d=t.legend,m=Y((0,a.useState)({values:i||(null===(n=t.selected)||void 0===n?void 0:n.split(","))||[]}),2),s=m[0],f=m[1],p=(0,a.useCallback)((function(e,n){var t,a=function(e,n){var t=e.values;return n.value?e.values.includes(n.name)||(t=t.concat([n.name])):t=t.filter((function(e){return e!==n.name})),{values:t}}(s,{name:e,value:n});(f(a),r)&&r(o,a.values,!u||!!(null===(t=a.values)||void 0===t?void 0:t.length))}),[r,o,u,s]);return a.createElement(N.D,{group:o,errorMessage:c||void 0,legendLabel:d},l.map((function(e,n){return a.createElement(Un,{checked:s.values.includes(e.name||""),required:t.required?0===s.values.length:void 0,data:e,key:"".concat(e.name,"_").concat(n),onChange:p})})))};qn.fragment=jn,qn.displayName="DirectFeedbackMultiSelectGroup";var Hn=(0,s.Ps)(De()),zn=function(e){var n=e.data,t=e.onChange,r=e.value,i=n.groupName,o=n.errorMessage,c=n.radioGroupOptions,l=n.required,u=n.legend,d=Y((0,a.useState)({value:r||n.selected||void 0}),2),m=d[0],s=d[1],f=(0,a.useCallback)((function(e){var n={value:e.currentTarget.value};s(n),t&&t(i,n.value,!l||!!n.value)}),[t,i,l]);return a.createElement(L.s,{group:i,errorMessage:o||void 0,selected:m.value,onChange:f,legendLabel:u},c.map((function(e,n){return a.createElement(S.l,{key:"".concat(i,"_option").concat(n),margin:{blockend:"two"}},a.createElement("div",null,a.createElement(w.n,{id:e.value||"".concat(i,"_option").concat(n),value:e.value||"".concat(i,"_option").concat(n),labelSuffix:e.labelSuffix||void 0,description:e.description||void 0},e.label)))})))};zn.fragment=Hn,zn.displayName="DirectFeedbackRadioGroup";var $n=(0,s.Ps)(he(),wn,Qe.fragment),Kn=0,Qn=function(e){var n=e.data,t=n.isEditable,r=n.label,i=n.maxRows,o=n.minRows,c=n.placeholder,l=n.value,u=n.name,d=n.required,m=n.validations,s=e.onChange,f=e.value,p=(0,a.useMemo)((function(){return Kn+=1}),[]),g=(0,a.useMemo)((function(){return On(m)}),[m]),v=Y((0,a.useState)(void 0),2),b=v[0],E=v[1],y=(0,a.useCallback)((function(e){if(s){var n=g.validate(e.target.value).invalid;E(n),s(e.target.name,e.target.value,!(void 0!==n||d&&!e.target.value))}}),[s,d,g]);return a.createElement(O.J,{id:"uitk-text-area-".concat(u,"-").concat(p),label:r||"",value:f||l||void 0,name:u||void 0,disabled:!t,hasVisibleLabel:""!==r,maxRows:i||void 0,minRows:o||void 0,placeholder:c||void 0,onChange:y,required:d||!1,invalid:b})};Qn.fragment=$n,Qn.displayName="DirectFeedbackTextArea";var Jn=(0,s.Ps)(Se(),yn.fragment,rn.fragment,Sn.fragment,qn.fragment,fn.fragment,zn.fragment,Bn.fragment,Qn.fragment,bn.fragment),Wn={DirectFeedbackMultiSelectGroup:qn,DirectFeedbackRadioGroup:zn,DirectFeedbackInputField:Bn,DirectFeedbackTextArea:Qn},Xn={DirectFeedbackMultiSelectGroup:function(e,n){return n.get(e.groupName)},DirectFeedbackRadioGroup:function(e,n){return n.get(e.groupName)},DirectFeedbackInputField:function(e,n){return e.name?n.get(e.name):null},DirectFeedbackTextArea:function(e,n){return e.name?n.get(e.name):null}};var Yn=function(e){var n=e.data,t=e.onChange,r=e.values,i=Wn[n.__typename],o=(0,a.useCallback)((function(e,n,a){var r;null===(r=t)||void 0===r||r(e,n,a)}),[t]);if(i){var c=Xn[n.__typename];return c?a.createElement(i,{data:n,value:c(n,r),onChange:o}):null}return function(e){return!!xn.supportedTypes.find((function(n){return e.__typename===n}))}(n)?a.createElement(xn,{data:n}):a.createElement("pre",null,JSON.stringify(n,null,2))};Yn.fragment=Jn,Yn.displayName="DirectFeedbackElement";var Zn,et,nt,tt=(0,s.Ps)(Fe()),at=(0,s.Ps)(Ie(),tt),rt=((Zn=function(e){var n=e.actionDispatch,t=e.buttonProps,r=void 0===t?{}:t,i=e.data,o=i.action,c=r.onClick,l=(0,a.useCallback)((function(e){n&&o&&n(o),c&&c(e)}),[n,o,c]);return a.createElement(R.Y,W(J({type:"button",disabled:i.disabled},r),{onClick:l}),i.primary," ",i.icon&&a.createElement(Qe,{data:i.icon}))}).displayName="UIPrimaryButton",Zn.fragment=at,Zn),it=(0,s.Ps)(xe(),tt),ot=((et=function(e){var n=e.actionDispatch,t=e.buttonProps,r=void 0===t?{}:t,i=e.data,o=i.action,c=r.onClick,l=(0,a.useCallback)((function(e){n&&o&&n(o),c&&c(e)}),[n,o,c]);return a.createElement(M.p,W(J({type:"button"},r),{onClick:l,disabled:i.disabled}),i.primary," ",i.icon&&a.createElement(Qe,{data:i.icon}))}).displayName="UISecondaryButton",et.fragment=it,et),ct={UIPrimaryButton:rt,UISecondaryButton:ot},lt=((nt=function(e){var n=e.actionDispatch,t=e.buttonProps,i=e.data,o=ct[i.__typename]||ot,c=i.analytics,l=(0,r.useClickTracker)(),u=J({},t),d=u.onClick;return u.onClick=(0,a.useCallback)((function(e){c&&l("".concat(c.referrerId),c.linkName,!1),d&&d(e)}),[c,l,d]),a.createElement(o,{data:i,buttonProps:u,actionDispatch:n})}).displayName="EGDSButton",nt.fragment=tt,nt),ut=(0,s.Ps)(Pe(),Yn.fragment,xn.fragment,lt.fragment,mn.fragment),dt=function(e){var n,t,r,i,o,c=e.data,l=e.eventDispatch,u=e.values,d=e.valuesValidation,m=(0,a.useMemo)((function(){return{DirectFeedbackOpenNextPageAction:function(e){l&&l(new qe(e))},DirectFeedbackOpenPreviousPageAction:function(e){l&&l(new je(e))},DirectFeedbackSubmitFormAction:function(e){l&&l(new Ue(e))}}}),[l]),s=(0,a.useCallback)((function(e,n,t){l&&l(new He(e,n,t))}),[l]),f=null===(n=c.elements)||void 0===n?void 0:n.filter((function(e){return"name"in e||"groupName"in e})).map((function(e){return"name"in e?e.name:e.groupName})).reduce((function(e,n){return e&&(!d.has(n)||d.get(n))}),!0);return a.createElement(S.l,{margin:"two"},a.createElement(h.$,{hasRequiredFieldIndicator:!0},a.createElement(y.v,{space:"four",direction:"column"},(c.title||(null===(t=c.subtitle)||void 0===t?void 0:t.text))&&a.createElement(k.t,null,a.createElement("div",null,c.title&&a.createElement(F.y,{tag:"h3",size:4},c.title),c.subtitle&&a.createElement(I.w,null,c.subtitle.text))),(null===(r=c.elements)||void 0===r?void 0:r.length)?c.elements.map((function(e,n){return a.createElement(k.t,{key:"".concat(e.__typename,"_").concat(n)},a.createElement("div",null,a.createElement(Yn,{data:e,values:u,onChange:s})))})):null,(null===(i=c.commands)||void 0===i?void 0:i.length)?a.createElement(k.t,null,a.createElement(S.l,{margin:{blockstart:"four",blockend:"four"}},a.createElement(y.v,{justifyContent:"space-between"},c.commands.map((function(e,n){var t,r,i=(null===(r=e)||void 0===r||null===(t=r.action)||void 0===t?void 0:t.__typename)||"",o=m[i],c=("DirectFeedbackOpenNextPageAction"===i||"DirectFeedbackSubmitFormAction"===i)&&!f;return a.createElement(k.t,{key:"EGDSButton_".concat(n)},a.createElement(lt,{data:e,actionDispatch:o,buttonProps:{disabled:c}}))}))))):null,(null===(o=c.footer)||void 0===o?void 0:o.length)?c.footer.map((function(e,n){return a.createElement(k.t,{key:"".concat(e.__typename,"_").concat(n)},a.createElement("div",null,a.createElement(xn,{data:e})))})):null)))};dt.fragment=ut,dt.displayName="DirectFeedbackPage";var mt=(0,s.Ps)(Ce(),dt.fragment),st=function(e){var n=e.flatMap((function(e){return e.elements})).filter((function(e){return"name"in e||"groupName"in e})).filter((function(e){return"required"in e&&e.required})).map((function(e){return"name"in e?e.name:e.groupName})),t=new Map;return n.forEach((function(e){t.set(e,!1)})),{pageIndexStack:[0],numPages:e.length,record:new Map,recordValidation:t}},ft=function(e,n){n.pageIndexStack[n.pageIndexStack.length-1];var t=e.slice((n.pageIndexStack[n.pageIndexStack.length-1]||0)+1).findIndex((function(e){return function(e,n){return!e.displayConditions||e.displayConditions.every((function(e){var t,a=n.get(e.fieldId);switch(e.conditionType){case"BOOL":case"TEXT":t=e.expectedValue===a;break;case"PATTERN":t=new RegExp(e.expectedValue).test(a);break;default:t=!0}return t}))}(e,n.record)}));return t>=0?t+1+(n.pageIndexStack[n.pageIndexStack.length-1]||0):e.length},pt=function(e){var n=e.data,t=e.doSubmit,r=e.doClose,i=e.doFormValueChanged,o=n.pages,c=(0,a.useCallback)((function(e,n){var t,a,r={pageIndexStack:e.pageIndexStack.slice(0),numPages:e.numPages,record:new Map(e.record),recordValidation:new Map(e.recordValidation)};switch(n.type){case 0:r.pageIndexStack.push(ft(o,e));break;case 2:if((a=n).action.destinationId){var i=o.findIndex((function(e){return e.id===a.action.destinationId}));r.pageIndexStack.push(i)}else r.pageIndexStack.push(ft(o,e));break;case 1:r.pageIndexStack.length>1&&r.pageIndexStack.pop();break;case 3:t=n,r.record.set(t.fieldId,t.value),r.recordValidation.set(t.fieldId,t.isValid)}return r}),[o]),l=Y((0,a.useReducer)(c,o,st),2),u=l[0],d=l[1],m=Y((0,a.useState)(!1),2),s=m[0],f=m[1],p=(0,a.useCallback)((function(e){switch(e.type){case 0:t&&(f(!0),t(Array.from(u.record.keys()).map((function(e){var n;return{key:e,value:null===(n=u.record.get(e))||void 0===n?void 0:n.toString()}}))).then((function(){d(e),f(!1)})).catch((function(){f(!1)})));break;case 3:if(i)i(e);d(e);break;default:d(e)}}),[d,t,u,f]);(0,a.useEffect)((function(){(u.pageIndexStack[u.pageIndexStack.length-1]||0)>=u.numPages&&r&&r()}));var g=u.pageIndexStack[u.pageIndexStack.length-1]||0,v=o[g];return s?a.createElement(ze,null):g<u.numPages&&v?a.createElement(dt,{data:v,eventDispatch:p,values:u.record,valuesValidation:u.recordValidation}):null};pt.fragment=mt,pt.displayName="DirectFeedbackPages";var gt=function(e){!function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),n&&X(e,n)}(o,e);var n,t,r,i=ne(o);function o(e){var n;return z(this,o),n=i.call(this,e),we(H(n),"myEnforcement"),we(H(n),"scriptId"),we(H(n),"removeScript",(function(){var e=document.getElementById(n.scriptId);e&&e.remove()})),we(H(n),"loadScript",(function(){n.removeScript();var e=document.createElement("script");return e.id=n.scriptId,e.type="text/javascript",e.src=n.props.clientApiUrl,e.setAttribute("data-callback","setupEnforcement"),e.async=!0,e.defer=!0,n.props.nonce&&e.setAttribute("data-nonce",n.props.nonce),document.body.appendChild(e),e})),we(H(n),"setupEnforcement",(function(e){n.myEnforcement=e,n.myEnforcement.setConfig({selector:n.props.selector,mode:n.props.mode,onReady:n.props.onReady,onShown:n.props.onShown,onShow:n.props.onShow,onSuppress:n.props.onSuppress,onCompleted:n.props.onCompleted,onReset:n.props.onReset,onHide:n.props.onHide,onError:n.props.onError,onFailed:n.props.onFailed})})),n.myEnforcement=null,n.scriptId="",n}return n=o,(t=[{key:"componentDidMount",value:function(){var e=this;this.scriptId="arkose-script-".concat(this.props.publicKey),this.loadScript().onload=function(){window.setupEnforcement=e.setupEnforcement.bind(e)}}},{key:"componentDidUpdate",value:function(e,n,t){this.myEnforcement&&this.setupEnforcement(this.myEnforcement)}},{key:"componentWillUnmount",value:function(){window.setupEnforcement&&delete window.setupEnforcement,this.removeScript()}},{key:"render",value:function(){var e,n;return a.createElement(a.Fragment,null,"inline"===this.props.mode&&a.createElement("div",{id:null===(n=this.props)||void 0===n||null===(e=n.selector)||void 0===e?void 0:e.slice(1)}))}}])&&$(n.prototype,t),r&&$(n,r),o}(a.Component),vt=(0,s.Ps)(_e(),pt.fragment),bt=(0,s.Ps)(Ge()),Et=function(e){var n=e.data,t=e.mutationErrors,r=e.doSubmit,i=e.doClose,o=e.doFormValueChanged;return a.createElement(b.a,{space:"two"},t&&t.length>0?t.map((function(e,n){return a.createElement(E.P,{key:"UitkErrorSummary_".concat(n)},a.createElement(v.a,{heading:"",description:e.error}))})):null,a.createElement(E.P,null,a.createElement(pt,{data:n,doClose:i,doSubmit:r,doFormValueChanged:o})))},yt=function(e){var n,t=e.error;return a.createElement(v.a,{heading:(null===(n=t)||void 0===n?void 0:n.message)||""})},kt=function(e){var n,t,r,i,o,c,l,u,d,m,s=e.inputs,v=e.eventDispatch,b=e.contextValues,E=(0,g.v)().context,y=s.promptId,k=(0,a.useMemo)((function(){return(null!=b?b:[]).map((function(e){return{key:e.key,value:e.value}}))}),[b]),D=W(J({},s),{context:E}),h=Y((0,f.D)(bt),2),S=h[0],F=h[1],I=F.data,x=(F.loading,F.error,(0,a.useCallback)((function(e){v&&setTimeout((function(){return v(e)}))}),[v])),P=(0,a.useCallback)((function(e){x(new Oe(y,e))}),[y,x]),C=(0,a.useCallback)((function(e){e.directFeedbackPromptById&&x(new Be(y,e.directFeedbackPromptById))}),[y,x]),_=(0,p.a)(vt,{variables:D,onError:P,onCompleted:C}),G=_.data,T=_.error,N=_.loading;(null===(t=G)||void 0===t||null===(n=t.directFeedbackPromptById)||void 0===n?void 0:n.challenges)&&(null===(i=G)||void 0===i||null===(r=i.directFeedbackPromptById)||void 0===r?void 0:r.challenges.length)>0&&(l=null===(m=G)||void 0===m||null===(d=m.directFeedbackPromptById)||void 0===d||null===(u=d.challenges[0])||void 0===u?void 0:u.action);var A=(0,a.useRef)(null),L=Y((0,a.useState)(),2),w=L[0],O=L[1],R=Y((0,a.useState)(),2),M=R[0],B=R[1],V=Y((0,a.useState)(),2),U=V[0],j=V[1],q=(0,a.useCallback)((function(){var e=new Promise((function(e,n){j((function(){return n})),B((function(){return e}))}));O(e)}),[O,B,j]),H=(0,a.useCallback)((function(){U&&U(),q()}),[U,q]);(0,a.useEffect)((function(){q()}),[q]);var z,$=(0,a.useCallback)((function(e,n){var t;return S({variables:{context:E,feedback:{formValues:e,context:k,atoShieldValidation:n?{captchaToken:n}:void 0},id:null===(t=s)||void 0===t?void 0:t.promptId}}).then((function(){v&&v(new Me(y,k,e))}))}),[y,v,S,k,E,null===(o=s)||void 0===o?void 0:o.promptId]),K=(0,a.useCallback)((function(e){var n;return l&&A.current&&w?(null===(n=A.current.myEnforcement)||void 0===n||n.run(),w.then((function(n){return $(e,n.token)}))):$(e)}),[A,w,l,$]),Q=(0,a.useCallback)((function(){v&&v(new Re(y))}),[y,v]),X=(0,a.useCallback)((function(e){v&&v(new Ve(y,e.fieldId,e.value))}),[y,v]);if(N)z=a.createElement(ze,null);else if(null===(c=G)||void 0===c?void 0:c.directFeedbackPromptById){var Z;z=a.createElement(a.Fragment,null,a.createElement(Et,{data:G.directFeedbackPromptById,mutationErrors:(null===(Z=I)||void 0===Z?void 0:Z.directFeedbackSubmit.errors)||[],doSubmit:K,doClose:Q,doFormValueChanged:X}),l&&a.createElement(gt,{publicKey:l.apiKey,clientApiUrl:l.src,onCompleted:M,onHide:H,ref:A}))}else z=a.createElement(yt,{error:T});return z};kt.displayName="sharedui-DirectFeedbackPrompt";var Dt=function(e){var n,t,s=e.inputs,f=e.eventDispatch,p=e.contextValues,g=e.triggerRef,v=e.dialogQueryId,b=(0,o.useLocalization)().formatText,E=s.promptId,y=a.useRef(null),k=Y((0,i.useDialog)(v||E,"cdfPromptDialog"),3),D=k[1],h=k[2],S=Y((0,a.useState)(""),2),F=S[0],I=S[1],x=D.closeDialog,P=(0,r.useClickTracker)(),C=(0,a.useCallback)((function(e,n,t){P(e,"Direct feedback prompt close",!1)}),[P]),_=(0,a.useCallback)((function(e){switch(e.type){case 1:x();break;case 3:var n;I((null===(n=e.data)||void 0===n?void 0:n.title)||"")}f&&setTimeout((function(){return f(e)}))}),[x,f]),G=(0,a.useCallback)((function(){f&&f(new Re(E))}),[E,f]),T=(0,a.useCallback)((function(){D.closeDialog()}),[D]);return a.createElement(l.U,{isVisible:!0,closeCallback:G},a.createElement(h,null,a.createElement(c.Viewport,null,a.createElement(c.ViewSmall,null,a.createElement(u.K,{isVisible:!0,closeCallback:G,triggerRef:g||y,type:"full",returnFocusOnClose:!0},a.createElement(m.b,{navigationContent:{onClick:T,navType:"close",navIconLabel:null!==(n=b("close.dialog"))&&void 0!==n?n:"Close",onClickAnalytics:{id:"DirectFeedback.".concat(E,".dialog"),callback:C}},toolbarTitle:F}),a.createElement(d.z,null,a.createElement(kt,{inputs:s,eventDispatch:_,contextValues:p})))),a.createElement(c.ViewLarge,null,a.createElement(u.K,{isVisible:!0,closeCallback:G,triggerRef:y,type:"centered",returnFocusOnClose:!0},a.createElement(m.b,{navigationContent:{onClick:T,navType:"close",navIconLabel:null!==(t=b("close.dialog"))&&void 0!==t?t:"Close",onClickAnalytics:{id:"DirectFeedback.".concat(E,".dialog"),callback:C}},toolbarTitle:F}),a.createElement(d.z,null,a.createElement(kt,{inputs:s,eventDispatch:_,contextValues:p})))))))};Dt.displayName="sharedui-DirectFeedbackDialog";var ht,St=(0,s.Ps)(Te()),Ft=(K(ht={},"ONE_ONE",B.s.R1_1),K(ht,"FOUR_ONE",B.s.R4_1),K(ht,"FOUR_THREE",B.s.R4_3),K(ht,"SIXTEEN_NINE",B.s.R16_9),K(ht,"THREE_TWO",B.s.R3_2),K(ht,"THREE_FOUR",B.s.R3_4),K(ht,"TWENTY_ONE_NINE",B.s.R21_9),ht),It=function(e){var n=e.onClick,t=e.data,i=t.uiLinkAction.analytics,o=i.referrerId,c=i.linkName,l=t.image,u=(0,r.useClickTracker)(),d=(0,a.useCallback)((function(e){u(o,c),n&&n(e)}),[o,c,n]);return a.createElement(B.N,{roundcorner:!0,ratio:l.aspectRatio?Ft[l.aspectRatio]:B.s.R16_9},a.createElement(V.p,{placeholderImage:!0,alt:l.altText||"",src:l.url}),a.createElement(U.F,null,a.createElement("button",{type:"button",onClick:d},l.description)))};It.fragment=St,It.displayName="EGDSImageLink";var xt=function(e){var n=e.data,t=e.onClick;return n.uiLinkAction.resource={__typename:"Uri",value:"javascript:void(0)"},a.createElement(It,{data:n,onClick:t})};xt.fragment=It.fragment,xt.displayName="DirectFeedbackCallToActionImageLinkAdapter";var Pt=function(e){var n=e.data,t=e.onClick;return n.uiLinkAction.resource={__typename:"Uri",value:"javascript:void(0)"},a.createElement(tn,{data:n,onClick:t})};Pt.fragment=tn.fragment,Pt.displayName="DirectFeedbackCallToActionInlineLinkAdapter";var Ct=function(e){var n=e.data,t=e.onClick;return a.createElement(rt,{data:n,buttonProps:{onClick:t}})};Ct.fragment=rt.fragment,Ct.displayName="DirectFeedbackCallToActionPrimaryButtonAdapter";var _t=function(e){var n=e.data,t=e.onClick;return a.createElement(ot,{data:n,buttonProps:{onClick:t}})};_t.fragment=ot.fragment,_t.displayName="DirectFeedbackCallToActionSecondaryButtonAdapter";var Gt=function(e){var n=e.data,t=e.onClick;return n.uiLinkAction.resource={__typename:"Uri",value:"javascript:void(0)"},a.createElement(ln,{data:n,onClick:t})};Gt.fragment=ln.fragment,Gt.displayName="DirectFeedbackCallToActionStandardLinkAdapter";var Tt,Nt=(0,s.Ps)(Ne(),tt),At=((Tt=function(e){var n=e.actionDispatch,t=e.buttonProps,r=void 0===t?{}:t,i=e.data,o=i.action,c=r.onClick,l=(0,a.useCallback)((function(e){n&&o&&n(o),c&&c(e)}),[n,o,c]);return a.createElement(j.m,W(J({type:"button"},r),{onClick:l,disabled:i.disabled}),i.primary," ",i.icon&&a.createElement(Qe,{data:i.icon}))}).displayName="UITertiaryButton",Tt.fragment=Nt,Tt),Lt=function(e){var n=e.data,t=e.onClick;return a.createElement(At,{data:n,buttonProps:{onClick:t}})};Lt.fragment=At.fragment,Lt.displayName="DirectFeedbackCallToActionTertiaryButtonAdapter";var wt=(0,s.Ps)(Ae(),Ct.fragment,_t.fragment,Lt.fragment,fn.fragment,Gt.fragment,Pt.fragment,xt.fragment);var Ot=new Map;function Rt(e,n){var t=e+JSON.stringify(n),a=0;return Ot.has(t)&&(a=Ot.get(t)||0),Ot.set(t,a+1),"".concat(function(e){for(var n,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,a=3735928559^t,r=1103547991^t,i=0;i<e.length;i++)n=e.charCodeAt(i),a=Math.imul(a^n,2246822519),r=Math.imul(r^n,3266489917);return a^=Math.imul(a^r>>>15,1935289751),r^=Math.imul(r^a>>>15,3405138345),2097152*((r^=(a^=r>>>16)>>>16)>>>0)+(a>>>11)}(t+a))}var Mt=function(e){var n,t,r,o=e.data,c=e.eventDispatch,l=e.forcePostSubmit,u=Y((0,a.useState)((function(){return Rt(o.promptId,o.contextValues)})),1)[0],d=Y((0,i.useDialog)(u,"cdfPromptDialog"),2),m=d[0],s=d[1],v=Y((0,a.useState)(!1),2),b=v[0],E=v[1],y=(0,a.useCallback)((function(e){if(0===e.type)E(!0);c&&c(e)}),[E,c]),k=function(e){switch(e){case"UIPrimaryButton":return Ct;case"UISecondaryButton":return _t;case"UITertiaryButton":return Lt;case"EGDSStandardLink":return Gt;case"EGDSInlineLink":return Pt;case"EGDSImageLink":return xt;default:throw new Error("unsupported callToAction type. Please update to the newest version of DirectFeedbackCallToAction")}}(o.callToAction.__typename),D=function(e){switch(e){case"UIPrimaryButton":return Ct;case"UISecondaryButton":return _t;case"UITertiaryButton":return Lt;case"EGDSStandardLink":return Gt;case"EGDSInlineLink":return Pt;case"EGDSImageLink":return xt;case"EGDSSpannableText":return fn;default:return null}}(null===(n=o.postSubmitDisplay)||void 0===n?void 0:n.__typename),h=o.contextValues.map((function(e){return{key:e.key,value:e.value}})),S=(0,g.v)().context,F={promptId:o.promptId,context:S},I=(0,p.a)(vt,{variables:F,skip:!o.eager&&!m}),x=I.data,P=I.loading,C=!!(null===(r=x)||void 0===r||null===(t=r.directFeedbackPromptById)||void 0===t?void 0:t.pages[0]),_=Y((0,f.D)(bt),2),G=_[0],T=_[1],N=T.data,A=T.loading,L=C||!x&&!P;return(0,a.useEffect)((function(){L||!m||!x||A||N||G({variables:{context:S,feedback:{formValues:[],context:h},id:o.promptId}}).then((function(){s.closeDialog(),y(new Me(o.promptId,h,[]))}))}),[s.closeDialog,A,N,L,m,G,S,h,x,o.promptId,y,s]),a.createElement(a.Fragment,null,(b||l)&&D?a.createElement(D,{data:o.postSubmitDisplay,onClick:s.openDialog}):a.createElement(k,{data:o.callToAction,onClick:s.openDialog}),L?a.createElement(Dt,{inputs:{promptId:o.promptId},dialogQueryId:u,eventDispatch:y,contextValues:h}):null)};Mt.fragment=wt,Mt.displayName="DirectFeedbackCallToAction"}}]);
//# sourceMappingURL=shared-ui-retail-customer-direct-feedback.17bb35c0ca8ddd6627c7.js.map
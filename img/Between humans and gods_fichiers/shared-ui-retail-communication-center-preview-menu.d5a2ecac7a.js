/*@license For license information please refer to shared-ui-retail-communication-center-preview-menu.licenses.txt*/
(self.__LOADABLE_LOADED_CHUNKS__=self.__LOADABLE_LOADED_CHUNKS__||[]).push([[3479],{56904:function(e,n,t){t.d(n,{g:function(){return qe}});var i=t(67294),r=t(69430),o=t(66252),a=t(71641),l=t(95878),c=t(19633),u=t(98250),d=t(51619),m=t(23984),s=t(91233),v=t(10333),f=t(93351),E=t(30300),y=t(73359),p=t(41419),g=t(13413),b=t(46605),k=t(37595),C=t(85213),I=t(29097),h=t(51330),x=t(8315),w=t(80463),S=t(20515),N=t(8470),A=t(5419),_=t(78917),T=t(22335),O=t(13943),F=t(95128),z=t(6992),P=t(511),D=t(50319),L=t(27749),U=t(52818),B=t(34778),R=t(95032),M=t(19719),G=t(70094);function j(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,i=new Array(n);t<n;t++)i[t]=e[t];return i}function $(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function H(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{},i=Object.keys(t);"function"==typeof Object.getOwnPropertySymbols&&(i=i.concat(Object.getOwnPropertySymbols(t).filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})))),i.forEach((function(n){$(e,n,t[n])}))}return e}function V(e,n){return n=null!=n?n:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):function(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);n&&(i=i.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,i)}return t}(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})),e}function W(e,n){return function(e){if(Array.isArray(e))return e}(e)||function(e,n){var t=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=t){var i,r,o=[],a=!0,l=!1;try{for(t=t.call(e);!(a=(i=t.next()).done)&&(o.push(i.value),!n||o.length!==n);a=!0);}catch(c){l=!0,r=c}finally{try{a||null==t.return||t.return()}finally{if(l)throw r}}return o}}(e,n)||function(e,n){if(!e)return;if("string"==typeof e)return j(e,n);var t=Object.prototype.toString.call(e).slice(8,-1);"Object"===t&&e.constructor&&(t=e.constructor.name);if("Map"===t||"Set"===t)return Array.from(t);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return j(e,n)}(e,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Y(e,n){return n||(n=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(n)}}))}function Q(){var e=Y(["\n  fragment IconFragment on Icon {\n    title\n    description\n    id\n    token\n  }\n"]);return Q=function(){return e},e}function q(){var e=Y(["\n  fragment TertiaryButtonFragment on CommunicationCenterButton {\n    button {\n      ... on UITertiaryButton {\n        __typename\n        primary\n        accessibility\n        icon {\n          ...IconFragment\n        }\n        analytics {\n          eventType\n          linkName\n          referrerId\n        }\n      }\n    }\n    action {\n      ... on UILinkAction {\n        resource {\n          value\n        }\n      }\n    }\n  }\n  ","\n"]);return q=function(){return e},e}function Z(){var e=Y(["\n  fragment CommunicationCenterBannerFragment on CommunicationCenterBanner {\n    icon {\n      ...IconFragment\n    }\n    title\n    body\n    theme\n    action {\n      ...TertiaryButtonFragment\n    }\n  }\n\n  ","\n  ","\n"]);return Z=function(){return e},e}function K(){var e=Y(["\n  fragment EGDSStylizedTextFragment on EGDSStylizedText {\n    size\n    text\n    weight\n  }\n"]);return K=function(){return e},e}function X(){var e=Y(["\n  fragment CommunicationCenterEmptyStateFragment on CommunicationCenterEmptyState {\n    __typename\n    title {\n      ...EGDSStylizedTextFragment\n    }\n    body {\n      ...EGDSStylizedTextFragment\n    }\n    image {\n      url\n      description\n    }\n    impressionAnalytics {\n      event\n      referrerId\n      linkName\n    }\n    emptyStateType\n    actions {\n      button {\n        ... on UIPrimaryButton {\n          __typename\n          primary\n          accessibility\n          analytics {\n            linkName\n            referrerId\n          }\n        }\n      }\n      action {\n        ... on UILinkAction {\n          resource {\n            value\n          }\n        }\n      }\n    }\n  }\n  ","\n"]);return X=function(){return e},e}function J(){var e=Y(["\n  fragment EGDSGraphicTextFragment on EGDSGraphicText {\n    graphic {\n      ...IconFragment\n    }\n    text\n  }\n  ","\n"]);return J=function(){return e},e}function ee(){var e=Y(["\n  fragment NotificationsDeleteActionFormFragment on CommunicationCenterNotificationForm {\n    __typename\n    title {\n      ...EGDSStylizedTextFragment\n    }\n    sections {\n      title {\n        ...EGDSStylizedTextFragment\n      }\n      fields {\n        button {\n          ... on UITertiaryButton {\n            __typename\n            primary\n          }\n          ... on UIPrimaryButton {\n            __typename\n            primary\n          }\n        }\n        action {\n          ... on UILinkAction {\n            resource {\n              value\n            }\n          }\n        }\n      }\n    }\n    feedbackMessages {\n      name\n      title {\n        ...EGDSStylizedTextFragment\n      }\n      displayType\n      level\n    }\n  }\n  ","\n"]);return ee=function(){return e},e}function ne(){var e=Y(["\n  fragment NotificationsLinkFragment on EGDSStandardLink {\n    __typename\n    text\n    size\n    action {\n      resource {\n        value\n      }\n      analytics {\n        linkName\n        referrerId\n      }\n    }\n  }\n"]);return ne=function(){return e},e}function te(){var e=Y(["\n  fragment NotificationsItemFragment on CommunicationCenterNotificationCard {\n    __typename\n    cardId\n    title {\n      ...EGDSStylizedTextFragment\n    }\n    body {\n      ...EGDSStylizedTextFragment\n    }\n    type\n    icon {\n      ...IconFragment\n    }\n    links {\n      ...NotificationsLinkFragment\n    }\n    impressionAnalytics {\n      event\n      referrerId\n      linkName\n    }\n    revealActions {\n      referrerId\n      linkName\n      eventType\n    }\n    userActions {\n      __typename\n      icon {\n        id\n        description\n      }\n      type\n      text {\n        size\n        text\n        weight\n      }\n      revealActions {\n        referrerId\n        linkName\n        eventType\n      }\n    }\n    timeStamp {\n      ...EGDSStylizedTextFragment\n    }\n    state\n  }\n  ","\n  ","\n  ","\n"]);return te=function(){return e},e}function ie(){var e=Y(["\n  mutation UpdateNotificationsInMenuMutation(\n    $contextInput: ContextInput!\n    $notificationIds: [String!]!\n    $state: CommunicationCenterNotificationState!\n  ) {\n    updateNotificationsState(context: $contextInput, notificationIds: $notificationIds, state: $state) {\n      notificationId\n      operationStatus\n    }\n  }\n"]);return ie=function(){return e},e}function re(){var e=Y(["\n  query CommunicationCenterPreviewQuery($context: ContextInput!, $optionalContext: OptionalContextInput) {\n    communicationCenterPreview(context: $context, optionalContext: $optionalContext) {\n      label {\n        ...EGDSStylizedTextFragment\n      }\n      notifications {\n        heading {\n          ...EGDSStylizedTextFragment\n        }\n        unseen\n        notifications {\n          ...NotificationsItemFragment\n        }\n        emptyState {\n          ...CommunicationCenterEmptyStateFragment\n        }\n        deleteActionForm {\n          ...NotificationsDeleteActionFormFragment\n        }\n        impressionAnalytics {\n          event\n          referrerId\n          linkName\n        }\n        clickToActionButton {\n          button {\n            ... on UIPrimaryButton {\n              primary\n              analytics {\n                linkName\n                referrerId\n              }\n            }\n          }\n          action {\n            ... on UILinkAction {\n              resource {\n                value\n              }\n            }\n          }\n        }\n        banner {\n          ...CommunicationCenterBannerFragment\n        }\n      }\n    }\n  }\n  ","\n  ","\n  ","\n  ","\n  ","\n"]);return re=function(){return e},e}function oe(){var e=Y(["\n  query CommunicationCenterPreviewMenuQuery($context: ContextInput!, $optionalContext: OptionalContextInput) {\n    communicationCenterEntryPoint(context: $context, optionalContext: $optionalContext) {\n      __typename\n      icon {\n        id\n        token\n        description\n      }\n      label\n      notificationUnseenCount\n      messageUnseenCount\n      defaultTab\n      clickAnalytics {\n        linkName\n        referrerId\n        eventType\n      }\n      impressionAnalytics {\n        event\n        referrerId\n        linkName\n      }\n    }\n  }\n"]);return oe=function(){return e},e}function ae(){var e=Y(["\n  query PreviewMenuGlobalHeaderQuery(\n    $context: ContextInput!\n    $viewSize: HeaderViewSize\n    $lineOfBusiness: GlobalNavigationLineOfBusiness\n    $layout: HeaderLayout\n  ) {\n    globalHeader(context: $context, viewSize: $viewSize, lineOfBusiness: $lineOfBusiness, layout: $layout) {\n      redDotState @client\n    }\n  }\n"]);return ae=function(){return e},e}var le,ce=function(e){var n,t,r,o,a,l,c=(0,u.useClickTracker)(),y=e.unseen,p=e.unread,g=e.label,b=e.impressionAnalytics,k=e.clickAnalytics,C=e.clickAnalyticsForMessage,I=null===(n=k)||void 0===n?void 0:n.referrerId,h=null===(t=k)||void 0===t?void 0:t.linkName,x=null===(r=C)||void 0===r?void 0:r.referrerId,w=null===(o=C)||void 0===o?void 0:o.linkName,S=y+p>0,N=W(i.useState(S),2),A=N[0],_=N[1],T=null===(a=b)||void 0===a?void 0:a.referrerId,O=(null===(l=b)||void 0===l?void 0:l.linkName)||"";return i.createElement("a",{href:"/inbox/notifications"},i.createElement(f.l,{padding:{block:"three",inline:"six"}},i.createElement(v.M,{onClick:function(){_(!1),I&&h&&c(I,h,void 0,[]),x&&w&&c(x,w,void 0,[])}},i.createElement("button",{type:"button"},i.createElement(m.v,null,i.createElement(s.t,null,i.createElement(E.b,{size:300,theme:"default"},g)),i.createElement(s.t,null,T&&i.createElement(u.IntersectionTracker,{referrerId:T,linkName:O},A&&i.createElement(d.k,{visible:!0}))))))))};ce.displayName="sharedui-CommunicationCenterPreviewMenuLinkContent";var ue,de=($(le={},"BOLD","bold"),$(le,"MEDIUM","medium"),$(le,"REGULAR","regular"),le),me={100:100,200:200,300:300,400:400,500:500,600:600,700:700,800:800,900:900},se=($(ue={},"ONE_ONE",h.s.R1_1),$(ue,"FOUR_THREE",h.s.R4_3),$(ue,"SIXTEEN_NINE",h.s.R16_9),$(ue,"THREE_TWO",h.s.R3_2),$(ue,"THREE_FOUR",h.s.R3_4),$(ue,"TWENTY_ONE_NINE",h.s.R21_9),$(ue,"FOUR_ONE",h.s.R4_1),{error:"error",critical:"critical"}),ve=(0,r.Ps)(Q()),fe=function(e){var n=e.data,t=e.isIconOnly,r=e.onClick,o=n.id,a={name:o,id:o,title:n.title||o,description:n.description||o};if(t)return i.createElement(b.fR,V(H({},a),{size:b.eZ.MEDIUM}));return i.createElement(x.m,{tag:"a",href:"#",onClick:function(){r&&r()}},i.createElement(b.fR,H({},a)))};fe.fragment=ve,fe.displayName="Icon";var Ee=(0,r.Ps)(q(),fe.fragment),ye=function(e){var n,t,r,o,a=e.data,l=e.buttonSize,c=e.inverse,d=e.onClick,m=e.disabled,s=e.tag,v=a.button,f=a.action,E=(0,u.useClickTracker)(),y=H({href:null===(n=f)||void 0===n?void 0:n.resource.value,size:l,disabled:m,inverse:c,onClick:function(){var e,n;if("UITertiaryButton"===(null===(e=v)||void 0===e?void 0:e.__typename)&&v.analytics){var t=v.analytics,i=t.referrerId,r=t.linkName;E(i,r)}null===(n=d)||void 0===n||n()},tag:s,target:s?"_blank":""},"UITertiaryButton"===(null===(t=v)||void 0===t?void 0:t.__typename)&&(null===(r=v)||void 0===r?void 0:r.accessibility)?{"aria-label":v.accessibility}:{});return i.createElement(i.Fragment,null,"UITertiaryButton"===(null===(o=v)||void 0===o?void 0:o.__typename)&&i.createElement(x.m,V(H({},y),{"data-stid":"tertiary-button"}),v.icon&&i.createElement(b.fR,{name:v.icon.id}),v.primary))};ye.fragment=Ee,ye.displayName="CommunicationCenterTertiaryButton";var pe=(0,r.Ps)(Z(),fe.fragment,ye.fragment),ge=function(e){var n=e.data,t=e.onBannerClick,r=e.onComponentMountCallback,o=e.isFlexLayout,a=n.action,l=n.body,u=n.icon,d=n.title,y=n.theme;(0,i.useEffect)((function(){r&&r()}),[]);var h=function(){t&&t()},x=function(){var e,n,t,r,o;return l?i.createElement(p.j,{theme:se[y]},i.createElement(m.v,{direction:"column"},i.createElement(s.t,null,i.createElement(E.b,{weight:"bold"},d)),i.createElement(s.t,null,i.createElement(E.b,{weight:"regular"},l)))):i.createElement(p.j,{theme:se[y]},i.createElement(m.v,{direction:"column"},i.createElement(s.t,null,i.createElement(E.b,{weight:"medium"},d)),i.createElement(s.t,null,i.createElement(f.l,{padding:{blockend:"one",blockstart:"two"}},i.createElement(v.M,{theme:"default"},"UITertiaryButton"===(null===(n=a)||void 0===n||null===(e=n.button)||void 0===e?void 0:e.__typename)&&i.createElement("a",{href:null===(r=a)||void 0===r||null===(t=r.action)||void 0===t?void 0:t.resource.value,onClick:h},null===(o=a)||void 0===o?void 0:o.button.primary))))))};if(o){var w,S,N,A,_,T=i.createElement(v.M,{theme:"default",inline:!0},"UITertiaryButton"===(null===(S=a)||void 0===S||null===(w=S.button)||void 0===w?void 0:w.__typename)&&i.createElement("a",{href:null===(A=a)||void 0===A||null===(N=A.action)||void 0===N?void 0:N.resource.value,onClick:h},null===(_=a)||void 0===_?void 0:_.button.primary));return l&&(T=i.createElement(E.b,{weight:"medium"},l)),i.createElement(i.Fragment,null,n&&i.createElement(p.j,{theme:se[y]},i.createElement(m.v,{alignItems:"center",space:"four"},i.createElement(k._,null,i.createElement(b.fR,{name:u.id,description:u.description})),i.createElement(s.t,null,i.createElement("div",null,i.createElement(E.b,{weight:"bold"},d),T)))))}return i.createElement(i.Fragment,null,n&&i.createElement(c.Viewport,null,i.createElement(c.ViewSmall,null,x()),i.createElement(c.ViewMedium,null,x()),i.createElement(c.ViewLarge,null,function(){var e,n;return l?i.createElement(p.j,{theme:se[y]},i.createElement(m.v,{alignItems:"center",space:"two"},i.createElement(s.t,null,i.createElement("div",null,i.createElement(b.fR,{name:u.id,spotlight:{theme:"standard",background:!1}}))),i.createElement(s.t,null,i.createElement("div",null,i.createElement(E.b,{weight:"bold"},d),i.createElement(E.b,{weight:"regular"},l))))):i.createElement(p.j,{theme:se[y]},i.createElement(C.a,{columns:["min-content","max-content","max-content"],areas:["icon text action"],alignItems:"center",space:{column:"four"}},i.createElement(I.P,{area:"icon"},i.createElement(b.fR,{name:u.id,description:u.description})),i.createElement(I.P,{area:"text"},i.createElement(E.b,null,d)),i.createElement(I.P,{area:"action"},"UITertiaryButton"===(null===(n=a)||void 0===n||null===(e=n.button)||void 0===e?void 0:e.__typename)&&i.createElement(ye,{buttonSize:g.xY.MEDIUM,data:a,onClick:h,inverse:!0}))))}())))};ge.displayName="CommunicationCenterBanner",(ge.fragment=pe).__typename="CommunicationCenterBanner";var be=(0,r.Ps)(K());function ke(e,n){return e||(n?de[n]:void 0)}var Ce=function(e){var n=e.spacing,t=e.overflow,r=e.weightOverride,o=e.align,a=e.theme,l=e.isStriked,c=e.data,u=e.ariaLabelText,d=c.size,m=c.text,s=c.weight,v={align:o,overflow:t,size:d?me[d]:void 0,spacing:n,weight:ke(r,s),inline:l?"s":void 0,theme:a};return u?i.createElement(i.Fragment,null,i.createElement(E.b,{className:"is-visually-hidden"},u),i.createElement(E.b,V(H({},v),{"aria-hidden":"true"}),m)):i.createElement(E.b,H({},v),m)};Ce.fragment=be,Ce.displayName="EGDSStylizedText";var Ie=(0,r.Ps)(X(),Ce.fragment),he=function(e){var n,t,r,o,a,l,c,d,v,E,y,p,b,k,C,I,x=e.data,_=x.title,T=x.body,O=x.image,F=x.actions,z=x.impressionAnalytics,P=x.emptyStateType,D=null===(n=T)||void 0===n?void 0:n[0],L=null===(r=F)||void 0===r||null===(t=r[0])||void 0===t?void 0:t.button,U=null===(o=L)||void 0===o?void 0:o.analytics,B=null===(a=U)||void 0===a?void 0:a.referrerId,R=null===(l=U)||void 0===l?void 0:l.linkName,M=null===(c=z)||void 0===c?void 0:c.referrerId,G=(null===(d=z)||void 0===d?void 0:d.linkName)||"",j=(0,u.useClickTracker)(),$=W(i.useState(null===(y=F)||void 0===y||null===(E=y[0])||void 0===E||null===(v=E.action)||void 0===v?void 0:v.resource.value),2),H=$[0],V=$[1];return i.useEffect((function(){var e,n,t;"SIGN_IN"===P&&V(function(e){var n="";if(null!==window.location){var t=window.location.pathname?window.location.pathname:"",i=window.location.search?window.location.search:"",r=window.location.hash?window.location.hash:"",o=t.concat(i,r);n="?&uurl=".concat(encodeURIComponent("e3id=redr&rurl=".concat(o)))}return e+n}(null===(t=F)||void 0===t||null===(n=t[0])||void 0===n||null===(e=n.action)||void 0===e?void 0:e.resource.value))}),[F,P]),i.createElement(i.Fragment,null,M&&i.createElement(u.IntersectionTracker,{referrerId:M,linkName:G},i.createElement(m.v,{alignItems:"center",justifyContent:"center",direction:"column",blockSize:"full_size"},i.createElement(S.U,{padded:!1},i.createElement(f.l,{padding:{inlinestart:"four",inlineend:"four",blockend:"sixteen"}},i.createElement("div",null,i.createElement(s.t,{alignSelf:"center",grow:1,maxWidth:300},i.createElement("section",null,i.createElement(h.N,{imageFit:"contain"},i.createElement(N.p,{alt:null===(p=O)||void 0===p?void 0:p.description,src:null===(b=O)||void 0===b?void 0:b.url})),i.createElement(f.l,{padding:{blockstart:"four",blockend:"four"}},i.createElement(A.y,{align:"center",tag:"h1",size:5},null===(k=_)||void 0===k?void 0:k.text)),i.createElement(f.l,{padding:{blockstart:"four",blockend:"six"}},i.createElement("div",null,i.createElement(Ce,{data:D,align:"center"}))),(null===(C=L)||void 0===C?void 0:C.primary)&&i.createElement(w.t,{tag:"a",href:H,size:g.xY.LARGE,onClick:function(){B&&R&&j(B,R)}},null===(I=L)||void 0===I?void 0:I.primary)))))))))};he.fragment=Ie,he.displayName="CommunicationCenterEmptyState";var xe=(0,r.Ps)(J(),fe.fragment),we=function(e){var n=e.data,t=e.theme,r=n.graphic,o=n.text;return i.createElement(i.Fragment,null,"Icon"===r.__typename&&i.createElement(f.l,{margin:{blockstart:"two"}},i.createElement(b.fR,{theme:t,name:r.id,description:r.description})),i.createElement(f.l,{margin:{blockstart:"three"}},i.createElement(E.b,{theme:t},o)))};we.fragment=xe,we.displayName="EGDSGraphicText";var Se=(0,r.Ps)(ee(),Ce.fragment),Ne=function(e){var n,t,r,o,a,l,c,u=e.data,d=e.notification,m=e.handleCancelClick,s=e.handleConfirmClick,v=(null===(n=u)||void 0===n?void 0:n.sections[0].fields[0].button).primary||"",f=(null===(t=u)||void 0===t?void 0:t.sections[0].fields[1].button).primary||"";return i.createElement(_.A,{dialogShow:!0,returnFocusOnClose:!0,autoFocus:!0},i.createElement(T.D,null,i.createElement(A.y,{tag:"h1",size:5,key:"dialogHeading"},null===(o=u)||void 0===o||null===(r=o.title)||void 0===r?void 0:r.text),i.createElement(F.a,{key:"dialogParagraph",size:2},null===(c=u)||void 0===c||null===(l=c.sections)||void 0===l||null===(a=l[0].title)||void 0===a?void 0:a.text),i.createElement(O.Q,{key:"UitkDialogFooter",stacked:!0,buttonOne:{onClick:function(){s(d)},text:v,type:"primary"},buttonTwo:{onClick:m,text:f,type:"tertiary"}})))};Ne.fragment=Se,Ne.displayName="NotificationsDeleteActionForm";var Ae=function(e,n){var t=function(e){var t,i,r=null===(i=n.payload)||void 0===i||null===(t=i.notificationsList)||void 0===t?void 0:t.find((function(n){return n.cardId===e.cardId}));return null!=r},i=function(n){return e.notificationsList.map((function(e){return t(e)?V(H({},e),{state:n}):e}))};switch(n.action){case 0:return V(H({},e),{notificationsList:i("SEEN"),unseenCount:0});case 1:return V(H({},e),{notificationsList:i("READ"),unseenCount:0});case 2:return V(H({},e),{notificationsList:e.notificationsList.filter((function(e){return!t(e)})),unseenCount:0});default:return{notificationsList:[],unseenCount:0}}},_e={notificationsList:[],unseenCount:0},Te=(0,i.createContext)({state:_e}),Oe=function(e){var n=e.notificationsList,t=e.unseenCount,r=e.children,o=W((0,i.useReducer)(Ae,V(H({},_e),{notificationsList:n,unseenCount:t})),2),a=o[0],l=o[1];return i.createElement(Te.Provider,{value:{state:a,dispatch:l}},r||null)},Fe=function(){return i.useContext(Te)},ze=(0,i.createContext)({mutation:function(){},error:void 0,loading:!1}),Pe=function(e){var n=e.mutationFunction,t=e.children,r=W((0,D.D)(n),2),o=r[0],a=r[1],l=a.error,c=a.loading;return i.createElement(ze.Provider,{value:{mutation:o,error:l,loading:c}},t||null)},De=function(){return(0,i.useContext)(ze)},Le=(0,r.Ps)(ne()),Ue=function(e){var n,t,r,o,a,c,d,m,s,v,f,E,y=e.notification,p=e.data,g=e.children,b=(null===(r=p)||void 0===r||null===(t=r.action)||void 0===t||null===(n=t.resource)||void 0===n?void 0:n.value)?null===(c=p)||void 0===c||null===(a=c.action)||void 0===a||null===(o=a.resource)||void 0===o?void 0:o.value:"#",k=null===(m=p)||void 0===m||null===(d=m.action)||void 0===d?void 0:d.analytics,C=null===(s=k)||void 0===s?void 0:s.referrerId,I=null===(v=k)||void 0===v?void 0:v.linkName,h=(0,u.useClickTracker)(),x=(0,l.v)().context,w=De().mutation,S=Fe().dispatch,N=null===(f=y)||void 0===f?void 0:f.cardId,A=null===(E=y)||void 0===E?void 0:E.state;return i.createElement("a",{href:b,target:"_blank",rel:"noopener noreferrer",onClick:function(){C&&I&&h(C,I),"SEEN"===A&&(S({action:1,payload:{notificationsList:[y]}}),w({variables:{contextInput:x,notificationIds:[N],state:"READ"}}))}},g)};Ue.fragment=Le,Ue.displayName="NotificationsLink";var Be=(0,r.Ps)(te(),fe.fragment,Ce.fragment,Ue.fragment),Re=function(e){var n,t,r,o,a,c,d,v,E,y,p,g,b,k,C,I,h,x,w,N,_,T,O,F,D,L,U,B=e.data,R=e.children,M=null===(t=B)||void 0===t||null===(n=t.impressionAnalytics)||void 0===n?void 0:n[0],G=null===(r=M)||void 0===r?void 0:r.referrerId,j=(null===(o=M)||void 0===o?void 0:o.linkName)||"",$=null===(d=B)||void 0===d||null===(c=d.links)||void 0===c||null===(a=c[0].action)||void 0===a?void 0:a.analytics,H=null===(v=$)||void 0===v?void 0:v.referrerId,V=null===(E=$)||void 0===E?void 0:E.linkName,W=null===(y=B)||void 0===y?void 0:y.cardId,Y=null===(p=B)||void 0===p?void 0:p.state,Q=(0,u.useClickTracker)(),q=(0,l.v)().context,Z=De().mutation,K=Fe().dispatch;return i.createElement(i.Fragment,null,G&&i.createElement(u.IntersectionTracker,{referrerId:G,linkName:j},i.createElement(m.v,null,i.createElement(s.t,{alignSelf:"start",grow:0},(null===(g=B.links)||void 0===g?void 0:g[0])&&i.createElement(Ue,{notification:B,data:null===(b=B.links)||void 0===b?void 0:b[0]},i.createElement(S.U,{padded:["blockstart","blockend","inlinestart"]},i.createElement(f.l,{margin:{blockstart:"two"}},i.createElement(z.x,{visible:"READ"!==B.state}))))),i.createElement(s.t,{alignSelf:"start",grow:0},(null===(k=B.links)||void 0===k?void 0:k[0])&&i.createElement(Ue,{notification:B,data:null===(C=B.links)||void 0===C?void 0:C[0]},i.createElement(S.U,{padded:["blockstart","blockend","inlinestart"]},B.icon&&i.createElement(fe,{data:B.icon,isIconOnly:!0})))),i.createElement(s.t,{grow:1},i.createElement(S.U,{padded:["blockstart","blockend","inlinestart"]},i.createElement(P.o,null,i.createElement("a",{href:(null===(x=B.links)||void 0===x||null===(h=x[0].action)||void 0===h||null===(I=h.resource)||void 0===I?void 0:I.value)?null===(_=B.links)||void 0===_||null===(N=_[0].action)||void 0===N||null===(w=N.resource)||void 0===w?void 0:w.value:"#",target:"_blank",rel:"noopener noreferrer",onClick:function(){H&&V&&Q(H,V),"SEEN"===Y&&(K({action:1,payload:{notificationsList:[B]}}),Z({variables:{contextInput:q,notificationIds:[W],state:"READ"}}))}},null===(T=B.title)||void 0===T?void 0:T.text)),(null===(O=B.title)||void 0===O?void 0:O.text)&&i.createElement(A.y,{tag:"h2",size:5},B.title.text),(null===(D=B.body)||void 0===D||null===(F=D[0])||void 0===F?void 0:F.text)&&i.createElement(f.l,{padding:{blockstart:"two"}},i.createElement("div",null,i.createElement(Ce,{data:null===(L=B.body)||void 0===L?void 0:L[0],overflow:"truncate-3-lines",weightOverride:"READ"===B.state?"regular":"bold"}))),(null===(U=B.timeStamp)||void 0===U?void 0:U.text)&&i.createElement(f.l,{padding:{blockstart:"two"}},i.createElement("div",null,i.createElement(Ce,{data:B.timeStamp}))))),i.createElement(s.t,null,i.createElement(S.U,{padded:["blockstart","blockend","inlineend"]},R)))))};Re.fragment=Be,Re.displayName="NotificationsItem";var Me=(0,r.Ps)(ie()),Ge=function(e){var n,t,r,o,a,c,d,v,E,y,p,g,b,k,C,I=e.heading,h=e.emptyState,x=e.clickToActionButton,w=e.impressionAnalytics,N=(0,l.v)().context,_=(0,u.useClickTracker)(),T=null===(t=w)||void 0===t||null===(n=t[0])||void 0===n?void 0:n.referrerId,O=(null===(o=w)||void 0===o||null===(r=o[0])||void 0===r?void 0:r.linkName)||"",F=null===(c=w)||void 0===c||null===(a=c[1])||void 0===a?void 0:a.referrerId,z=(null===(v=w)||void 0===v||null===(d=v[1])||void 0===d?void 0:d.linkName)||"",P=null===(E=x)||void 0===E?void 0:E.button,D=null===(y=P)||void 0===y?void 0:y.analytics,U=null===(p=D)||void 0===p?void 0:p.referrerId,B=null===(g=D)||void 0===g?void 0:g.linkName,R=Fe().state,M=De().mutation;return i.useEffect((function(){var e,n,t=(null===(e=R.notificationsList)||void 0===e?void 0:e.filter((function(e){return"UNSEEN"===e.state})))||[],i=(null===(n=t)||void 0===n?void 0:n.map((function(e){return e.cardId||""})).filter((function(e){return""!==e})))||[];t&&t.length>0&&M({variables:{contextInput:N,notificationIds:i,state:"SEEN"}})}),[R.notificationsList,N,M]),0===R.notificationsList.length?i.createElement(i.Fragment,null,i.createElement(S.U,{padded:!0,border:"bottom"},I&&i.createElement(A.y,{size:5,tag:"h1"},null===(C=I)||void 0===C?void 0:C.text)),i.createElement(f.l,{padding:{blockstart:"twelve"}},i.createElement("section",null,h&&i.createElement(he,{data:h})))):i.createElement(i.Fragment,null,T&&i.createElement(u.IntersectionTracker,{referrerId:T,linkName:O},i.createElement(S.U,{padded:!0,border:"bottom"},I&&i.createElement(A.y,{size:5,tag:"h1"},null===(b=I)||void 0===b?void 0:b.text)),i.createElement("section",null,null===(k=R.notificationsList)||void 0===k?void 0:k.map((function(e,n){return i.createElement("div",{key:"notifications-cell-".concat(n),"data-stid":"notifications-cell"},i.createElement(f.l,{padding:{block:"half",inlinestart:"one",inlineend:"half"}},i.createElement("div",null,i.createElement(Re,{data:e}))))}))),x&&P&&P.primary&&i.createElement(i.Fragment,null,F&&i.createElement(u.IntersectionTracker,{referrerId:F,linkName:z},i.createElement(L.O,{display:"block",position:{bottom:"zero"},type:"absolute",style:{width:"100%"}},i.createElement(S.U,{padded:!0,border:"top"},i.createElement(m.v,{justifyContent:"center"},i.createElement(s.t,null,i.createElement(G.Y,{tag:"a",href:"/inbox/notifications",onClick:function(){U&&B&&_(U,B)}},P.primary)))))))))};Ge.displayName="CommunicationCenterPreviewMenuContent";var je=function(e){var n,t,r,o,a,l,c=e.data,u=e.errorBannerAction,d=c.notifications,m=null===(n=d)||void 0===n?void 0:n.heading,s=null===(t=d)||void 0===t?void 0:t.emptyState,v=null===(r=d)||void 0===r?void 0:r.clickToActionButton,f=null===(o=d)||void 0===o?void 0:o.notifications,E=null===(a=d)||void 0===a?void 0:a.impressionAnalytics,y=null===(l=d)||void 0===l?void 0:l.banner;return y?i.createElement(ge,{data:y,onBannerClick:function(){u&&u()},isFlexLayout:!0}):i.createElement(Oe,{notificationsList:f||[],unseenCount:0},i.createElement(Pe,{mutationFunction:Me},i.createElement(Ge,{heading:m,emptyState:s,clickToActionButton:v,impressionAnalytics:E})))};je.displayName="sharedui-CommunicationCenterPreviewMenuContentWithContext";var $e=(0,r.Ps)(re(),Ce.fragment,Ne.fragment,he.fragment,Re.fragment,ge.fragment),He=function(e){var n,t,r,o,a,c=(0,l.v)().context,v=(0,u.useClickTracker)(),f=e.unseen,E=e.unread,p=e.icon,k=e.impressionAnalytics,C=e.clickAnalytics,I=null===(n=C)||void 0===n?void 0:n.referrerId,h=null===(t=C)||void 0===t?void 0:t.linkName,w=W(i.useState(!1),2),S=w[0],N=w[1],A=f+E>0,_=W(i.useState(A),2),T=_[0],O=_[1],F=W(i.useState(!1),1)[0],z=null===(r=k)||void 0===r?void 0:r.referrerId,P=(null===(o=k)||void 0===o?void 0:o.linkName)||"",D=W((0,y.t)($e,{variables:{context:c,optionalContext:{dropdownView:!0}},ssr:!1}),2),G=D[0],j=D[1],$=j.called,H=j.loading,V=j.data,Y=j.error,Q=j.refetch;return i.createElement(s.t,{minWidth:"zero",grow:0},i.createElement(B.p,{isOpen:S,onTriggerClick:function(){N(!S),f<4&&O(!1),$||G({context:c}),!S&&I&&h&&v(I,h,void 0,[])},disableBodyClickHandler:F},i.createElement(R.H,null,i.createElement(x.m,{className:"uitk-button-only-icon global-navigation-nav-button",size:g.xY.LARGE},i.createElement(L.O,{display:"inline-block",type:"relative"},i.createElement(b.fR,{name:p.id,size:b.eZ.LARGE,id:"".concat(p.id,"-icon"),title:null!==(a=p.description)&&void 0!==a?a:""}),i.createElement(L.O,{cloneElement:!0,position:{right:"zero",top:"zero"},type:"absolute"},i.createElement(L.O,{cloneElement:!0,position:{right:"zero",top:"zero"},type:"absolute"},z&&i.createElement(u.IntersectionTracker,{referrerId:z,linkName:P},T&&i.createElement(d.k,{visible:!0}))))))),i.createElement(M.a,{position:M.d.RIGHT,width:375,maxHeight:576},i.createElement("div",{style:{height:576},role:"menu"},(H||Y)&&i.createElement(m.v,{justifyContent:"center",alignItems:"center",direction:"column",blockSize:"full_size"},i.createElement(s.t,null,i.createElement(U.y,null))),!H&&!Y&&V&&V.communicationCenterPreview&&i.createElement(je,{data:V.communicationCenterPreview,errorBannerAction:Q})))))};He.displayName="sharedui-CommunicationCenterPreviewMenuContentWrapper";var Ve=function(e){var n,t,r,o,a,l,c,m=(0,u.useClickTracker)(),s=e.unseen,v=e.unread,f=e.icon,E=e.impressionAnalytics,y=e.clickAnalytics,p=e.clickAnalyticsForMessage,k=null===(n=y)||void 0===n?void 0:n.referrerId,C=null===(t=y)||void 0===t?void 0:t.linkName,I=null===(r=p)||void 0===r?void 0:r.referrerId,h=null===(o=p)||void 0===o?void 0:o.linkName,w=s+v>0,S=W(i.useState(w),2),N=S[0],A=S[1],_=null===(a=E)||void 0===a?void 0:a.referrerId,T=(null===(l=E)||void 0===l?void 0:l.linkName)||"";return i.createElement("a",{href:"/inbox/notifications"},i.createElement(x.m,{className:"uitk-button-only-icon global-navigation-nav-button",size:g.xY.LARGE,onClick:function(){A(!1),k&&C&&m(k,C,void 0,[]),I&&h&&m(I,h,void 0,[])}},i.createElement(L.O,{display:"inline-block",type:"relative"},i.createElement(b.fR,{name:f.id,size:b.eZ.LARGE,id:"".concat(f.id,"-icon"),title:null!==(c=f.description)&&void 0!==c?c:""}),i.createElement(L.O,{cloneElement:!0,position:{right:"zero",top:"zero"},type:"absolute"},i.createElement(L.O,{cloneElement:!0,position:{right:"zero",top:"zero"},type:"absolute"},_&&i.createElement(u.IntersectionTracker,{referrerId:_,linkName:T},N&&i.createElement(d.k,{visible:!0})))))))};Ve.displayName="CommunicationCenterPreviewMenuIconContent";var We=function(e){var n=e.unseen,t=e.unread,r=e.icon,o=e.impressionAnalytics,a=e.clickAnalytics,l=e.clickAnalyticsForMessage;return e.isPreviewMenuView?i.createElement(He,{unseen:n||0,unread:t||0,icon:r,impressionAnalytics:o,clickAnalytics:a}):i.createElement(Ve,{unseen:n||0,unread:t||0,icon:r,impressionAnalytics:o,clickAnalytics:a,clickAnalyticsForMessage:l})};We.displayName="CommunicationCenterPreviewMenuWrapper";var Ye=(0,r.Ps)(oe()),Qe=(0,r.Ps)(ae()),qe=function(e){var n,t,r,u,d,m,s,v,f,E,y,p=e.inputs,g=e.skipSsr,b=e.isPreviewMenuView,k=void 0!==b&&b,C=e.messageCountEnabled,I=void 0!==C&&C,h=p.lineOfBusiness,x=p.viewSize,w=(0,l.v)().context,S=(0,o.x)(),N=V(H({},p),{context:w,optionalContext:{messageCountEnabled:I}}),A=(0,a.a)(Ye,{variables:N,ssr:g,onCompleted:function(e){var n,t,i,r,o,a,l,c;(null!==(l=null===(t=e)||void 0===t||null===(n=t.communicationCenterEntryPoint)||void 0===n?void 0:n.notificationUnseenCount)&&void 0!==l?l:0)+(null!==(c=null===(r=e)||void 0===r||null===(i=r.communicationCenterEntryPoint)||void 0===i?void 0:i.messageUnseenCount)&&void 0!==c?c:0)>0&&"AUTHENTICATED"===(null===(a=w)||void 0===a||null===(o=a.identity)||void 0===o?void 0:o.authState)&&S.writeQuery({query:Qe,data:{globalHeader:{redDotState:"VISIBLE"}},variables:{context:w,viewSize:x,lineOfBusiness:h}})}}),_=A.data,T=A.error;if(A.loading||T||!_)return null;var O=null===(n=_)||void 0===n?void 0:n.communicationCenterEntryPoint,F=null===(t=O)||void 0===t?void 0:t.label,z=null===(r=O)||void 0===r?void 0:r.icon,P=null===(u=O)||void 0===u?void 0:u.notificationUnseenCount,D=null===(d=O)||void 0===d?void 0:d.messageUnseenCount,L=null===(s=O)||void 0===s||null===(m=s.impressionAnalytics)||void 0===m?void 0:m[0],U=null===(f=O)||void 0===f||null===(v=f.clickAnalytics)||void 0===v?void 0:v[0],B=null===(y=O)||void 0===y||null===(E=y.clickAnalytics)||void 0===E?void 0:E[1];return i.createElement(c.Viewport,null,i.createElement(c.ViewMedium,null,i.createElement(We,{isPreviewMenuView:k,unseen:P||0,unread:D||0,icon:z,impressionAnalytics:L,clickAnalytics:U,clickAnalyticsForMessage:B})),i.createElement(c.ViewSmall,null,i.createElement(ce,{unseen:P||0,unread:D||0,label:F||"",impressionAnalytics:L,clickAnalytics:U,clickAnalyticsForMessage:B})))};qe.displayName="sharedui-CommunicationCenterPreviewMenu"}}]);
//# sourceMappingURL=shared-ui-retail-communication-center-preview-menu.d5a2ecac7a64cf1ff1b7.js.map
/*@license For license information please refer to shared-ui-lodging-reviews.licenses.txt*/
(self.__LOADABLE_LOADED_CHUNKS__=self.__LOADABLE_LOADED_CHUNKS__||[]).push([[1453],{53251:function(e,n,t){t.d(n,{kI:function(){return yr},oC:function(){return wr},sL:function(){return Sr}});var r=t(67294),a=t(69430),i=t(71641),l=t(95878),o=t(66252),c=t(89313),s=t(44916),u=t(84829),m=t(98250),d=t(23933),v=t(57758),p=t(61348),g=t(70272),f=t(24145),y=t(73030),E=t(50319),b=t(46596),w=t(11719),h=t(29892),S=t(77561),I=t(58378),k=t(41496),R=t(73359),P=t(32424),x=t(55242),T=t(51544),D=t(94737),C=t(36101),F=t(62679),_=t(79183),L=t(4067),A=t(50240),z=t(64418),N=t(19633),O=t(20233),M=t(39973),V=t(70245),H=t(27630),G=t(99420),$=t(27483),U=t(68822),j=t(32135),B=t(33933),W=t(48145);function X(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,r=new Array(n);t<n;t++)r[t]=e[t];return r}function q(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function Q(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{},r=Object.keys(t);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(t).filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})))),r.forEach((function(n){q(e,n,t[n])}))}return e}function Y(e,n){return n=null!=n?n:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):function(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})),e}function K(e,n){if(null==e)return{};var t,r,a=function(e,n){if(null==e)return{};var t,r,a={},i=Object.keys(e);for(r=0;r<i.length;r++)t=i[r],n.indexOf(t)>=0||(a[t]=e[t]);return a}(e,n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)t=i[r],n.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(a[t]=e[t])}return a}function J(e,n){return function(e){if(Array.isArray(e))return e}(e)||function(e,n){var t=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=t){var r,a,i=[],l=!0,o=!1;try{for(t=t.call(e);!(l=(r=t.next()).done)&&(i.push(r.value),!n||i.length!==n);l=!0);}catch(c){o=!0,a=c}finally{try{l||null==t.return||t.return()}finally{if(o)throw a}}return i}}(e,n)||ne(e,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Z(e,n){return n||(n=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(n)}}))}function ee(e){return function(e){if(Array.isArray(e))return X(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||ne(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ne(e,n){if(e){if("string"==typeof e)return X(e,n);var t=Object.prototype.toString.call(e).slice(8,-1);return"Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t?Array.from(t):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?X(e,n):void 0}}function te(){var e=Z(["\n  fragment SpannableTextContentsFragment on EGDSSpannableText {\n    text\n    contents {\n      ...SpannableTextContentFragment\n    }\n    egdsElementId\n  }\n\n  fragment SpannableTextContentFragment on EGDSText {\n    ...SpannableContentPlainTextFragment\n    ...SpannableContentStandardLinkFragment\n    ...SpannableContentInlineLinkFragment\n  }\n\n  fragment SpannableContentPlainTextFragment on EGDSPlainText {\n    text\n  }\n\n  fragment SpannableContentStandardLinkFragment on EGDSStandardLink {\n    action {\n      target\n      resource {\n        ... on HttpURI {\n          relativePath\n          value\n        }\n      }\n    }\n    text\n    size\n    icon {\n      description\n      id\n      size\n      theme\n    }\n    iconPosition\n  }\n\n  fragment SpannableContentInlineLinkFragment on EGDSInlineLink {\n    action {\n      target\n      resource {\n        ... on HttpURI {\n          relativePath\n          value\n        }\n      }\n    }\n    text\n    size\n  }\n"]);return te=function(){return e},e}function re(){var e=Z(["\n  fragment InputFieldParts on EGDSInputField {\n    value\n    label\n    placeholder\n    validations {\n      errorMessage\n      __typename\n      ... on EGDSMaxLengthInputValidation {\n        maxLength\n      }\n      ... on EGDSMinLengthInputValidation {\n        minLength\n      }\n      ... on EGDSRegexInputValidation {\n        pattern\n      }\n    }\n  }\n\n  fragment PageParts on DirectFeedbackFormPage {\n    __typename\n    title\n    elements {\n      __typename\n      ... on EGDSElement {\n        egdsElementId\n      }\n      ... on DirectFeedbackInputField {\n        ...InputFieldParts\n      }\n      ... on DirectFeedbackTextArea {\n        ...InputFieldParts\n      }\n      ... on DirectFeedbackMultiSelectGroup {\n        ...DirectFeedbackMultiSelectGroupFragment\n      }\n      ... on EGDSPlainText {\n        text\n      }\n      ... on EGDSHeading {\n        text\n        headingType\n      }\n      ...SpannableTextContentsFragment\n    }\n    submitButton {\n      primary\n      egdsElementId\n    }\n    displayCondition {\n      fieldId\n      expectedValue\n    }\n  }\n\n  fragment DirectFeedbackMultiSelectGroupFragment on DirectFeedbackMultiSelectGroup {\n    groupName\n    required\n    errorMessage\n    options {\n      label {\n        text\n      }\n      name\n    }\n  }\n\n  ","\n"]);return re=function(){return e},e}function ae(){var e=Z(["\n  fragment ContentDirectFeedbackPromptFragment on DirectFeedbackPrompt {\n    title\n    pages {\n      ...PageParts\n    }\n  }\n\n  ","\n"]);return ae=function(){return e},e}function ie(){var e=Z(["\n  mutation ContentDirectFeedbackSubmit($context: ContextInput!, $id: ID!, $feedback: DirectFeedbackValuesInput!) {\n    directFeedbackSubmit(context: $context, id: $id, feedback: $feedback) {\n      errors {\n        fieldId\n        error\n      }\n    }\n  }\n"]);return ie=function(){return e},e}function le(){var e=Z(["\n  query ContentDirectFeedbackPromptQuery($context: ContextInput!, $id: ID!) {\n    directFeedbackPromptById(context: $context, id: $id) {\n      callToAction {\n        egdsElementId\n        icon {\n          id\n          size\n        }\n        primary\n      }\n      ...ContentDirectFeedbackPromptFragment\n    }\n  }\n  ","\n"]);return le=function(){return e},e}function oe(){var e=Z(["\n  fragment EmptyStateFragment on UIEmptyState {\n    heading\n    body\n  }\n"]);return oe=function(){return e},e}function ce(){var e=Z(["\n  fragment MessagingCardFragment on UIMessagingCard {\n    graphic {\n      __typename\n      ... on Icon {\n        id\n        description\n      }\n    }\n    primary\n    secondaries\n  }\n"]);return ce=function(){return e},e}function se(){var e=Z(["\n  fragment NoResultsMessageFragment on PropertyReviews {\n    noResultsMessage {\n      __typename\n      ...MessagingCardFragment\n      ...EmptyStateFragment\n    }\n  }\n  ","\n  ","\n"]);return se=function(){return e},e}function ue(){var e=Z(["\n  fragment ReviewChildFragment on ManagementResponse {\n    id\n    header {\n      text\n    }\n    response\n  }\n"]);return ue=function(){return e},e}function me(){var e=Z(["\n  fragment LodgingEGDSGraphicTextFragment on EGDSGraphicText {\n    text\n    graphic {\n      ... on Icon {\n        id\n        size\n      }\n      ... on Mark {\n        url {\n          ... on HttpURI {\n            value\n          }\n        }\n      }\n    }\n  }\n"]);return me=function(){return e},e}function de(){var e=Z(["\n  fragment EGDSInlineLinkFragment on EGDSInlineLink {\n    action {\n      accessibility\n      analytics {\n        linkName\n        referrerId\n      }\n      resource {\n        value\n      }\n      target\n    }\n    disabled\n    sizeEGDSLink: size\n    text\n  }\n"]);return de=function(){return e},e}function ve(){var e=Z(["\n  fragment EGDSPlainTextFragment on EGDSPlainText {\n    text\n  }\n"]);return ve=function(){return e},e}function pe(){var e=Z(["\n  fragment EGDSStylizedTextFragment on EGDSStylizedText {\n    __typename\n    text\n    theme\n    weight\n    size\n    decorative\n    accessibility\n  }\n"]);return pe=function(){return e},e}function ge(){var e=Z(["\n  fragment EGDSSpannableTextContentFragment on EGDSText {\n    ...EGDSStylizedTextFragment\n    ...EGDSPlainTextFragment\n    ...LodgingEGDSGraphicTextFragment\n    ...EGDSInlineLinkFragment\n  }\n\n  ","\n  ","\n  ","\n  ","\n"]);return ge=function(){return e},e}function fe(){var e=Z(["\n  fragment EGDSSpannableTextFragment on EGDSSpannableText {\n    text\n    contents {\n      ...EGDSSpannableTextContentFragment\n    }\n    inlineContent {\n      ...EGDSSpannableTextContentFragment\n    }\n  }\n\n  ","\n"]);return fe=function(){return e},e}function ye(){var e=Z(["\n  fragment FeedbackIndicatorFragment on PropertyReview {\n    reviewInteractionSections {\n      primaryDisplayString\n      accessibilityLabel\n      reviewInteractionType\n      feedbackAnalytics {\n        linkName\n        referrerId\n      }\n    }\n  }\n"]);return ye=function(){return e},e}function Ee(){var e=Z(["\n  mutation UpvotePropertyReviewWithAccessibility($context: ContextInput!, $reviewId: String!, $index: Int!) {\n    upvotePropertyReviewWithAccessibility(context: $context, reviewId: $reviewId, index: $index) {\n      primaryDisplayString\n      accessibilityLabel\n    }\n  }\n"]);return Ee=function(){return e},e}function be(){var e=Z(["\n  fragment PhotosFragment on PropertyReview {\n    id\n    photoSection {\n      imageClickAnalytics {\n        referrerId\n        linkName\n      }\n      exitAnalytics {\n        referrerId\n        linkName\n      }\n      navClickAnalytics {\n        referrerId\n        linkName\n      }\n    }\n    photos {\n      description\n      url\n    }\n  }\n"]);return be=function(){return e},e}function we(){var e=Z(["\n  fragment AuthorFragment on PropertyReview {\n    reviewAuthorAttribution {\n      text\n    }\n  }\n"]);return we=function(){return e},e}function he(){var e=Z(["\n  fragment PropertyReviewFooterSectionFragment on PropertyReviewFooterSection {\n    messages {\n      seoStructuredData {\n        itemscope\n        itemprop\n        itemtype\n        content\n      }\n      text {\n        ... on EGDSPlainText {\n          text\n        }\n        ... on EGDSGraphicText {\n          text\n          graphic {\n            ... on Mark {\n              description\n              id\n              size\n              url {\n                ... on HttpURI {\n                  relativePath\n                  value\n                }\n              }\n            }\n          }\n        }\n      }\n    }\n  }\n"]);return he=function(){return e},e}function Se(){var e=Z(["\n  fragment PropertyReviewRegionFragment on PropertyReview {\n    reviewRegion {\n      id\n    }\n  }\n"]);return Se=function(){return e},e}function Ie(){var e=Z(["\n  fragment PropertyReviewSourceFragment on PropertyReview {\n    propertyReviewSource {\n      accessibilityLabel\n      graphic {\n        description\n        id\n        size\n        token\n        url {\n          value\n        }\n      }\n      text {\n        value\n      }\n    }\n  }\n"]);return Ie=function(){return e},e}function ke(){var e=Z(["\n  fragment ReviewThemeFragment on ReviewThemes {\n    icon {\n      id\n    }\n    label\n  }\n"]);return ke=function(){return e},e}function Re(){var e=Z(["\n  fragment ReviewTranslationInfoFragment on PropertyReview {\n    translationInfo {\n      loadingTranslationText\n      targetLocale\n      translatedBy {\n        description\n      }\n      translationCallToActionLabel\n      seeOriginalText\n    }\n  }\n"]);return Re=function(){return e},e}function Pe(){var e=Z(["\n  fragment TravelersFragment on PropertyReview {\n    travelers\n  }\n"]);return Pe=function(){return e},e}function xe(){var e=Z(["\n  fragment ReviewParentFragment on PropertyReview {\n    id\n    superlative\n    locale\n    title\n    brandType\n    disclaimer\n    reviewScoreWithDescription {\n      label\n      value\n    }\n    text\n    highlightedText {\n      ...EGDSSpannableTextFragment\n    }\n    seeMoreAnalytics {\n      linkName\n      referrerId\n    }\n    submissionTime {\n      longDateFormat\n    }\n    impressionAnalytics {\n      event\n      referrerId\n    }\n    themes {\n      ...ReviewThemeFragment\n    }\n    reviewFooter {\n      ...PropertyReviewFooterSectionFragment\n    }\n    ...FeedbackIndicatorFragment\n    ...AuthorFragment\n    ...PhotosFragment\n    ...TravelersFragment\n    ...ReviewTranslationInfoFragment\n    ...PropertyReviewSourceFragment\n    ...PropertyReviewRegionFragment\n  }\n\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n"]);return xe=function(){return e},e}function Te(){var e=Z(["\n  query TranslateReviewQuery($context: ContextInput!, $propertyId: String!, $locale: Locale!, $reviewId: String!) {\n    propertyInfo(context: $context, propertyId: $propertyId) {\n      id\n      review(id: $reviewId, locale: $locale) {\n        translatedReviewId: id\n        translatedLocale: locale\n        translatedTitle: title\n        translatedText: text\n      }\n    }\n  }\n"]);return Te=function(){return e},e}function De(){var e=Z(["\n  fragment __PropertyReviewsListFragment on PropertyReviews {\n    summary {\n      paginateAction {\n        text\n        analytics {\n          referrerId\n          linkName\n        }\n      }\n    }\n    reviews {\n      contentDirectFeedbackPromptId\n      ...ReviewParentFragment\n      managementResponses {\n        ...ReviewChildFragment\n      }\n      reviewInteractionSections {\n        primaryDisplayString\n        reviewInteractionType\n      }\n    }\n    impressionAnalytics\n    ...NoResultsMessageFragment\n  }\n  ","\n  ","\n  ",",\n"]);return De=function(){return e},e}function Ce(){var e=Z(["\n  query ReviewsQuery($context: ContextInput!, $propertyId: String!, $searchCriteria: PropertySearchCriteriaInput!) {\n    propertyInfo(propertyId: $propertyId, context: $context) {\n      id\n      reviewInfo(searchCriteria: $searchCriteria) {\n        ...__PropertyReviewsListFragment\n      }\n    }\n  }\n  ","\n"]);return Ce=function(){return e},e}function Fe(){var e=Z(["\n  fragment LodgingEnrichedMessageFragment on LodgingEnrichedMessage {\n    __typename\n    subText\n    subtexts\n    value\n    theme\n    state\n    accessibilityLabel\n    icon {\n      id\n      size\n      theme\n    }\n    mark {\n      id\n    }\n    egdsMark {\n      url {\n        value\n      }\n    }\n  }\n"]);return Fe=function(){return e},e}function _e(){var e=Z(["\n  fragment RatingCountsFragment on PropertyReviewSummary {\n    ratingCounts {\n      count {\n        formatted\n      }\n      percent\n      rating\n      description\n      accessibilityLabel\n    }\n  }\n"]);return _e=function(){return e},e}function Le(){var e=Z(["\n  fragment ReviewSummaryDetailsFragment on PropertyReviewSummary {\n    reviewSummaryDetails {\n      label\n      formattedRatingOutOfMaxA11y {\n        value\n        accessibilityLabel\n      }\n    }\n  }\n"]);return Le=function(){return e},e}function Ae(){var e=Z(["\n  fragment EGDSDialogToolbarFragment on EGDSDialogToolbar {\n    closeText\n    title\n  }\n"]);return Ae=function(){return e},e}function ze(){var e=Z(["\n  fragment LodgingEGDSIconFragment on Icon {\n    description\n    id\n    size\n    theme\n    spotLight\n  }\n"]);return ze=function(){return e},e}function Ne(){var e=Z(["\n  fragment LodgingDialogTriggerMessageFragment on LodgingDialogTriggerMessage {\n    accessibilityLabel\n    value\n    icon {\n      ...LodgingEGDSIconFragment\n    }\n    clientSideAnalytics {\n      linkName\n      referrerId\n    }\n  }\n\n  ","\n"]);return Ne=function(){return e},e}function Oe(){var e=Z(["\n  fragment PropertyFilteredReviewsDialogFragment on PropertyFilteredReviewsDialog {\n    trigger {\n      ...LodgingDialogTriggerMessageFragment\n    }\n    ratingPercentage {\n      closeAnalytics {\n        referrerId\n        linkName\n      }\n      toolbar {\n        ...EGDSDialogToolbarFragment\n      }\n    }\n  }\n\n  ","\n  ","\n"]);return Oe=function(){return e},e}function Me(){var e=Z(["\n  fragment ReviewDisclaimerFragment on PropertyReviewSummary {\n    reviewDisclaimer\n    reviewDisclaimerHeading\n    strategy\n    reviewDisclaimerValues {\n      text\n    }\n    reviewDisclaimerLabel\n    reviewDisclaimerAnalytics {\n      referrerId\n      linkName\n    }\n    reviewDisclaimerUrl {\n      value\n      accessibilityLabel\n      link {\n        url\n      }\n    }\n    reviewDisclaimerAccessibilityLabel\n  }\n"]);return Me=function(){return e},e}function Ve(){var e=Z(["\n  fragment PropertyReviewsBreakdownFragment on PropertyReviewSummary {\n    averageOverallRatingValue {\n      formatted\n    }\n    averageOverallRatingSection {\n      ...LodgingEnrichedMessageFragment\n    }\n    superlative\n    strategy\n    propertyReviewCountDetails {\n      shortDescription\n    }\n    reviewDisclaimer\n    reviewDisclaimerLabel\n    ...ReviewDisclaimerFragment\n    totalCount {\n      raw\n    }\n    ...ReviewSummaryDetailsFragment\n    ...RatingCountsFragment\n    seeAllAction {\n      ...PropertyFilteredReviewsDialogFragment\n    }\n  }\n\n  ","\n  ","\n  ","\n  ","\n  ","\n"]);return Ve=function(){return e},e}function He(){var e=Z(["\n  fragment __PropertyReviewSummaryFragment on PropertyReviewSummary {\n    accessibilityLabel\n    overallScoreWithDescriptionA11y {\n      ...LodgingEnrichedMessageFragment\n    }\n    propertyReviewCountDetails {\n      fullDescription\n    }\n    ...ReviewDisclaimerFragment\n    reviewSummaryDetails {\n      label\n      ratingPercentage\n      formattedRatingOutOfMax\n    }\n    totalCount {\n      raw\n    }\n  }\n  ","\n  ","\n"]);return He=function(){return e},e}function Ge(){var e=Z(["\n  query PropertyReviewSummaries($context: ContextInput!, $propertyIds: [String!]!) {\n    propertyReviewSummaries(context: $context, propertyIds: $propertyIds) {\n      ...__PropertyReviewSummaryFragment\n    }\n  }\n  ","\n"]);return Ge=function(){return e},e}function $e(){var e=Z(["\n  query PropertyReviewAggregates($propertyIds: [String!]!, $context: ContextInput!) {\n    propertyReviewAggregates(propertyIds: $propertyIds, context: $context) {\n      propertySentiment {\n        text\n        subtext\n      }\n    }\n  }\n"]);return $e=function(){return e},e}function Ue(){var e=Z(["\n  query PropertyReviewSummariesLine($context: ContextInput!, $propertyIds: [String!]!) {\n    propertyReviewSummaries(context: $context, propertyIds: $propertyIds) {\n      overallScoreWithDescription\n      propertyReviewCountDetails {\n        fullDescription\n      }\n      reviewDisclaimer\n      reviewDisclaimerAccessibilityLabel\n      totalCount {\n        raw\n      }\n    }\n  }\n"]);return Ue=function(){return e},e}function je(){var e=Z(["\n  fragment SearchTextFragment on SortAndFilterViewModel {\n    sortAndFilter {\n      name\n      label\n      graphic {\n        ...SearchTextIconFragment\n      }\n      submittedAnalytics\n      initiatedAnalytics\n    }\n  }\n\n  fragment SearchTextIconFragment on Icon {\n    description\n    id\n    token\n  }\n"]);return je=function(){return e},e}function Be(){var e=Z(["\n  fragment SortTypeFragment on SortAndFilterViewModel {\n    sortAndFilter {\n      name\n      label\n      clickAnalytics {\n        linkName\n        referrerId\n      }\n      options {\n        label\n        isSelected\n        optionValue\n        description\n        clickAnalytics {\n          linkName\n          referrerId\n        }\n      }\n    }\n  }\n"]);return Be=function(){return e},e}function We(){var e=Z(["\n  fragment TravelerTypeFragment on SortAndFilterViewModel {\n    sortAndFilter {\n      name\n      label\n      options {\n        label\n        isSelected\n        optionValue\n        description\n        clickAnalytics {\n          linkName\n          referrerId\n        }\n      }\n    }\n  }\n"]);return We=function(){return e},e}function Xe(){var e=Z(["\n  query PropertyFilteredReviewsQuery($context: ContextInput!, $propertyId: String!, $searchCriteria: PropertySearchCriteriaInput!) {\n    propertyReviewSummaries(context: $context, propertyIds: [$propertyId], searchCriteria: $searchCriteria) {\n      ...__PropertyReviewSummaryFragment\n    }\n    propertyInfo(context: $context, propertyId: $propertyId) {\n      id\n      reviewInfo(searchCriteria: $searchCriteria) {\n        ...__PropertyReviewsListFragment\n        sortAndFilter {\n          ...TravelerTypeFragment\n          ...SortTypeFragment\n          ...SearchTextFragment\n        }\n      }\n    }\n  }\n  ","\n  ","\n  ","\n  ","\n  ","\n"]);return Xe=function(){return e},e}function qe(){var e=Z(["\n  query PropertyReviewsBreakdownQuery($context: ContextInput!, $propertyIds: [String!]!) {\n    propertyReviewSummaries(context: $context, propertyIds: $propertyIds) {\n      ...PropertyReviewsBreakdownFragment\n    }\n  }\n  ","\n"]);return qe=function(){return e},e}function Qe(){var e=Z(["\n  query PropertyReviewsQuery($context: ContextInput!, $propertyId: String!, $searchCriteria: PropertySearchCriteriaInput!) {\n    propertyInfo(context: $context, propertyId: $propertyId) {\n      id\n      reviewInfo(searchCriteria: $searchCriteria) {\n        summary {\n          seeAllReviewsCallToActionLabel\n          accessibilityLabel\n          strategy\n          ...PropertyReviewsBreakdownFragment\n        }\n        ...__PropertyReviewsListFragment\n      }\n    }\n  }\n  ","\n  ","\n"]);return Qe=function(){return e},e}function Ye(){var e=Z(["\n  query PropertyRoomScoresQuery($propertyIds: [String!]!, $context: ContextInput!, $withTags: Boolean!) {\n    propertyReviewAggregates(propertyIds: $propertyIds, context: $context) {\n      ...PropertyReviewAggregatesFragment\n    }\n  }\n\n  fragment PropertyReviewAggregatesFragment on PropertyReviewAggregates {\n    propertySummaries {\n      propertyId\n      roomsScore {\n        ...RoomSummaryFragment\n      }\n    }\n  }\n\n  fragment RoomSummaryFragment on RoomSummary {\n    scoreLabel\n    id\n    roomRatingListTitle @include(if: $withTags)\n    tags @include(if: $withTags) {\n      label\n    }\n  }\n"]);return Ye=function(){return e},e}var Ke=function(e,n){return e&&n?ee(n).concat(ee(e.filter((function(e){var t=e.id;return!n.some((function(e){var n;return t===(null===(n=e)||void 0===n?void 0:n.id)}))})))):e},Je=function(e,n){var t,r,a,i,l,o,c,s,u,m;return e&&n?Y(Q({},e,n),{secondary:{booleans:Ke(null===(t=e.secondary)||void 0===t?void 0:t.booleans,null===(r=n.secondary)||void 0===r?void 0:r.booleans),counts:Ke(null===(a=e.secondary)||void 0===a?void 0:a.counts,null===(i=n.secondary)||void 0===i?void 0:i.counts),dates:Ke(null===(l=e.secondary)||void 0===l?void 0:l.dates,null===(o=n.secondary)||void 0===o?void 0:o.dates),ranges:Ke(null===(c=e.secondary)||void 0===c?void 0:c.ranges,null===(s=n.secondary)||void 0===s?void 0:s.ranges),selections:Ke(null===(u=e.secondary)||void 0===u?void 0:u.selections,null===(m=n.secondary)||void 0===m?void 0:m.selections)}}):e},Ze=function(e,n){return function(t){var r=t.updateQuery,a=t.variables;e({updateQuery:r,variables:Y(Q({},n,a),{searchCriteria:Je(n.searchCriteria,a.searchCriteria)})})}},en="upvote a review",nn="HOT.HIS.REVIEW.THUMB_UP.UPVOTE",tn="Google translated review",rn="HOT.HIS.Reviews.GoogleTranslate",an="HOT.HIS.Reviews.ClickSeeAllReviewsToOpenDialog",ln="See All Reviews",on="NEWEST_TO_OLDEST_BY_LANGUAGE",cn="1.0.0",sn=function(e,n){return{event:{event_name:e,event_version:n}}},un="HOT.HIS.REVIEW.Report.FlagOpenDialog",mn="Report Review Dialog",dn="HOT.HIS.REVIEW.Report.OpenPartnerDisputeForm",vn="Report Review Partner Dispute Form",pn="HOT.HIS.REVIEW.Report.Submit",gn="Report Review Partner Submit Form",fn=(0,a.Ps)(te()),yn=function(e){var n=e.content,t=(0,m.useClickTracker)(),a=function(){return t(dn,vn)};switch(n.__typename){case"EGDSPlainText":return r.createElement(r.Fragment,null,n.text);case"EGDSInlineLink":return"HttpURI"===n.action.resource.__typename?r.createElement(v.n3,{inline:!0,size:n.size.toLowerCase()},r.createElement("a",{target:"_blank",href:n.action.resource.value,onClick:a,rel:"noreferrer"},n.text)):null;case"EGDSStandardLink":var i,l,o,c;return"HttpURI"===n.action.resource.__typename?r.createElement(v.n3,{inline:!0,size:n.size.toLowerCase()},r.createElement("a",{target:"_blank",href:n.action.resource.value,onClick:a,rel:"noreferrer"},n.text,r.createElement(u.H3,{margin:{blockend:"half"}},r.createElement(d.nn,{id:(null===(i=n.icon)||void 0===i?void 0:i.id)||"",name:(null===(l=n.icon)||void 0===l?void 0:l.id)||"",size:(null===(o=n.icon)||void 0===o?void 0:o.size)&&d.n0[n.icon.size],title:null===(c=n.icon)||void 0===c?void 0:c.description})))):null;default:return null}},En=function(e){var n=e.data;return r.createElement(g.sc,{size:300,spacing:"two"},n.contents.map((function(e,n){return r.createElement(yn,{key:"".concat(e.__typename,"-").concat(n),content:e})})))};En.displayName="SpannableText",En.fragment=fn;var bn=(0,a.Ps)(re(),En.fragment),wn=function(e){var n,t=e.data,a=e.handleSubmit,i=e.loading,l=e.reportStateUpdatetoParent,o=J((0,r.useState)({}),2),s=o[0],m=o[1],d=function(e){var n=Y(Q({},s),q({},e.currentTarget.value,e.currentTarget.checked));m(n),l(n)},v=!!(null===(n=t.elements.find((function(e){return"DirectFeedbackMultiSelectGroup"===e.__typename})))||void 0===n?void 0:n.required),p=Object.keys(s).some((function(e){return s[e]})),f=i||v&&!p;return r.createElement(r.Fragment,null,t.elements.map((function(e,n){switch(e.__typename){case"EGDSPlainText":return r.createElement(u.H3,{key:"".concat(e.__typename,"-").concat(n),margin:{blockstart:"six",blockend:"two"}},r.createElement(g.sc,{size:300,spacing:"two"},e.text));case"EGDSSpannableText":return r.createElement(u.H3,{key:"".concat(e.__typename,"-").concat(n),margin:{blockstart:"six",blockend:"two"}},r.createElement(En,{data:e}));case"EGDSHeading":var t;return r.createElement(u.H3,{key:"".concat(e.__typename,"-").concat(n),margin:{blockstart:"three",blockend:"two"}},r.createElement(g.If,{tag:null===(t=e.headingType)||void 0===t?void 0:t.toLowerCase(),size:5},e.text));case"DirectFeedbackMultiSelectGroup":return r.createElement(r.Fragment,{key:"".concat(e.__typename,"-").concat(n)},e.options.map((function(e,n){var t=e.label.text,a=e.name;return r.createElement(S.H2,{id:"".concat(t,"-").concat(a),key:"".concat(e.__typename,"-").concat(n),onChange:d,value:a||"",checked:s[a||""]},t)})));default:return null}})),r.createElement(u.H3,{margin:{blockstart:"four"}},r.createElement("div",null,r.createElement(c.EA,{disabled:f,onClick:a,size:c.Pl.SMALL},t.submitButton.primary))))};wn.displayName="ContentDirectFeedbackPromptPage",wn.fragment=bn;var hn=(0,a.Ps)(ae(),wn.fragment),Sn=(0,a.Ps)(ie()),In=function(e){var n=e.closeReportDialog,t=e.data,a=e.feedbackContext,i=e.handleShowToast,o=e.hideReview,c=e.inputs,s=e.triggerRef,u=(0,h.useLocalization)().formatText,d=J((0,E.D)(Sn),2),v=d[0],g=d[1].loading,f=(0,l.v)().context,y=J((0,r.useState)({}),2),S=y[0],I=y[1],k=(0,m.useClickTracker)(),R=t.title||"Report review",P=u("close.dialog"),x=t.pages[0];if(!x)return null;return r.createElement(p.A5,{type:"centered",isVisible:!0,triggerRef:s},r.createElement(w.tv,{toolbarTitle:R,navigationContent:{onClick:n,navIconLabel:P,navType:"close"}}),r.createElement(b.pN,null,r.createElement(wn,{data:x,handleSubmit:function(){var e;if(!g){var t=function(e,n){var t;return{context:e,formValues:[(t=n,{key:"report_category",value:Object.keys(t).filter((function(e){return t[e]})).join(",")})]}}(a,S);v({variables:{context:f,feedback:t,id:null===(e=c)||void 0===e?void 0:e.id}}),o();var r=Object.entries(S).filter((function(e){var n=J(e,2);n[0];return n[1]}));r.forEach((function(e){var n,t=J(e,2),r=t[0],a=(t[1],{rfrr:"HOT.HIS.REVIEW.Report.".concat(n=r),link:"Review report reason is ".concat(n)});k(a.rfrr,a.link,!0)})),k(pn,gn,!0),n(),i()}},loading:g,reportStateUpdatetoParent:function(e){I(e)}})))};In.displayName="ContentDirectFeedbackPrompt",In.fragment=hn;var kn=(0,a.Ps)(le(),In.fragment),Rn=function(e){var n,t,a,o,c,s,E,b,w=e.dialogId,h=e.inputs.id,S=(0,l.v)().context,I=(0,i.a)(kn,{variables:{id:h,context:S}}),k=I.data,R=I.error,P=I.loading,x=J((0,r.useState)(!1),2),T=x[0],D=x[1],C=J((0,y.useDialog)("content-direct-feedback-dialog-".concat(w),"pwaDialogNested"),3),F=C[0],_=C[1],L=C[2],A=(0,m.useClickTracker)(),z=r.useRef(null),N=null===(n=k)||void 0===n?void 0:n.directFeedbackPromptById;if(R||P||!N)return null;var O=_.openDialog,M=_.closeDialog,V=null===(t=N.callToAction)||void 0===t?void 0:t.primary,H=null===(a=N.callToAction)||void 0===a?void 0:a.icon,G=null===(c=null===(o=N)||void 0===o?void 0:o.pages[1])||void 0===c?void 0:c.elements.find((function(e){return"EGDSPlainText"===e.__typename}));return r.createElement(r.Fragment,null,r.createElement(v.n3,{inline:!0,onClick:function(){A(un,mn),O(),D(!1)}},r.createElement("button",{type:"button",ref:z},r.createElement(d.nn,{name:(null===(s=H)||void 0===s?void 0:s.id)||"",key:null===(E=H)||void 0===E?void 0:E.id,size:(null===(b=H)||void 0===b?void 0:b.size)&&d.n0[H.size]}),r.createElement(u.H3,{padding:{inlinestart:"one"}},r.createElement(g.sc,{inline:!0,size:200},V)))),r.createElement(p.Xw,{isVisible:F},r.createElement(L,null,r.createElement(In,Y(Q({},e),{closeReportDialog:M,data:N,handleShowToast:function(){return D(!0)},triggerRef:z})))),G&&r.createElement(f.t0,{show:T},G.text))};Rn.displayName="ContentDirectFeedbackCallToAction";var Pn=(0,a.Ps)(oe()),xn=function(e){var n=e.data,t=n.heading,a=n.body;return r.createElement(I.Ju,null,r.createElement(u.H3,{margin:{blockstart:"six"}},r.createElement(g.If,{size:5,tag:"h3"},t)),r.createElement(g.sc,{spacing:"two",size:300},a))};xn.displayName="EmptyState",(xn.fragment=Pn).__typename="UIEmptyState";var Tn=(0,a.Ps)(ce()),Dn=function(e){var n,t,a=e.data,i=a.graphic,l=a.primary,o=a.secondaries,c="Icon"===(null===(n=i)||void 0===n?void 0:n.__typename)&&r.createElement(d.nn,{name:i.id,id:i.id,description:i.description,spotlight:"info"});return r.createElement(s.m9,{padded:!0,border:!0},r.createElement(k.lu,{alignItems:"center",space:"two"},r.createElement(k.Vt,null,r.createElement("div",null,c)),r.createElement(u.H3,{margin:{inlinestart:"two"}},r.createElement(k.Vt,null,r.createElement("div",null,l&&r.createElement(g.If,{tag:"h4"},l),r.createElement(g.sc,{size:300},null===(t=o)||void 0===t?void 0:t[0]))))))};Dn.displayName="MessagingCard",(Dn.fragment=Tn).__typename="UIMessagingCard";var Cn=(0,a.Ps)(se(),Dn.fragment,xn.fragment),Fn=function(e){var n,t=e.data.noResultsMessage;return t?(t.__typename===Dn.fragment.__typename?n=r.createElement(Dn,{data:t}):t.__typename===xn.fragment.__typename&&(n=r.createElement(xn,{data:t})),n):null};Fn.fragment=Cn,Fn.displayName="NoResultsMessage";var _n=(0,a.Ps)(ue()),Ln=function(e){var n,t=e.data,a=t.id,i=t.header,l=t.response;return a&&l?r.createElement(u.H3,{border:["inlinestart"],padding:{inlinestart:"three"},margin:{blockstart:"four"}},r.createElement("article",{id:a},r.createElement("section",null,(null===(n=i)||void 0===n?void 0:n.text)&&r.createElement(g.sc,{weight:"bold",size:200},i.text)),r.createElement("section",null,r.createElement(u.H3,{padding:{block:"two"}},r.createElement(g.sc,{size:200,theme:"default"},l))))):null};Ln.displayName="ReviewChild",Ln.fragment=_n;var An,zn=Ln,Nn=(0,a.Ps)(me()),On=function(e){var n,t,a,i,l,o,c=e.data,s=e.textProps,m=e.customTextSize,v=e.flexLayout,p=c.text,f=c.graphic;return r.createElement("div",null,"Icon"===(null===(n=f)||void 0===n?void 0:n.__typename)&&f.id&&!v&&r.createElement(u.H3,{padding:{inlineend:"two"}},r.createElement(d.nn,{name:f.id,size:f.size?d.n0[f.size]:d.n0.EXTRA_SMALL})),"Mark"===(null===(t=f)||void 0===t?void 0:t.__typename)&&(null===(a=f.url)||void 0===a?void 0:a.value)&&!v&&r.createElement(u.H3,{padding:{inlineend:"two"}},r.createElement(T.I$,{url:f.url.value,size:T.jN.SMALL})),v?r.createElement(k.lu,{alignItems:"center",space:"two"},"Icon"===(null===(i=f)||void 0===i?void 0:i.__typename)&&r.createElement(d.nn,{name:f.id}),"Mark"===(null===(l=f)||void 0===l?void 0:l.__typename)&&(null===(o=f.url)||void 0===o?void 0:o.value)&&r.createElement(T.I$,{url:f.url.value,size:T.jN.SMALL}),r.createElement(g.sc,Q({size:m||200},s),p)):r.createElement(g.sc,Y(Q({size:m||200},s),{inline:!!f}),p))};On.fragment=Nn,On.displayName="LodgingEGDSGraphicText";var Mn,Vn=(q(An={},"SMALL","small"),q(An,"MEDIUM","medium"),q(An,"LARGE","medium"),An),Hn=(q(Mn={},"EXTERNAL","_blank"),q(Mn,"INTERNAL","_self"),Mn),Gn=(0,a.Ps)(de()),$n=function(e){var n=e.className,t=e.data,a=t.action,i=t.disabled,l=t.sizeEGDSLink,o=t.text,c=(0,m.useClickTracker)(),s=r.useCallback((function(){a.analytics&&c(a.analytics.referrerId,a.analytics.linkName)}),[c,a]);return a&&r.createElement(v.n3,{className:n,size:Vn[l],onClickCapture:s,disabled:i,inline:!0},r.createElement("a",{href:a.resource.value,target:Hn[a.target]},o,a.accessibility&&r.createElement("span",{className:"is-visually-hidden"},a.accessibility)))};$n.fragment=Gn,$n.displayName="EGDSInlineLink";var Un,jn=(0,a.Ps)(ve()),Bn=function(e){var n=e.className,t=e.inline,a=e.size,i=e.align,l=e.data.text;return r.createElement(g.sc,{className:n,inline:t,size:a,align:i},l)};Bn.fragment=jn,Bn.displayName="EGDSPlainText";var Wn,Xn=(q(Un={},"EMPHASIS","emphasis"),q(Un,"LOYALTY","loyalty"),q(Un,"NEGATIVE","negative"),q(Un,"POSITIVE","positive"),q(Un,"PRIMARY","emphasis"),q(Un,"SECONDARY","default"),q(Un,"INVERSE","inverse"),Un),qn=(q(Wn={},"BOLD","bold"),q(Wn,"MEDIUM","medium"),q(Wn,"REGULAR","regular"),Wn),Qn=(0,a.Ps)(pe()),Yn={100:100,200:200,300:300,400:400,500:500,600:600,700:700,800:800,900:900},Kn={HIGHLIGHT:"mark",LINE_THROUGH:"s",SUBSCRIPT:"sub",SUPERSCRIPT:"sup",UNDERLINE:"u"},Jn=function(e){var n=e.data,t=e.theme,a=e.weight,i=e.size,l=K(e,["data","theme","weight","size"]),o=n.decorative,c=n.accessibility,s=Q({theme:n.theme?Xn[n.theme]:t,weight:n.weight?qn[n.weight]:a,size:n.size?Yn[n.size]:i},l),u=o&&Kn[o],m=u?r.createElement(u,null,n.text):n.text;return r.createElement(r.Fragment,null,r.createElement(g.sc,Y(Q({},s),{"aria-hidden":Boolean(c)}),m),c&&r.createElement("span",{className:"is-visually-hidden"},c))};Jn.fragment=Qn,Jn.displayName="EGDSStylizedText";var Zn=(0,a.Ps)(ge(),Jn.fragment,Bn.fragment,$n.fragment,On.fragment),et=function(e){var n,t=e.className,a=e.size,i=e.data,l=e.handleInlineLinkClick,o=e.triggerRef,c=(0,m.useClickTracker)(),s="EGDSInlineLink"===i.__typename?null===(n=i.action)||void 0===n?void 0:n.analytics:null,u=r.useCallback((function(){var e,n,t;(null===(e=s)||void 0===e?void 0:e.referrerId)&&(null===(n=s)||void 0===n?void 0:n.linkName)&&c(s.referrerId,s.linkName),null===(t=l)||void 0===t||t()}),[l]);switch(i.__typename){case"EGDSStylizedText":return r.createElement(Jn,{className:t,data:i,size:a,inline:!0});case"EGDSPlainText":return r.createElement(Bn,{className:t,data:i,size:a,inline:!0});case"EGDSGraphicText":return r.createElement(On,{data:i});case"EGDSInlineLink":return l?r.createElement(v.n3,{inline:!0,onClick:function(){return u()},domRef:o},r.createElement("button",{type:"button","data-stid":"reviews-link"},i.text)):r.createElement($n,{data:i});default:return null}};et.fragment=Zn,et.displayName="EGDSSpannableTextContent";var nt=(0,a.Ps)(fe(),et.fragment),tt=function(e){var n,t,a,i,l,o,c=e.align,s=e.data,u=K(e,["align","data"]);return 0!==(null===(t=s)||void 0===t||null===(n=t.contents)||void 0===n?void 0:n.length)||(null===(i=s)||void 0===i||null===(a=i.inlineContent)||void 0===a?void 0:a.length)?(null===(o=s)||void 0===o||null===(l=o.inlineContent)||void 0===l?void 0:l.length)?r.createElement(r.Fragment,null,s.inlineContent.map((function(e,n){return r.createElement(et,Y(Q({data:e},u),{key:"spannable-item-".concat(n)}))}))):r.createElement(r.Fragment,null,s.contents.map((function(e,n){return r.createElement(r.Fragment,{key:"spannable-item-".concat(n)},r.createElement(et,Q({data:e},u)))}))):r.createElement(g.sc,Y(Q({},u),{inline:!0,align:c}),s.text)};tt.fragment=nt,tt.displayName="EGDSSpannableText";var rt=(0,a.Ps)(ye()),at=(0,a.Ps)(Ee()),it=function(e){var n,t,a,i,o,c,s,p=e.data,g=e.reviewId,f=e.reviewIndex,y=e.reviewsPage,b=(0,l.v)().context,w=p.reviewInteractionSections,h=J((0,E.D)(at),2),S=h[0],I=h[1],k=(0,m.useClickTracker)(),R=null===(t=I)||void 0===t||null===(n=t.data)||void 0===n?void 0:n.upvotePropertyReviewWithAccessibility;if((0,r.useEffect)((function(){var e,n,t;(null===(e=R)||void 0===e?void 0:e.accessibilityLabel)&&(0,D.Pg)(null!==(t=null===(n=R)||void 0===n?void 0:n.accessibilityLabel)&&void 0!==t?t:"",D.aC.POLITE)}),[R]),!(null===(a=w)||void 0===a?void 0:a.length))return null;var P=null===(i=w)||void 0===i?void 0:i.find((function(e){return"HELPFUL_REVIEW"===e.reviewInteractionType}));if(!P)return null;var x,T,C=P.primaryDisplayString,F=P.accessibilityLabel,_=P.feedbackAnalytics,L=null!==(x=null===(o=R)||void 0===o?void 0:o.primaryDisplayString)&&void 0!==x?x:C,A=null!==(T=null===(c=R)||void 0===c?void 0:c.accessibilityLabel)&&void 0!==T?T:F;return r.createElement(u.H3,{padding:{inlineend:"one"}},r.createElement("div",{"data-stid":"property-review-feedback-indicator"},r.createElement(v.n3,{disabled:null===(s=I)||void 0===s?void 0:s.called,onClick:function(){_&&"ReviewsOverlay"===y?k(_.referrerId,_.linkName):k(nn,en),S({variables:{context:b,reviewId:g,index:f}})}},r.createElement("button",{"aria-label":null!=A?A:"",type:"button"},r.createElement(d.nn,{name:"thumb_up",size:d.n0.EXTRA_SMALL}),L&&r.createElement(lt,{count:L})))))},lt=function(e){var n=e.count;return r.createElement(u.H3,{padding:{inlinestart:"one"}},r.createElement(g.sc,{inline:!0,size:200},n))};it.displayName="FeedbackIndicator",it.fragment=rt;var ot=it,ct=(0,a.Ps)(be()),st=function(e){var n,t,a=e.data,i=e.reviewsPage,l=a.id,o=a.photos,s=a.photoSection||{},d=s.imageClickAnalytics,v=s.exitAnalytics,g=s.navClickAnalytics,f=(0,m.useClickTracker)(),E=r.useRef(null),b=J(r.useState(0),2),w=b[0],h=b[1],S=J((0,y.useDialog)("review-".concat(l,"-photo-gallery-dialog"),"pwaPhotosReviewsDialog"),3),I=S[0],k=S[1],R=S[2],P=r.useCallback((function(e){if(d){var n=d.linkName,t=d.referrerId;i&&t&&n&&(t=t.replace("reviewsPage",i),f(t,n))}E.current=document.activeElement,h(e),k.openDialog()}),[k,d,i,f]),x=i&&(null===(n=g)||void 0===n?void 0:n.referrerId)?{id:g.referrerId,description:g.linkName,callback:function(e,n){return f(e,n)}}:void 0,T=r.useMemo((function(){var e;return null===(e=o)||void 0===e?void 0:e.map((function(e){return{src:e.url,caption:e.description}}))}),[o]);if(!(null===(t=o)||void 0===t?void 0:t.length))return null;var D={currentIndex:w,onIndexChange:h};return r.createElement(r.Fragment,null,r.createElement(u.H3,{padding:{block:"two"}},r.createElement(F.PX,{columns:4,rows:1},o.slice(0,4).map((function(e,n){return r.createElement(F.UX,{key:e.url},r.createElement(C.A1,{ratio:C.zT.R4_3,className:"all-image-fit-cover"},r.createElement(C.xH,{src:e.url,alt:e.description}),r.createElement(C.CS,null,r.createElement(c.RJ,{onClick:function(){return P(n)},domRef:E}))))})))),r.createElement(p.Xw,{isVisible:I},r.createElement(R,null,r.createElement(_.VC,{dialogShow:I,onDismiss:function(){var e;if(null===(e=E.current)||void 0===e||e.focus(),k.closeDialog(),v){var n=v.linkName,t=v.referrerId;i&&t&&n&&(t=t.replace("reviewsPage",i),f(t,n))}},triggerRef:E,strictFullscreen:!0},r.createElement(_.Bx,Y(Q({},D),{images:T,stretchToFill:!1,galleryName:i,analytics:x}))))))};st.displayName="Photos",st.fragment=ct;var ut=(0,a.Ps)(we()),mt=function(e){var n,t=null===(n=e.data.reviewAuthorAttribution)||void 0===n?void 0:n.text;return t?r.createElement(g.If,{size:7,tag:"h4"},t):null};mt.displayName="PropertyReviewAuthor",mt.fragment=ut;var dt=(0,a.Ps)(he()),vt=function(e){var n=e.data;return r.createElement(r.Fragment,null,n.messages.map((function(e,n){var t;return r.createElement("div",{key:"review-footer-message-".concat(n)},e.seoStructuredData&&r.createElement(g.If,{size:7,tag:"h5",itemScope:e.seoStructuredData.itemscope,itemProp:e.seoStructuredData.itemprop,itemType:e.seoStructuredData.itemtype,hidden:!0},r.createElement("span",{itemProp:"name"},e.seoStructuredData.content)),e.text&&r.createElement(k.lu,{space:"two"},"EGDSGraphicText"===e.text.__typename&&"Mark"===(null===(t=e.text.graphic)||void 0===t?void 0:t.__typename)&&r.createElement(k.Vt,null,r.createElement(T.nx,{name:e.text.graphic.id})),r.createElement(k.Vt,null,r.createElement(g.sc,{size:200,theme:"default"},e.text.text))))})))};vt.displayName="PropertyReviewFooterSectionFragment",vt.fragment=dt;var pt=(0,a.Ps)(Se()),gt=function(e){var n=e.data;return n&&n.reviewRegion?r.createElement(T.nx,{name:n.reviewRegion.id}):null};gt.displayName="PropertyReviewRegion",gt.fragment=pt;var ft=(0,a.Ps)(Ie()),yt=function(e){var n,t=e.data.propertyReviewSource||{},a=t.text,i=t.graphic,l=t.accessibilityLabel;if(!a||!a.value)return null;var o=i||{},c=o.id,s=o.description,m=o.url;return r.createElement(r.Fragment,null,r.createElement(k.lu,{space:"one",tabIndex:-1,alignItems:"end"},r.createElement(k.Vt,null,r.createElement(g.sc,{size:200,theme:"default",overflow:"truncate","data-stid":"property-source"},a.value)),r.createElement(k.Vt,null,r.createElement(r.Fragment,null,c&&r.createElement(u.H3,{padding:{blockend:"one"}},r.createElement("div",null,r.createElement(T.I$,{name:c,size:T.nP.EXTRA_SMALL,description:s}))),!c&&(null===(n=m)||void 0===n?void 0:n.value)&&r.createElement(T.I$,{url:m.value,size:T.nP.EXTRA_SMALL,description:s})))),l&&r.createElement(g.sc,{className:"is-visually-hidden"},l))};yt.displayName="PropertyReviewSource",yt.fragment=ft;var Et=(0,a.Ps)(ke()),bt=function(e){var n=e.data,t=e.themeUniqueId,a=n.label,i=n.icon;return i&&a?r.createElement(u.H3,{margin:{blockstart:"two"}},r.createElement("div",null,r.createElement(d.nn,{"aria-hidden":!0,size:d.n0.SMALL,name:i.id,id:"".concat(i.id,"-").concat(t)}),r.createElement(u.H3,{padding:{inlinestart:"two"}},r.createElement(g.sc,{size:200,theme:"default",inline:!0},a)))):null};bt.displayName="ReviewTheme",bt.fragment=Et;var wt=(0,a.Ps)(Re()),ht=function(e){var n=e.data,t=e.isLoading,a=e.isTranslated,i=e.onTranslateClicked,l=n.translationInfo,o=(0,m.useClickTracker)();if(!l)return null;return t?r.createElement(g.sc,{size:200,theme:"default"},l.loadingTranslationText):r.createElement(r.Fragment,null,a?r.createElement(r.Fragment,null,r.createElement(g.sc,{inline:!0,size:200,theme:"default"},l.translatedBy.description),r.createElement(u.H3,{margin:{block:"two",inlinestart:"two"}},r.createElement(v.n3,{className:"uitk-type-300",size:"small",inline:!0},r.createElement("button",{type:"button",onClick:i},l.seeOriginalText)))):r.createElement(u.H3,{margin:{block:"two"}},r.createElement(v.n3,{className:"uitk-type-300 ",size:"small",inline:!0},r.createElement("button",{type:"button",onClick:function(){o(rn,tn),i()}},l.translationCallToActionLabel))))};ht.displayName="ReviewTranslationInfo",ht.fragment=wt;var St=(0,a.Ps)(Pe()),It=function(e){var n,t=e.data.travelers;return(null===(n=t)||void 0===n?void 0:n.length)?r.createElement(g.sc,{size:300,theme:"default"},t.join(", ")):null};It.displayName="Travelers",It.fragment=St;var kt=(0,a.Ps)(xe(),mt.fragment,st.fragment,It.fragment,bt.fragment,ot.fragment,ht.fragment,yt.fragment,gt.fragment,vt.fragment,tt.fragment),Rt=(0,a.Ps)(Te()),Pt=function(e){var n,t,a,i,o,c,s,d,v,p,f,y=e.data,E=e.children,b=e.propertyId,w=e.reviewIndex,h=e.reviewsPage,S=y.id,I=y.superlative,T=y.disclaimer,D=y.themes,C=y.submissionTime,F=y.title,_=y.text,L=y.highlightedText,A=y.seeMoreAnalytics,z=y.reviewScoreWithDescription,N=y.impressionAnalytics,O=y.reviewFooter,M=J(r.useState(!1),2),V=M[0],H=M[1],G=J(r.useState(!1),2),$=G[0],U=G[1],j=(0,l.v)().context,B=J((0,R.t)(Rt),2),W=B[0],X=B[1],q=X.data,Q=X.called,Y=X.loading,K=(0,m.useClickTracker)(),Z=r.useCallback((function(){!$&&A&&A.referrerId&&h&&K(A.referrerId.concat(h),A.linkName),U(!$)}),[$,K,A,h]),ee=null===(a=q)||void 0===a||null===(t=a.propertyInfo)||void 0===t||null===(n=t.review)||void 0===n?void 0:n.translatedText,ne=null===(c=q)||void 0===c||null===(o=c.propertyInfo)||void 0===o||null===(i=o.review)||void 0===i?void 0:i.translatedTitle,te=V&&ne?ne:F,re=r.createElement("article",{itemProp:"review",itemScope:!0,itemType:"http://schema.org/Review",id:S},T&&r.createElement(u.H3,{margin:{blockend:"two"}},r.createElement(g.sc,{size:200,theme:"default"},r.createElement("span",null,T))),I&&r.createElement(u.H3,{padding:{blockend:"two"}},r.createElement("section",{itemProp:"reviewRating",itemScope:!0,itemType:"http://schema.org/Rating","data-stid":"property-reviews-parent__section-superlative"},(null===(s=z)||void 0===s?void 0:s.value)&&r.createElement(g.If,{tag:"h3",size:5,"aria-label":z.label||""},r.createElement("span",{itemProp:"ratingValue"},z.value)))),r.createElement("section",null,r.createElement(mt,{data:y}),r.createElement(It,{data:y}),r.createElement(g.sc,{size:300,theme:"default"},r.createElement("span",{itemProp:"datePublished"},C.longDateFormat))),D&&D.length>0&&r.createElement(u.H3,{margin:{block:"two"}},r.createElement("section",{"data-stid":"property-reviews-parent__section-sentiments"},D.map((function(e,n){return r.createElement(bt,{themeUniqueId:"".concat(S,"-").concat(n),data:e,key:"review-theme-".concat(n)})})))),r.createElement(ht,{data:y,isLoading:Y,isTranslated:V,onTranslateClicked:function(){Q||W({variables:{context:j,propertyId:b,reviewId:S,locale:j.locale}}),H(!V)}}),(F||_||L)&&r.createElement(u.H3,{margin:{block:"two"}},r.createElement("section",null,te&&r.createElement(g.If,{tag:"h5",size:6,"data-stid":"review_section_title"},r.createElement("span",{itemProp:"name"},te)),r.createElement(u.H3,{padding:{blockstart:"two"}},r.createElement(P.RC,{isVisible:$,lines:5,handleClick:Z},r.createElement(g.sc,{size:300,theme:"default"},r.createElement("span",{itemProp:"description"},V&&ee?ee:(d=_,(null===(f=v=L)||void 0===f||null===(p=f.inlineContent)||void 0===p?void 0:p.length)?r.createElement(x.t,{inlineContentList:v.inlineContent}):d))))))),r.createElement(st,{data:y,reviewsPage:h}),r.createElement(u.H3,{margin:{block:"two"}},r.createElement("section",null,r.createElement(k.lu,{justifyContent:"space-between",alignItems:"end"},r.createElement(k.Vt,null,r.createElement(k.lu,{direction:"column"},O&&r.createElement(k.Vt,null,r.createElement(k.lu,{space:"two",direction:"row"},r.createElement(vt,{data:O}))),r.createElement(k.Vt,null,r.createElement(u.H3,{margin:{blockstart:"three"}},r.createElement(k.lu,{justifyContent:"start"},r.createElement(k.Vt,null,r.createElement(ot,{reviewId:S,reviewIndex:w,data:y,reviewsPage:h})),r.createElement(k.Vt,null,E)))))),r.createElement(k.Vt,null,r.createElement(yt,{data:y})))))),ae=N||{},ie=ae.referrerId,le=void 0===ie?"":ie,oe=ae.event,ce=void 0===oe?"":oe;return"ReviewsOverlay"===h&&le&&ce?r.createElement(m.IntersectionTracker,{trackOnce:!0,referrerId:le,linkName:ce},re):re};Pt.displayName="ReviewParent",Pt.fragment=kt;var xt=Pt,Tt=(0,a.Ps)(De(),xt.fragment,zn.fragment,Fn.fragment),Dt=function(e){var n,t,a,i=e.data,l=e.fetchMore,d=e.hideManagementResponse,v=e.propertyId,p=e.showLoadMoreCTA,g=void 0===p||p,f=e.size,y=e.reviewsPage,E=(0,o.x)().cache,b=i.reviews,w=null===(n=i.summary)||void 0===n?void 0:n.paginateAction,h=(null===(t=w)||void 0===t?void 0:t.analytics)||{},S=h.referrerId,I=h.linkName,k=(0,m.useClickTracker)(),R={clientPayload:sn("reviews.viewed",cn),serverPayload:i.impressionAnalytics},P="ReviewsOverlay"===y,x=r.createElement(s.m9,null,b&&b.length>0&&b.map((function(e,n){var t,a=e.managementResponses,i=e.id,l=e.brandType;return r.createElement(s.oV,{border:"bottom",key:"review-".concat(i),"data-stid":"property-reviews-list-item"},r.createElement(xt,{data:e,propertyId:v,reviewIndex:n+1,reviewsPage:y},e.contentDirectFeedbackPromptId&&r.createElement(Rn,{dialogId:i,feedbackContext:[{key:"brand",value:l||""},{key:"property_id",value:v},{key:"review_id",value:i}],hideReview:(t=i,function(){var e=E.identify({id:t,__typename:"PropertyReview"});E.evict({id:e}),E.gc()}),inputs:{id:e.contentDirectFeedbackPromptId}})),!d&&a.length>0&&e.managementResponses[0]&&r.createElement(zn,{data:e.managementResponses[0]}))})),r.createElement(Fn,{data:i})),T=r.createElement(m.EgClickstreamImpressionTracker,{eventData:R},x);return r.createElement("section",null,P?T:x,w&&g&&r.createElement(u.H3,{margin:{block:"three"}},r.createElement("div",{className:"uitk-type-center"},r.createElement(c.VK,{onClick:function(){S&&I&&k(S,I),l({variables:{searchCriteria:{secondary:{counts:[{id:"startIndex",value:b.length},{id:"size",value:f}]}}},updateQuery:function(e,n){var t=n.fetchMoreResult;return t?Y(Q({},e),{propertyInfo:Y(Q({},e.propertyInfo),{reviewInfo:Y(Q({},e.propertyInfo.reviewInfo),{summary:Q({},e.propertyInfo.reviewInfo.summary,t.propertyInfo.reviewInfo.summary),reviews:ee(e.propertyInfo.reviewInfo.reviews).concat(ee(t.propertyInfo.reviewInfo.reviews))})})}):e}})}},null===(a=w)||void 0===a?void 0:a.text))))};Dt.displayName="PropertyReviewsList",Dt.fragment=Tt;var Ct=Dt,Ft=(0,a.Ps)(Ce(),Tt);r.memo((function(e){var n,t,a,o,c=e.inputs.searchCriteria,s=K(e.inputs,["searchCriteria"]),u=(0,l.v)().context,m=String(s.propertyId),d=(null===(t=s)||void 0===t||null===(n=t.pagination)||void 0===n?void 0:n.size)||10,v=(null===(o=s)||void 0===o||null===(a=o.pagination)||void 0===a?void 0:a.startingIndex)||0,p={context:u,propertyId:m,searchCriteria:{primary:c.primary,secondary:{booleans:[{id:"includeRecentReviews",value:!0},{id:"includeRatingsOnlyReviews",value:!0}],counts:[{id:"startIndex",value:v},{id:"size",value:d}],selections:[{id:"sortBy",value:on}]}}},g=(0,i.a)(Ft,{variables:p,errorPolicy:"all",fetchPolicy:"cache-first"}),f=g.data,y=g.error,E=g.loading,b=g.fetchMore;if(E||y||!f)return null;var w=Ze(b,p);return r.createElement(Ct,{propertyId:m,size:d,data:f.propertyInfo.reviewInfo,fetchMore:w})})).displayName="sharedui-PropertyReviewsList";var _t=(0,a.Ps)(Fe()),Lt={AGGRESSIVE:"negative",HIGHLIGHT:"positive",LOYALTY:"loyalty"},At={STRONG:"bold"},zt=function(e){var n,t=e.data,a=e.markSize,i=e.textSize,l=t.subText,o=t.value,c=t.theme,s=t.icon,m=t.mark,v=t.egdsMark,p=t.state,f=t.accessibilityLabel;if(!o)return null;var y=p||c;return r.createElement("div",null,r.createElement(k.lu,{alignItems:"center"},m&&!v&&r.createElement(u.H3,{margin:{inlineend:"two"}},r.createElement(T.I$,{name:m.id,size:a})),s&&r.createElement(u.H3,{margin:{inlineend:"two"}},r.createElement(d.nn,{name:s.id,size:s.size?d.n0[s.size]:d.n0.MEDIUM,theme:s.theme||"default"})),v&&r.createElement(u.H3,{margin:{inlineend:"two"}},r.createElement(T.I$,{url:null===(n=v.url)||void 0===n?void 0:n.value,size:null!=a?a:T.nP.MEDIUM})),f&&r.createElement("span",{className:"is-visually-hidden"},f),r.createElement("div",null,r.createElement(A.BY,{htmlToParse:o,plainTextElement:function(e){return r.createElement("span",null,r.createElement(g.sc,{size:i,weight:y&&At[y]||void 0,theme:y&&Lt[y]||void 0,"aria-hidden":null!==f},e.children))}}))),l&&r.createElement(g.sc,{size:200,theme:"default"},l))};zt.fragment=_t,zt.displayName="LodgingEnrichedMessage";var Nt=function(e,n){if(!n)return null;var t={itemProp:e};return"aggregateRating"===e&&(t=Y(Q({},t),{itemScope:!0,itemType:"http://schema.org/AggregateRating"})),t},Ot=(0,a.Ps)(_e()),Mt=function(e){var n=e.data.ratingCounts;return n&&0!==n.length?r.createElement(u.H3,{margin:{blockstart:"two",blockend:"four"}},r.createElement(k.lu,{space:"two",direction:"column"},n.map((function(e){var n;return r.createElement(k.Vt,{minWidth:"full_width",key:"rating-".concat(e.rating)},r.createElement(L.W,{accessibilityLabel:(null===(n=e)||void 0===n?void 0:n.accessibilityLabel)||"",percent:e.percent,progressDescription:e.count.formatted,title:e.description}))})))):null};Mt.displayName="RatingCounts",Mt.fragment=Ot;var Vt=(0,a.Ps)(Le()),Ht=function(e){var n,t,a=e.data.reviewSummaryDetails,i=(0,m.useClickTracker)();return r.useEffect((function(){var e,n,t=null===(n=a)||void 0===n||null===(e=n[0])||void 0===e?void 0:e.formattedRatingOutOfMaxA11y.value;t&&i("HOT.HIS.cleanliness.".concat(t),"Property cleanliness score")}),[null===(t=a)||void 0===t||null===(n=t[0])||void 0===n?void 0:n.formattedRatingOutOfMaxA11y.value]),a&&0!==a.length?r.createElement(k.lu,{wrap:"wrap"},a.map((function(e){var n,t=e.formattedRatingOutOfMaxA11y,a=e.label;return r.createElement(k.Vt,{minWidth:"half_width",key:"category-".concat(a)},r.createElement(u.H3,{margin:{block:"three"}},r.createElement(k.lu,{direction:"column"},r.createElement(g.If,{"aria-label":null!==(n=t.accessibilityLabel)&&void 0!==n?n:void 0,tag:"h3",size:5},t.value),r.createElement(g.sc,{size:300},a))))}))):null};Ht.displayName="SummaryDetails",Ht.fragment=Vt;var Gt,$t=(0,a.Ps)(Ae()),Ut=function(e){var n,t=e.data,a=e.toolbarType,i=e.toolbarAction;return r.createElement(w.tv,{toolbarTitle:t.title,navigationContent:{onClick:i,navType:a,navIconLabel:null!==(n=t.closeText)&&void 0!==n?n:void 0}})};Ut.fragment=$t,Ut.displayName="EGDSDialogToolbar";var jt=(q(Gt={},"INFO","info"),q(Gt,"POSITIVE","positive"),q(Gt,"WARNING","warning"),q(Gt,"STANDARD","standard"),Gt),Bt=(0,a.Ps)(ze()),Wt=function(e){var n,t=e.ariaHidden,a=e.data,i=a.description,l=a.id,o=a.size,c=a.theme,s=a.spotLight,u=s?jt[s]:void 0;return r.createElement(d.nn,{description:t?void 0:i,title:t?void 0:i,id:l,name:l,size:null!==(n=o&&d.n0[o])&&void 0!==n?n:void 0,theme:null!=c?c:void 0,spotlight:u})};Wt.fragment=Bt,Wt.displayName="LodgingEGDSIcon";var Xt=(0,a.Ps)(Ne(),Wt.fragment),qt=function(e){var n=e.onClickAction,t=e.triggerRef,a=e.data,i=a.value,l=a.accessibilityLabel,o=a.icon,c=a.clientSideAnalytics,s=(0,m.useClickTracker)();return r.createElement(v.n3,null,r.createElement("button",{type:"button",ref:t,"aria-label":null!=l?l:void 0,onClick:function(){c&&s(c.referrerId,c.linkName),n()}},i,o&&r.createElement(Wt,{data:o})))};qt.fragment=Xt,qt.displayName="LodgingDialogTriggerMessage";var Qt=r.createContext(void 0),Yt=(0,a.Ps)(Oe(),qt.fragment,Ut.fragment),Kt=function(e){var n=e.data,t=n.ratingPercentage,a=n.trigger,i=function(){var e=r.useContext(Qt);if(void 0===e)throw new Error("usePropertyFilteredReviewsDialogContext must be used with a PropertyFilteredReviewsDialogContext.Provider");return e}().PropertyFilteredReviewsDialogContent,l=J((0,y.useDialog)("PropertyDetailsReviewsBreakdownDialog","pwaDialogNested"),3),o=l[0],c=l[1],s=c.openDialog,u=c.closeDialog,d=l[2],v=(0,m.useClickTracker)(),g=r.useRef(null),f=r.useCallback((function(){if(t.closeAnalytics){var e=t.closeAnalytics;v(e.referrerId,e.linkName)}u()}),[u,t,v]),E=function(e,n){return r.createElement(p.A5,{type:e,height:n,isVisible:o,triggerRef:g,returnFocusOnClose:!0},r.createElement(Ut,{toolbarType:"close",toolbarAction:f,data:t.toolbar}),r.createElement(b.pN,null,r.createElement(i,null)))};return r.createElement(r.Fragment,null,r.createElement(qt,{onClickAction:s,data:a,triggerRef:g}),r.createElement(p.Xw,{isVisible:o},r.createElement(d,null,r.createElement(N.Viewport,null,r.createElement(N.ViewSmall,null,E("full")),r.createElement(N.ViewMedium,null,E("centered",1200))))))};Kt.displayName="PropertyFilteredReviewsDialog",Kt.fragment=Yt;var Jt=(0,a.Ps)(Me()),Zt=function(e){var n,t,a=e.reviewPage,i=e.data,o=J(r.useState(!1),2),c=o[0],s=o[1],f=i.reviewDisclaimer,E=i.reviewDisclaimerHeading,b=i.reviewDisclaimerValues,h=i.reviewDisclaimerAccessibilityLabel,S=i.reviewDisclaimerLabel,I=i.reviewDisclaimerUrl,k=i.reviewDisclaimerAnalytics,R=i.strategy,x=J((0,r.useState)(!1),2),T=(x[0],x[1],J(r.useState(!1),2)),D=T[0],C=T[1],F=r.useMemo((function(){return Math.random().toString(36).slice(2,7)}),[]),_=J((0,y.useDialog)("centered-sheet-necessary-dialog-layer-".concat(F)),3),L=_[0],A=_[1],V=_[2],H=(0,N.useMediaQueries)({viewSizes:N.defaultViewSizes}),G=(0,l.v)().context,$=(0===H?"DESKTOP"===G.device.type||"MOBILE_TABLET"===G.device.type:H>N.defaultViewSizes.SMALL)?"small":"medium",U=(0,m.useClickTracker)();if(!f||0===f.length)return null;var j=(null===(n=f)||void 0===n?void 0:n.length)&&S,B=j&&r.createElement(r.Fragment,null,r.createElement(g.sc,null,r.createElement(u.H3,null,r.createElement(M.h,{onClick:function(){A.openDialog()},size:"medium",weight:"regular"},r.createElement(g.sc,{size:300},S,r.createElement(d.nn,{name:"info_outline"}))))),r.createElement(p.Xw,{isVisible:L},r.createElement(V,null,r.createElement(p.A5,{isVisible:L,type:"centered",centeredSheetSize:$,triggerRef:null},r.createElement(w.tv,{navigationContent:{onClick:function(){A.closeDialog()},navIconLabel:"close toolbar",navType:"close"}}),r.createElement(p.XM,null,r.createElement(g.sc,{weight:"bold",size:400},E),r.createElement(u.H3,{margin:{blockstart:"six"}},r.createElement(P.RC,{isVisible:D,handleClick:function(){return C((function(e){return!e}))},items:1},null===(t=b)||void 0===t?void 0:t.map((function(e,n){return r.createElement(g.lS,{key:n},e.text)}))))))))),W=r.createElement(O.lM,{isOpen:c,onTriggerClick:function(){!c&&k&&a&&U(k.referrerId,k.linkName),s(!c)}},r.createElement(O.MQ,null,r.createElement(v.n3,null,r.createElement("button",{type:"button","aria-label":null!=h?h:void 0},S,r.createElement(u.H3,{padding:{inline:"one",block:"half"}},r.createElement(d.nn,{name:"info_outline",size:d.n0.SMALL}))))),r.createElement(O._j,{autoPosition:!0,position:O.d.LEFT,width:300},r.createElement(u.H3,{padding:{inline:"four"}},r.createElement(g.lS,{size:1},f,I&&r.createElement(v.n3,null,r.createElement("a",{href:I.link.url,target:"_blank",rel:"noreferrer noopener"},I.value,r.createElement("span",{className:"is-visually-hidden"},I.accessibilityLabel)))))));return r.createElement(r.Fragment,null,j&&r.createElement(z.Experiment,{name:"External_reviews_display_SRP_and_PDP"},r.createElement(z.ExperimentControl,null,W),r.createElement(z.ExperimentVariant,{bucket:1},"EXTERNAL_REVIEWS"===R?B:W)),r.createElement(z.Experiment,{name:"Vrbex_generic"},r.createElement(z.ExperimentControl,null),r.createElement(z.ExperimentVariant,{bucket:1},function(){var e;return(null===(e=f)||void 0===e?void 0:e.length)&&null===S&&r.createElement(r.Fragment,null,r.createElement(u.H3,{padding:{blockstart:"four",blockend:"two"}},r.createElement(g.sc,{weight:"regular",size:200},f)),r.createElement(u.H3,{padding:{blockend:"four"}},I&&r.createElement(v.n3,null,r.createElement("a",{href:I.link.url,target:"_blank",rel:"noreferrer noopener"},I.value,r.createElement("span",{className:"is-visually-hidden"},I.accessibilityLabel)))))}())))};Zt.displayName="ReviewDisclaimer",Zt.fragment=Jt;var er=(0,a.Ps)(Ve(),Zt.fragment,Ht.fragment,Mt.fragment,Kt.fragment,zt.fragment),nr=function(e){var n,t,a,i,l=e.data,o=e.onClickLink,c=e.withAggregateRating,s=void 0!==c&&c,m=e.reviewPage,d=e.children,p=void 0===d?null:d,f=l.averageOverallRatingValue,y=l.averageOverallRatingSection,E=l.superlative,b=l.propertyReviewCountDetails,w=l.reviewDisclaimer,h=l.totalCount,S=l.seeAllAction,I=l.reviewDisclaimerLabel,R=l.strategy,P=Nt("ratingValue",s),x=Nt("aggregateRating",s),T=Nt("reviewCount",s),D=(null===(n=w)||void 0===n?void 0:n.length)&&I,C=r.createElement("div",Q({},x),0!==h.raw&&r.createElement(k.lu,{space:"three",alignItems:"center"},r.createElement(g.sc,{weight:"regular",size:900},r.createElement("span",Q({},P),null===(t=f)||void 0===t?void 0:t.formatted)),r.createElement(u.H3,{padding:{blockstart:"one"}},r.createElement(k.lu,{direction:"column"},r.createElement(g.If,{tag:"h3",size:6},E),r.createElement(k.lu,null,S&&r.createElement(u.H3,{padding:{block:"two"}},S?r.createElement(Kt,{data:S}):r.createElement(v.n3,{onClick:o,size:"medium"},r.createElement("button",Q({type:"button"},T),null===(a=b)||void 0===a?void 0:a.shortDescription)))),D&&r.createElement(k.Vt,null,r.createElement(Zt,{data:l,reviewPage:m})))))),F=r.createElement("div",Q({},x),0!==h.raw&&r.createElement(k.lu,{space:"three"},r.createElement("span",Q({},P),y&&r.createElement(zt,{data:y,textSize:900})),r.createElement(u.H3,{padding:{blockstart:"one"}},r.createElement(k.lu,{direction:"column"},r.createElement(g.If,{tag:"h3",size:6},E),r.createElement(k.lu,null,r.createElement(u.H3,{padding:{block:"two"}},S?r.createElement(Kt,{data:S}):r.createElement(v.n3,{onClick:o,size:"medium"},r.createElement("button",Q({type:"button"},T),null===(i=b)||void 0===i?void 0:i.shortDescription)))),D&&r.createElement(k.Vt,null,r.createElement(Zt,{data:l,reviewPage:m}))))),r.createElement(z.Experiment,{name:"Vrbex_generic"},r.createElement(z.ExperimentControl,null),r.createElement(z.ExperimentVariant,{bucket:1},function(){var e;return 0!==h.raw&&(null===(e=w)||void 0===e?void 0:e.length)&&null===I&&r.createElement(k.Vt,{minWidth:"full_width"},r.createElement(Zt,{data:l,reviewPage:m}))}())),p,r.createElement(Mt,{data:l}),r.createElement(Ht,{data:l}));return r.createElement(z.Experiment,{name:"External_reviews_display_SRP_and_PDP"},r.createElement(z.ExperimentControl,null,F),r.createElement(z.ExperimentVariant,{bucket:1},"EXTERNAL_REVIEWS"===R?C:F))};nr.displayName="PropertyReviewsBreakdownFragment",nr.fragment=er;var tr=(0,a.Ps)(He(),Zt.fragment,zt.fragment),rr=function(e){var n,t,a,i=e.data,l=e.withAggregateRating,o=void 0!==l&&l,c=e.reviewPage,s=e.childern,m=void 0===s?null:s,d=i.overallScoreWithDescriptionA11y,v=i.propertyReviewCountDetails,p=i.reviewSummaryDetails,f=i.totalCount;return r.createElement(u.H3,{margin:{blockend:"two"}},r.createElement("div",Q({"data-stid":"property-reviews-summary"},Nt("aggregateRating",o)),d&&r.createElement(zt,{data:d,textSize:500}),r.createElement("span",Q({className:"is-visually-hidden","aria-hidden":"true"},Nt("reviewCount",o)),null===(n=f)||void 0===n?void 0:n.raw),r.createElement(g.sc,{size:400,spacing:"one"},null===(t=v)||void 0===t?void 0:t.fullDescription),r.createElement(Zt,{data:i,reviewPage:c}),m,!!(null===(a=p)||void 0===a?void 0:a.length)&&r.createElement(k.lu,{direction:"column",space:"two"},p.map((function(e,n){var t,a,i,l;return r.createElement(u.H3,{padding:{blockstart:"two"},key:"category-".concat(null===(t=e)||void 0===t?void 0:t.label)},r.createElement("div",null,r.createElement(L.W,{percent:null===(a=e)||void 0===a?void 0:a.ratingPercentage,progressDescription:null===(i=e)||void 0===i?void 0:i.formattedRatingOutOfMax,title:null===(l=e)||void 0===l?void 0:l.label})))})))))};rr.displayName="PropertyReviewsSummaryFragment",rr.fragment=tr;var ar=rr,ir=((0,a.Ps)(Ge(),ar.fragment),(0,a.Ps)($e()),(0,a.Ps)(Ue()),(0,a.Ps)(je())),lr=function(e){var n,t=e.data,a=e.setSearchInputVal,i=e.searchInputVal,l=e.resetFilters,o=J(r.useState(i),2),s=o[0],u=o[1],v=t.sortAndFilter.find((function(e){return"reviewsSearch"===e.name})),p=(0,m.useEgClickstream)();if((0,r.useMemo)((function(){u(i)}),[i]),!(v&&v.label&&v.name&&v.graphic))return null;var g=v.label,f=v.name,y=v.submittedAnalytics,E=v.initiatedAnalytics,b=v.graphic,w=b.id,h=b.description,S=b.token;if(!w||!h||!S)return null;var I=function(e){var n;e.preventDefault(),a(s),null===(n=l)||void 0===n||n("search"),p({clientPayload:sn("reviews_search.submitted",cn),serverPayload:y})},R=r.createElement(r.Fragment,null,r.createElement(k.Vt,null,r.createElement($.QG,{size:300,id:"search-input-box",label:g,name:f,value:s,onChange:function(e){var n,t=e.target.value;(u(t),""===t)&&(null===(n=l)||void 0===n||n("reset"))},hasClearButton:!0,onClick:function(){return p({clientPayload:sn("reviews_search.initiated",cn),serverPayload:E})}})),r.createElement(k.Vt,null,r.createElement(c.EA,{size:c.Pl.LARGE,type:"submit",name:h,title:h,id:"search-btn","aria-label":h,disabled:0===(null===(n=s)||void 0===n?void 0:n.trim().length)},r.createElement(d.nn,{name:S,id:w}))));return r.createElement(N.Viewport,null,r.createElement(N.ViewSmall,null,r.createElement(G.L0,{onSubmit:I},r.createElement(k.lu,{space:"four"},R))),r.createElement(N.ViewMedium,null,r.createElement(G.L0,{onSubmit:I},r.createElement(k.lu,{space:"two"},R))))};lr.fragment=ir,lr.displayName="SearchBox";var or=lr,cr=(0,a.Ps)(Be()),sr=function(e){var n,t,a=e.data,i=e.setSortType,l=e.resetFilters,o=a.sortAndFilter.find((function(e){return"sortBy"===e.name})),c=J(r.useState((null===(t=o)||void 0===t||null===(n=t.options[0])||void 0===n?void 0:n.optionValue)||""),2),s=c[0],u=c[1],d=(0,m.useClickTracker)();if((0,r.useMemo)((function(){var e,n,t=null===(e=o)||void 0===e?void 0:e.options.find((function(e){return!0===e.isSelected}));u((null===(n=t)||void 0===n?void 0:n.optionValue)||"")}),[o]),!o||!o.options||!o.label||0===o.options.length)return null;var v=o.name,p=o.label,g=o.options,f=o.clickAnalytics;return r.createElement($.oF,{id:v,value:s,label:p,name:v,emptyState:!1,onChange:function(e){var n,t=e.target.options.selectedIndex,r=(g[t]||{clickAnalytics:void 0}).clickAnalytics||{},a=r.referrerId,o=r.linkName;a&&o&&d(a,o),u(e.currentTarget.value),i(e.currentTarget.value),null===(n=l)||void 0===n||n("sortBy")},onClick:function(){var e=f||{},n=e.referrerId,t=e.linkName;n&&t&&d(n,t)}},r.createElement(r.Fragment,null,g.map((function(e,n){return e.optionValue&&e.label?r.createElement("option",{key:n,value:e.optionValue,label:e.label,"aria-selected":e.isSelected},e.label):null}))))};sr.displayName="SortType",sr.fragment=cr;var ur=sr,mr=(0,a.Ps)(We()),dr=function(e){var n,t,a,i,l=e.data,o=e.setTravelerType,c=(e.selectedTravelerTypes,e.resetFilters),s=l.sortAndFilter.find((function(e){return"travelerType"===e.name})),u=J(r.useState((null===(t=s)||void 0===t||null===(n=t.options[0])||void 0===n?void 0:n.optionValue)||""),2),d=u[0],v=u[1],p=(0,m.useClickTracker)();if((0,r.useMemo)((function(){var e,n,t=null===(e=s)||void 0===e?void 0:e.options.find((function(e){return!0===e.isSelected}));v((null===(n=t)||void 0===n?void 0:n.optionValue)||"")}),[s]),!(null===(a=s)||void 0===a?void 0:a.label)||0===(null===(i=s.options)||void 0===i?void 0:i.length))return null;var g=s.name,f=s.label,y=s.options;return r.createElement($.oF,{id:g,value:d,label:f,name:g,emptyState:!1,onChange:function(e){var n,t=e.target.options.selectedIndex,r=(y[t]||{clickAnalytics:void 0}).clickAnalytics||{},a=r.referrerId,i=r.linkName;a&&i&&p(a,i),v(e.currentTarget.value),o([e.currentTarget.value]),null===(n=c)||void 0===n||n("travelerType")}},r.createElement(r.Fragment,null,y.map((function(e,n){return e.optionValue&&e.label?r.createElement("option",{key:n,value:e.optionValue,label:e.label,"aria-selected":e.isSelected},e.label):null}))))};dr.displayName="TravelerType",dr.fragment=mr;var vr=dr,pr=j.OP,gr=r.memo((function(e){var n=e.propertyId,t=e.searchCriteria,a=e.present;return r.createElement(r.Fragment,null,r.createElement(z.Experiment,{name:"PDP_Top_Rated_Properties_Feature_Gate_for_Web"},r.createElement(z.ExperimentControl,null),r.createElement(z.ExperimentVariant,{bucket:1},r.createElement(j.Ne,{inputs:{productIdentifier:{id:n,type:j.fT.PROPERTY_ID,travelSearchCriteria:{property:t}}},skipSsr:!0,present:a}))),j.OP.REVIEWS_OVERLAY===a&&r.createElement(z.Experiment,{name:"Review_Summarisation_Feature_Gate_for_Web"},r.createElement(z.ExperimentControl,null),r.createElement(z.ExperimentVariant,{bucket:1},r.createElement(U.I,{inputs:{productIdentifier:{id:n,type:U.f.PROPERTY_ID,travelSearchCriteria:{property:t}}}}))))}));gr.displayName="PropertyReviewsHighlightContentWrapper";var fr=(0,a.Ps)(Xe(),ar.fragment,Tt,vr.fragment,ur.fragment,or.fragment),yr=function(e){var n,t,a=e.inputs,o=a.propertyId,c=a.pagination,s=a.includeRecentReviews,m=a.searchCriteria,d=(0,l.v)().context,v=(null===(n=c)||void 0===n?void 0:n.size)||10,p=(null===(t=c)||void 0===t?void 0:t.startingIndex)||0,g=J(r.useState([]),2),f=g[0],y=g[1],E=J(r.useState(on),2),b=E[0],w=E[1],h=J(r.useState(""),2),S=h[0],I=h[1],R=r.useRef(null),P=(0,z.useExperiment)("Enhanced_Review_Search_on_Reviews_Overlay").exposure.bucket,x=(0,r.useMemo)((function(){return r.createElement(gr,{propertyId:o,searchCriteria:m,present:pr.REVIEWS_OVERLAY})}),[o,m]),T=1===P&&""!==S?"no-cache":"cache-first",D={context:d,propertyId:o,searchCriteria:{primary:m.primary,secondary:{booleans:[{id:"includeRecentReviews",value:null==s||s},{id:"includeRatingsOnlyReviews",value:!0},{id:"overrideEmbargoForIndividualReviews",value:!0},{id:"isFilteredSummary",value:!0}],counts:[{id:"startIndex",value:p},{id:"size",value:v}],selections:ee(f.map((function(e){return{id:"travelerType",value:e}}))).concat([{id:"sortBy",value:b},{id:"searchTerm",value:S}])}}},C=function(e){switch(e){case"search":y([]),w(on);break;case"travelerType":case"sortBy":I("");break;default:y([]),w(on),I("")}},_=(0,i.a)(fr,{variables:D,errorPolicy:"all",fetchPolicy:T}),L=_.data,A=_.previousData,N=_.error,O=_.loading,M=_.fetchMore,G=Ze(M,D),$=null!=L?L:A;if(r.useEffect((function(){var e;S.length>0&&(null===(e=R.current)||void 0===e||e.scrollIntoView({behavior:"smooth",block:"start"}))}),[$,S]),O&&b===on&&!S&&0===f.length)return r.createElement(k.lu,null,r.createElement(V.Y8,{type:"absolute",position:{top:"center",left:"center"}},r.createElement(H.vZ,null)));if(N||!$)return null;var U=$.propertyInfo.reviewInfo,j=null;j=O?r.createElement(k.lu,{justifyContent:"center"},r.createElement(H.vZ,null)):r.createElement("div",{"data-stid":"property-reviews-list"},r.createElement(Ct,{propertyId:o,size:v,data:U,fetchMore:G,reviewsPage:"ReviewsOverlay",showLoadMoreCTA:!S}));var B=r.createElement("div",{"data-stid":"property-reviews-sort"},r.createElement(ur,{selectedSortTypes:b,setSortType:w,data:U.sortAndFilter,resetFilters:C})),W=r.createElement("div",{"data-stid":"property-reviews-search",ref:R},r.createElement(or,{data:U.sortAndFilter,setSearchInputVal:I,searchInputVal:S,resetFilters:C}));return r.createElement(F.PX,{columns:{small:1,medium:1,large:1},space:"six"},r.createElement("div",null,!!$.propertyReviewSummaries.length&&$.propertyReviewSummaries[0]&&r.createElement(ar,{data:$.propertyReviewSummaries[0],reviewPage:"ReviewsOverlay".valueOf(),childern:x})),r.createElement(F.PX,{columns:{small:1,medium:1,large:1}},r.createElement(F.PX,{columns:1},r.createElement(u.H3,{margin:{blockend:"six"}},r.createElement(F.UX,null,W))),r.createElement(F.PX,{columns:2,space:"six"},r.createElement(F.UX,null,r.createElement(k.Vt,{minWidth:205},B)),r.createElement(F.UX,null,r.createElement(vr,{selectedTravelerTypes:f,setTravelerType:y,data:U.sortAndFilter,resetFilters:C}))),r.createElement(u.H3,{margin:{blockstart:"six"}},r.createElement(F.UX,null,j))))};yr.displayName="sharedui-PropertyFilteredReviews";var Er=yr,br=((0,a.Ps)(qe(),nr.fragment),(0,a.Ps)(Qe(),nr.fragment,Tt)),wr=function(e){var n,t,a,o,d=e.onClickLink,v=e.hideManagementResponse,p=e.inputs,g=p.propertyId,f=p.pagination,y=p.includeRecentReviews,E=p.searchCriteria,b=(0,l.v)().context,w=(0,z.useExperiment)("Progressive_Disclosure_Web").exposure,h=(null===(n=f)||void 0===n?void 0:n.startingIndex)||0,S="MOBILE_PHONE"===(null===(a=(0,l.v)().context)||void 0===a||null===(t=a.device)||void 0===t?void 0:t.type),I=(null===(o=f)||void 0===o?void 0:o.size)||10;1===w.bucket&&S&&0===h&&(I=2);var k={context:b,propertyId:g,searchCriteria:{primary:E.primary,secondary:{booleans:[{id:"includeRecentReviews",value:null==y||y},{id:"includeRatingsOnlyReviews",value:!0},{id:"overrideEmbargoForIndividualReviews",value:!1},{id:"isReviewsSummary",value:!0},{id:"isFilteredSummary",value:!1}],counts:[{id:"startIndex",value:h},{id:"size",value:I}],selections:[{id:"sortBy",value:on}]}}},R=(0,m.useClickTracker)(),P=r.useCallback((function(){d&&(R(an,ln),d())}),[d,R]),x=(0,r.useMemo)((function(){return r.createElement(gr,{propertyId:g,searchCriteria:E,present:pr.REVIEWS_BOTTOM})}),[g,E]),T=r.memo((function(){return r.createElement(Er,{inputs:{propertyId:g,searchCriteria:E,includeRecentReviews:y}})}));T.displayName="PropertyFilteredReviewsDialogContent";var D=(0,r.useMemo)((function(){return{PropertyFilteredReviewsDialogContent:T}}),[T]),C=(0,i.a)(br,{variables:k,errorPolicy:"all",fetchPolicy:"cache-first"}),_=C.data,L=C.error,A=C.loading,N=C.fetchMore;if(L||A||!_)return null;var O=_.propertyInfo.reviewInfo,M=O.summary,V=O.reviews,H=O.noResultsMessage;if(!M)return null;var G=Ze(N,k),$=M.seeAllReviewsCallToActionLabel,U=M.accessibilityLabel,j=M.strategy,B=M.totalCount.raw;if(!H&&0===B)return null;var W=r.createElement(r.Fragment,null,r.createElement(F.UX,{colSpan:{small:1,medium:1,large:1}},r.createElement("div",null,r.createElement(u.H3,{padding:{blockstart:"three",inline:"three",large:{blockend:"three"}}},r.createElement("div",null,r.createElement(nr,{data:M,onClickLink:P,reviewPage:"Reviews".valueOf()},x))))),r.createElement(F.UX,{colSpan:{small:1,medium:1,large:2}},r.createElement("div",null,r.createElement("h2",{className:"is-visually-hidden"},U),r.createElement(Ct,{size:I,data:_.propertyInfo.reviewInfo,fetchMore:G,hideManagementResponse:v,showLoadMoreCTA:!1,propertyId:g,reviewsPage:"Reviews"}),$&&d&&V.length>0&&r.createElement(u.H3,{margin:{block:"three"}},r.createElement("div",null,r.createElement(c.VK,{onClick:P},$)))))),X=r.createElement(F.UX,{colSpan:{small:1,medium:1,large:1}},r.createElement("div",null,r.createElement(u.H3,{padding:{blockstart:"three",inline:"three",large:{blockend:"three"}}},r.createElement("div",null,r.createElement(nr,{data:M,onClickLink:P,reviewPage:"Reviews".valueOf()},x)))));return r.createElement(Qt.Provider,{value:D},r.createElement(s.m9,null,r.createElement(s.oV,null,r.createElement("h2",{className:"is-visually-hidden"},U),r.createElement(F.PX,{columns:{small:1,medium:1,large:3}},r.createElement(z.Experiment,{name:"External_reviews_display_SRP_and_PDP"},r.createElement(z.ExperimentControl,null,W),r.createElement(z.ExperimentVariant,{bucket:1},"EXTERNAL_REVIEWS"===j?X:W))))))};wr.displayName="sharedui-PropertyReviews";var hr=(0,a.Ps)(Ye()),Sr=function(e){var n=e.inputs,t=n.propertyId,a=n.withTags,o=e.roomId,c=e.withinDialog,s=void 0!==c&&c,m={context:(0,l.v)().context,propertyIds:[t],withTags:a},d=(0,i.a)(hr,{variables:m}),v=d.data,p=d.error;if(d.loading)return r.createElement(W.MA,{animation:!1});if(p||!v)return null;var f=function(e,n){var t,r,a;return null===(a=null===(r=null===(t=n.propertySummaries)||void 0===t?void 0:t.find((function(e){return e})))||void 0===r?void 0:r.roomsScore)||void 0===a?void 0:a.find((function(n){return n.id===e}))}(o,v.propertyReviewAggregates);if(!f)return null;var y=f.scoreLabel,E=f.roomRatingListTitle,b=f.tags;return s?r.createElement(u.H3,{margin:{blockend:"six"}},r.createElement("div",null,r.createElement(u.H3,{margin:{blockend:"three"}},r.createElement(g.If,{size:5,tag:"h3"},y)),b&&b.length>0&&r.createElement("div",null,r.createElement(g.If,{size:7,tag:"h4"},E),r.createElement(B.EU,{bullet:"no-bullet"},b.map((function(e,n){return r.createElement(B.Lw,{key:"tag-".concat(n)},e.label)})))))):r.createElement(g.sc,null,y)}}}]);
//# sourceMappingURL=shared-ui-lodging-reviews.877c6894bd36473702ef.js.map
/*@license For license information please refer to vendor.licenses.txt*/
(self.__LOADABLE_LOADED_CHUNKS__=self.__LOADABLE_LOADED_CHUNKS__||[]).push([[4736],{30881:function(e,t,n){n.d(t,{CG:function(){return z},LG:function(){return V},hI:function(){return H},i_:function(){return F},n7:function(){return B},r:function(){return G}});var r=n(67294),i=n(19145),o=n(58850),s=n(41849),a=n(46605),c=n(40342),u=n(29892),l=n(19633),d=n(54552),f=n(36326),h=n(68369),p=n(13413),m=n(80463),g=n(70094),v=n(8315),y=n(23984),b=n(91233),E=n(24499),w=n(97534),S=n(34353),T=n(49349),R=n(41913),_=n(79221),O=n(89362),x=n(44896),C=n(6419),A=n(30300),I=n(93351),k=n(78987),N=n(70655),L=function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function s(e){try{c(r.next(e))}catch(t){o(t)}}function a(e){try{c(r.throw(e))}catch(t){o(t)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}c((r=r.apply(e,t||[])).next())}))},P=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n},U={893:()=>{}},D={};function M(e){var t=D[e];if(void 0!==t)return t.exports;var n=D[e]={exports:{}};return U[e](n,n.exports,M),n.exports}M.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return M.d(t,{a:t}),t},M.d=(e,t)=>{for(var n in t)M.o(t,n)&&!M.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},M.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{var e;if(!(e="file:///app/node_modules/@egds/react-search-experience/dist/index.esm.js"))throw new Error("Automatic publicPath is not supported in this browser");e=e.replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),M.p=e})();var j={};(()=>{M.d(j,{n7:()=>ge,i_:()=>Ft,hI:()=>K,Le:()=>Q,CG:()=>mt,r:()=>pe,AI:()=>pt,LG:()=>$});const e=(t={Children:()=>r.Children,Component:()=>r.Component,Fragment:()=>r.Fragment,cloneElement:()=>r.cloneElement,createElement:()=>r.createElement,createRef:()=>r.createRef,default:()=>r,isValidElement:()=>r.isValidElement,useEffect:()=>r.useEffect,useMemo:()=>r.useMemo,useRef:()=>r.useRef,useState:()=>r.useState},n={},M.d(n,t),n);var t,n;const U=(G={UitkPillContainer:()=>i.m,UitkRemovablePill:()=>o.p},V={},M.d(V,G),V),D=(e=>{var t={};return M.d(t,e),t})({ScriptLoader:()=>s.ScriptLoader,classNames:()=>s.classNames,isElementVisible:()=>s.isElementVisible,liveAnnounce:()=>s.liveAnnounce}),B=(e=>{var t={};return M.d(t,e),t})({UitkIcon:()=>a.fR,UitkIconSize:()=>a.eZ}),F=M.p+"./styles/egds-search-experience-single-select-pill-wrapper.css",H=D.classNames.bind(F),z=({active:t,altText:n,checked:r=!1,className:i,disabled:o,icon:s,id:a,name:c,onChange:u,selected:l,text:d,value:f})=>{const h="single-select-pill",p=H(h,i,{[`${h}-disabled`]:o}),m=H(`${h}-content`,{[`${h}-active`]:t,[`${h}-selected`]:l}),g=null!=f?f:`${r}`;return e.default.createElement("div",{className:p},e.default.createElement("input",{id:a,name:c,checked:r,"aria-checked":r,type:"radio",onChange:u,className:H(`${h}-standard is-visually-hidden`),disabled:o,value:g}),e.default.createElement("label",{className:m,htmlFor:a,"aria-label":n},s&&e.default.createElement(B.UitkIcon,{className:H(`${h}-icon`),name:s}),e.default.createElement("span",{className:H(`${h}-text`)},d)))};var G,V;z.displayName="SingleSelectPill";const K=({data:t,handleSelectedPill:n})=>{const r=e=>{const t=e.target.value;n(t)},i=D.classNames.bind(F);return e.default.createElement(U.UitkPillContainer,{className:i("single-select-pill-wrapper")},t.map((t=>{var{id:n,selected:i}=t,o=P(t,["id","selected"]);return e.default.createElement(z,Object.assign(Object.assign({id:n,key:n},o),{selected:i,checked:i,onChange:r}))})))};K.displayName="SingleSelectPillWrapper";const q=M.p+"./styles/egds-search-experience-view-row.css",$=({children:t,className:n,adSlot:r=!1,canvasTheme:i="primary",layout:o="fullwidth",paddedViewRow:s=!0,maxWidth:a=!1})=>{const c=D.classNames.bind(q)("view-row",`view-row-theme-${i}`,`view-row-layout-${o}`,`view-row-padded-${s}`,!a&&`view-row-adslot-${r}`,n);return e.default.createElement("div",{className:c,"data-testid":"view-row"},t)};$.displayName="ViewRow";const W=(e=>{var t={};return M.d(t,e),t})({debounce:()=>c.D,throttle:()=>c.P}),Y=M.p+"./styles/egds-search-experience-sticky.css",Z=D.classNames.bind(Y),Q=t=>{const[n,r]=e.useState(!1),[i,o]=e.useState(),[s,a]=e.useState(),c="sticky",u=e.useRef(),{zIndex:l,hidden:d,children:f,toggleBgColor:h,defaultPadding:p}=t,m=Z(c,{[`${c}-hidden`]:d},{[`${c}-fixed`]:n}),g={height:d?0:i},v={width:s,zIndex:l||1};e.useEffect((()=>{const{enableStickyWhenNotInViewport:e}=t;let n,i;const s={threshold:e?0:1},c=(0,W.throttle)(100,!1,(()=>{if(u.current){const{height:e,width:t}=u.current.getBoundingClientRect();o(e),a(t)}}),!1);return"ResizeObserver"in window&&(i=new ResizeObserver((()=>{c()})),i.observe(u.current)),i||window.addEventListener("resize",c),"IntersectionObserver"in window&&(n=new IntersectionObserver((n=>{var i;const{onFixed:s}=t,c=n.shift(),u=!c||(e?!(null==c?void 0:c.isIntersecting):(null===(i=c.boundingClientRect)||void 0===i?void 0:i.top)<0);r(u),o(c?c.boundingClientRect.height:"auto"),a(c?c.boundingClientRect.width:"100%"),s&&s(u)}),s),n.observe(u.current)),()=>{n&&n.unobserve(u.current),i?i.unobserve(u.current):window.removeEventListener("resize",c)}}),[t]);const y=Z("sticky-row",`${n&&"sticky-row-theme-primary"}`,`sticky-row-padded-${n||p}`);return e.createElement("div",{ref:u,className:m,style:g},e.createElement("div",{className:Z(`${c}-inner`),style:v},h?e.createElement("div",{className:y},f):e.createElement(e.Fragment,null,f)))},X=(e=>{var t={};return M.d(t,e),t})({useLocalization:()=>u.useLocalization}),J=(e=>{var t={};return M.d(t,e),t})({ViewLarge:()=>l.ViewLarge,ViewSmall:()=>l.ViewSmall,Viewport:()=>l.Viewport}),ee=(e=>{var t={};return M.d(t,e),t})({UitkFakeInput:()=>d.o,UitkInput:()=>f.n,UitkTextInput:()=>h.w}),te=(e=>{var t={};return M.d(t,e),t})({UitkButton:()=>p.AE,UitkButtonSize:()=>p.xY,UitkFloatingFullWidthButton:()=>m.t,UitkPrimaryButton:()=>g.Y,UitkTertiaryButton:()=>v.m}),ne=(e=>{var t={};return M.d(t,e),t})({UitkLayoutFlex:()=>y.v,UitkLayoutFlexItem:()=>b.t}),re=(e=>{var t={};return M.d(t,e),t})({UitkScrim:()=>E.o,UitkScrimType:()=>w.k}),ie=(e=>{var t={};return M.d(t,e),t})({UitkSheet:()=>S.K,UitkSheetContent:()=>T.z,UitkSheetTransition:()=>R.U}),oe=(e=>{var t={};return M.d(t,e),t})({UitkToolbar:()=>_.b});class se{constructor(e){this.locale=e}toEssResult(e,t,n){const r=e;let i="",o="";const s=(r||"").split(",");return s.length<2?i=s[0].trim():(i=s[0],o=s.slice(1).map((e=>e.trim())).join(", ").trim()),{category:this.category,coordinates:void 0,index:n,regionNames:{displayName:r,fullName:e,lastSearchName:e,primaryDisplayName:i,secondaryDisplayName:o},sourceId:t,sourceName:this.sourceName,type:this.type}}}const ae="GOOGLEMAPS";var ce;!function(e){e.INVALID_REQUEST="INVALID_REQUEST",e.OK="OK",e.OVER_QUERY_LIMIT="OVER_QUERY_LIMIT",e.REQUEST_DENIED="REQUEST_DENIED",e.UNKNOWN_ERROR="UNKNOWN_ERROR",e.ZERO_RESULTS="ZERO_RESULTS"}(ce||(ce={}));class ue extends se{constructor(e,t){super(e),this.url=`//maps.googleapis.com/maps/api/js?client=gme-expedia&channel=ess&libraries=places&language=${e}&key=${t}`,this.category=ae,this.sourceName="GPA",this.type="ADDRESS",D.ScriptLoader.getScript(this.url).then((()=>{this.google=window.google,this.initGooglePlacesService()})).catch((e=>{console.error(e)}))}static getInstance(e,t){const n=e||"en_US",r=t||"AIzaSyABOFQNLMiTVN0AG3eWNmspVfVC8gNda68";return n in this.instances||(this.instances[n]=new ue(n,r)),this.instances[n]}initGooglePlacesService(){if(this.google&&this.google.maps&&this.google.maps.places){const{AutocompleteService:e,PlacesService:t}=this.google.maps.places;this.googleAutoCompleteService=new e,this.placesService=new t(document.createElement("div"))}}fetchResults(e){const t={input:e.q,type:"ADDRESS_AUTOCOMPLETE"===e.rc?["geocode"]:void 0};return new Promise((n=>{this.googleAutoCompleteService?this.googleAutoCompleteService.getPlacePredictions(t,((t,r)=>{if(r===ce.OK){const r=(i=this.handleResponse(t),{q:e.q,rc:e.rc,rid:e.rid,sr:i});n(r)}else n(e);var i})):n(e)}))}fetchLocation(e){return new Promise(((t,n)=>{try{const r={placeId:e,fields:["geometry"]};this.placesService.getDetails(r,((r,i)=>{var o;if(i===ce.OK){const e=null===(o=null==r?void 0:r.geometry)||void 0===o?void 0:o.location;t(e?{lat:e.lat().toFixed(5),lng:e.lng().toFixed(5)}:void 0)}else i===ce.ZERO_RESULTS?t(void 0):n(new Error(`Failed to fetch location for placeId ${e}: ${i}`))}))}catch(t){n(new Error(`Failed to fetch location for placeId ${e}: ${t.message}`))}}))}handleResponse(e){const t=[];return e.forEach(((e,n)=>{t.push(this.toEssResult(e.description,e.place_id,n))})),t}}ue.instances={};const le="pk.eyJ1IjoiZXhwZWRpYS1nZW8iLCJhIjoiY2w1anp3aXpuMDU3YTNibHY0Y21jazNteSJ9.fdrMME0LN_m9OEW_5v3sqA";class de extends se{constructor(e,t){super(e),[this.language,this.locale]=e.split("_"),this.category="MAPBOX",this.sourceName="mapbox",this.type="address",this.apiKey=t||le}static getInstance(e,t){const n=e||"en_US",r=t||le;return n in this.instances||(this.instances[n]=new de(n,r)),this.instances[n]}getGeocodingUrl(e,t){return((e,t)=>{if(null==t)return e;let n=e;return Object.keys(t).forEach((e=>{const r=t[e];void 0!==r&&(n=((e,t,n)=>{if(""===n||null===n)return e;const r=/\?/.test(e)?"&":"?";let i=encodeURIComponent(t);return void 0!==n&&""!==n&&(i=i.concat("=",encodeURIComponent(n))),e+r+i})(n,e,r))})),n})(`https://api.mapbox.com/geocoding/v5/mapbox.places/${e}.json?`,t)}fetchFromMapbox(e){const t=this.getGeocodingUrl(e,{autocomplete:!0,language:this.language,types:this.type,fuzzyMatch:!0,access_token:this.apiKey});return fetch(t).then((e=>e.json()))}fetchResults(e){return new Promise((t=>{this.fetchFromMapbox(e.q).then((e=>void 0===(null==e?void 0:e.features)?[]:e.features)).then((n=>{return 0===n.length?t(e):t((r=this.handleResponse(n),{q:e.q,rc:e.rc,rid:e.rid,sr:r}));var r})).catch((()=>{t(e)}))}))}handleResponse(e){const t=[];return e.forEach(((e,n)=>{const r=e.id.split(".")[1];t.push(this.toEssResult(e.place_name,r,n))})),t}}de.instances={};const fe={google:ue,mapbox:de};class he{static getInstance(e,t,n){return fe[e].getInstance(t,n)}static filterThirdPartyAdapterFromEssConfig(e){return e.filter((e=>e in fe))}}var pe,me;!function(e){e.HOTEL="HOTEL",e.AIRPORT="AIRPORT",e.MULTICITY="MULTICITY",e.POI="POI",e.METROCODE="METROCODE",e.METROSTATION="METROSTATION",e.TRAINSTATION="TRAINSTATION",e.ADDRESS="ADDRESS",e.NEIGHBORHOOD="NEIGHBORHOOD",e.CURRENT_LOCATION="CURRENT_LOCATION"}(pe||(pe={})),function(e){e.GOOGLE="google",e.CONSISTENT_DISPLAY="consistent_display"}(me||(me={}));class ge{constructor(e){this.viewSize=0,this.isGeoLocationAllowed=!0,this.config=e,this.config.getDevice=this.getDevice,e.essLogger&&this.initLoggers(e.essLogger)}setTypeaheadCategories(){const{formatText:e}=this.l10n;this.ESSCategories={ADDRESS:e("typeahead.ess.address"),AIRPORT:e("typeahead.ess.airport"),ATTRACTION:e("typeahead.ess.attraction"),CITY:e("typeahead.ess.city"),HOTEL:e("typeahead.ess.hotel"),METROCODE:e("typeahead.ess.city"),METROSTATION:e("typeahead.ess.metroStation"),MULTICITY:e("typeahead.ess.city"),MULTIREGION:e("typeahead.ess.city"),NEIGHBORHOOD:e("typeahead.ess.city"),POI:e("typeahead.ess.attraction"),TRAINSTATION:e("typeahead.ess.trainStation")}}isHistoryDetailEnabled(){return!0===this.config.historyDetail}getTypeaheadCategories(){return this.ESSCategories}addToESSCategories(e){this.ESSCategories=Object.assign(Object.assign({},this.ESSCategories),e)}setL10n(e){this.l10n=e}initLoggers(e){const t=Object.assign({},this.config);delete t.essLogger,e.initLogger(t)}createURLParams(e){return Object.entries(e).map((([e,t])=>`${e}=${encodeURIComponent(t)}`)).join("&")}fetchDeleteRecentSearch(e){const t=`${this.config.domain.endsWith("/")?this.config.domain:`${this.config.domain}/`}api/v1/deletehistory`,n={lob:this.config.lob,locale:this.config.locale,guid:this.config.guid,expuserid:this.config.expuserid,siteId:this.config.siteId,dest:this.config.dest},r=`${t}?${this.createURLParams(n)}`,i=new Headers({accept:"application/json","Content-Type":"application/json"});if(""!==e){const t={gaiaIds:[e]};return fetch(r,{body:JSON.stringify(t),headers:i,method:"POST"}).then((e=>e.json())).catch((e=>{console.error(`Error while deleting recent searches: ${e}`)}))}return Promise.resolve([])}constructURL(e,t){let n=this.config.domain?this.config.domain:"";n=n.endsWith("/")?n:`${n}/`,n.endsWith("/")&&(n=n.slice(0,-1));const r=(()=>"AIRLINE"===this.config.domainId?`${n}/api/v2/suggest`:`${n}/api/v4/typeahead`)();if(void 0!==this.config.browser&&null!==this.config.browser||(this.config.browser=this.getBrowser(window.navigator.userAgent)),void 0!==this.config.device&&null!==this.config.device||(this.config.device=this.getDevice(window.navigator.userAgent)),"AIRLINE"===this.config.domainId){const t={domainId:this.config.domainId,lob:this.config.lob,maxResults:this.config.maxResults,siteid:this.config.siteId,locale:this.config.locale};return`${r}?query=${e}&${this.createURLParams(t)}`}const i=Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({browser:this.config.browser,client:this.config.client,dest:this.config.dest,device:this.config.device,expuserid:this.config.expuserid?this.config.expuserid:-1,features:this.config.features,format:"json",guid:this.config.guid,listing:!!this.config.listing,lob:this.config.lob,locale:this.config.locale,maxresults:this.config.maxResults,personalize:!!this.config.personalize&&this.config.personalize},this.config.regionId?{rid:this.config.regionId}:{}),{regiontype:this.config.regionType,siteid:this.config.siteId}),this.config.packageType?{pt:this.config.packageType}:{}),this.config.latLong?{latlong:this.config.latLong}:{}),this.config.lastSearchRegionId?{lsrid:this.config.lastSearchRegionId}:{}),this.config.lastSearchTimestamp?{lstime:this.config.lastSearchTimestamp}:{}),this.config.lastSearchLatLong?{lslatlong:this.config.lastSearchLatLong}:{}),this.config.lastSearchElapseTime?{lsetime:this.config.lastSearchElapseTime}:{}),this.config.googleApiKey?{googleApiKey:this.config.googleApiKey}:{}),this.config.alternate&&t?{alternate:!0}:{}),this.config.debounceVariant?{ab:this.config.debounceVariant}:{}),this.config.trending?{trending:this.config.trending}:{}),this.config.alternateSecondVariant?{alternateSecondVariant:this.config.alternateSecondVariant}:{}),this.config.drivable?{drivable:this.config.drivable}:{}),this.config.fetchLocation?{fetchLocation:this.config.fetchLocation}:{}),this.config.popularFilter?{popularFilter:this.config.popularFilter}:{});return""===e?`${r}/?${this.createURLParams(i)}`:`${r}/${e}?${this.createURLParams(i)}`}fetchResponse(e,t){const n=this.config&&this.config.personalize;return""===e&&n||""!==e?(this.config.essLogger&&this.config.essLogger.logTypeaheadRequest(e),fetch(this.constructURL(e,t),{method:"AIRLINE"===this.config.domainId?"POST":"GET"}).then((e=>(this.config.essLogger&&this.config.essLogger.logResponse(e),e.json())))):Promise.resolve([])}fetchResults(e,t){this.config.essLogger&&this.config.essLogger.initLogger(this.config);const n=t?"":e;return this.fetchResponse(n,t).then((e=>this.handleEssResponse(e))).then((e=>this.logResponse(e))).then((e=>this.adaptResponseToTypeaheadResults(e,n,this.config.historyDetail))).then((e=>this.categorizeOnFocusResponse(e,t)))}fetchRecentSearchResults(){return this.fetchResults("")}fetchAlternativeResults(e){return this.fetchResults(e,this.config.alternate)}fetchResultsCategorized(e){return this.config.essLogger&&this.config.essLogger.initLogger(this.config),this.fetchResponse(e).then((e=>this.handleEssResponse(e))).then((e=>this.logResponse(e))).then((t=>this.adaptResponseToTypeaheadResults(t,e,this.config.historyDetail))).then((e=>this.categorizeResponse(e)))}fetchRecentSearchResultsCategorized(){return this.fetchResultsCategorized("")}categorizeResponse(e){const t=new Map,n=[];let r=0;if(e&&e.length>0){e.forEach((e=>{var n;const r=(null===(n=null==e?void 0:e.data)||void 0===n?void 0:n.type)?this.ESSCategories[e.data.type]:"";t[r]||(t[r]=[]),t[r].push(e)}));for(const[e,i]of Object.entries(t)){i.forEach((e=>{e.data.index=r,r++}));const t={heading:e,typeaheadResults:i};n.push(t)}}return n}onFocusCategories(){const{formatText:e}=this.l10n;return Object.assign({CURRENTLOCATION:"",POPULAR:e("typeahead.ess.popular")||"Explore popular destinations",DRIVABLE:e("typeahead.ess.nearby")||"Nearby locations"},this.config.alternateSecondVariant?{USERHISTORY:e("typeahead.ess.history")||"Recent searches",ALTERNATE:e("typeahead.ess.alternate")||"People also searched"}:{ALTERNATE:e("typeahead.ess.alternate")||"People also searched",USERHISTORY:e("typeahead.ess.history")||"Recent searches"})}categorizeOnFocusResponse(e,t){if(e&&e.length>0){const n=e[0];if("ALTERNATE"===n.data.category||"CURRENTLOCATION"===n.data.category||"POPULAR"===n.data.category||"DRIVABLE"===n.data.category&&this.config.drivable||"USERHISTORY"===n.data.category&&this.config.alternate&&t){const n=new Map,r=[],i=this.onFocusCategories();let o=0;e.forEach((e=>{if(e.data.category){const t=e.data.category;n[t]||(n[t]=[]),n[t].push(e)}}));for(const[e,t]of Object.entries(i)){const i=n[e];if(i&&i.length>0){i.forEach((e=>{e.data.index=o,e.data.displayType="CATEGORIZED",o+=1}));const e={heading:t,typeaheadResults:i};r.push(e)}}return(t||this.config.showCurrentLocation)&&(this.response.sr=r.flatMap((e=>e.typeaheadResults.map((e=>e.data)))),this.config.essLogger&&this.config.essLogger.logTypeaheadResponse(this.response)),r}}return e}logSuggestionShown(e){this.config.essLogger&&this.config.essLogger.logSuggestionShown(e)}onItemSelection(e){var t;return null===(t=this.config.essLogger)||void 0===t||t.logSuggestionSelected(e),(null==e?void 0:e.type)===pe.CURRENT_LOCATION?this.handleCurrentLocationSelection(e):this.config.fetchLocation&&(null==e?void 0:e.type)===pe.ADDRESS&&e.category===ae&&e.sourceId&&"function"==typeof this.thirdPartyFallbackAdapter.fetchLocation?this.fillLocation(this.thirdPartyFallbackAdapter.fetchLocation.bind(this.thirdPartyFallbackAdapter),e.sourceId,e):Promise.resolve(e)}handleCurrentLocationSelection(e){if(this.isGeoLocationAllowed)return this.readCurrentLocation().then((({coords:{latitude:t,longitude:n}})=>Object.assign(Object.assign({},e),{location:{lat:t.toFixed(5),long:n.toFixed(5)}}))).catch((e=>{throw this.isGeoLocationAllowed=!1,e}));const t=this.l10n.formatText("typeahead.currentLocation.blocked.message");return window.alert(t),Promise.reject(t)}fillLocation(e,t,n){return e(t).then((e=>{if(e){const{lat:t,lng:r}=e;return Object.assign({location:{lat:t,long:r}},n)}return n}))}readCurrentLocation(){return new Promise(((e,t)=>{window.navigator.geolocation.getCurrentPosition(e,t)}))}typeaheadDialogOpened(e){if(this.config.essLogger){const t=e&&""!==e?e:void 0;this.config.essLogger.logTypeaheadOpen(t)}}logTypeaheadDismiss(){this.config.essLogger&&this.config.essLogger.logTypeaheadBlurEvent()}handleEssResponse(e){return e.sr=e.sr||e.suggestions||[],this.thirdPartyFallbackAdapter||this.setThirdPartyAdapter(),!this.thirdPartyFallbackAdapter||"GOOGLE_AUTOCOMPLETE"!==e.rc&&"ADDRESS_AUTOCOMPLETE"!==e.rc?Promise.resolve(e):this.thirdPartyFallbackAdapter.fetchResults(e)}setThirdPartyAdapter(){const e=he.filterThirdPartyAdapterFromEssConfig(this.config.features.split("|"));let t;e.length>0&&(t=he.getInstance(e[0],this.config.locale,this.config.googleApiKey),this.thirdPartyFallbackAdapter=t)}logResponse(e){return this.config.essLogger&&this.config.essLogger.logTypeaheadResponse(e),this.response=e,Promise.resolve(e)}adaptResponseToTypeaheadResults(e,t,n){var r,i;const o=(e,t,n,r)=>r?e("typeahead.recentHistory.travelers",n):e("typeahead.recentHistory.roomsTravelers",t,n),s=e=>"LISTING"===(null==e?void 0:e.type)&&e.listingProps?e.listingProps.headline:void 0,a=e=>"LISTING"===(null==e?void 0:e.type)&&e.listingProps?`${e.listingProps.listingId} - ${e.listingProps.baseLocation}`:void 0,c=(e,r)=>{let i;if("USERHISTORY"===e&&n&&void 0!==this.l10n&&r&&r.searchDetail&&r.searchDetail.lob&&!t){let e="";const t=r.searchDetail,{formatDateString:n,formatText:s}=this.l10n,a=t.roomCount,c=t.lob,u=r.searchDetail.totalTravelerCount?Number(r.searchDetail.totalTravelerCount):null;if(r.searchDetail.startDate&&r.searchDetail.endDate){const r=new Date(t.startDate),l=6e4*r.getTimezoneOffset(),d=n(new Date(r.getTime()+l),{skeleton:"MMMd"}),f=new Date(t.endDate),h=6e4*f.getTimezoneOffset(),p=n(new Date(f.getTime()+h),{skeleton:"MMMd"}),m=s("datePicker.nightSummary",(Number(t.endDate)-Number(t.startDate))/864e5);i=`${d} - ${p}`,1!==a||"Lodging"!==c&&"Package"!==c?"Lodging"!==c&&"Package"!==c||(i=`${d} - ${p} | ${m}`):(e=o(s,a,u,this.config.excludeRoomsLabelForRecentHistory),i=`${d} - ${p} | ${m} | ${e}`)}else r.searchDetail.startDate||r.searchDetail.endDate||1!==a||"Lodging"!==c&&"Package"!==c||(i=o(s,a,u,this.config.excludeRoomsLabelForRecentHistory))}return i},u=e=>{var t,n,r,i,o;const u=c(e.category,e)||a(e);if(this.config.features.indexOf(me.CONSISTENT_DISPLAY)<0)return{primaryText:(null===(t=e.regionNames)||void 0===t?void 0:t.displayName)||(null===(n=e.names)||void 0===n?void 0:n.displayName)||s(e),subtext:u};const l=(null===(r=e.regionNames)||void 0===r?void 0:r.primaryDisplayName)||(null===(i=e.names)||void 0===i?void 0:i.displayName)||s(e);return u?{primaryText:`<strong>${l}</strong>`,subtext:u}:{primaryText:`<strong>${l}</strong>`,subtext:(null===(o=e.regionNames)||void 0===o?void 0:o.secondaryDisplayName)||a(e)||""}},l=(e,t,n,r,i)=>{if("AIRLINE"===e)return"";if(n&&!r)return"subdirectory_arrow_right";if("USERHISTORY"===i)return"history";if("FLIGHTS"===this.config.lob)return"lob_flights";switch(e){case"HOTEL":return"lob_hotels";case"AIRPORT":return"lob_flights";case"ADDRESS":return"RENTALLOCATION"===t?"lob_cars":"place";case"METROSTATION":case"TRAINSTATION":return"train";default:return"place"}},d=""===t&&this.shouldShowCurrentLocation()?[this.getCurrentLocationItem()]:[];return(null===(i=null===(r=e.sr)||void 0===r?void 0:r.reduce)||void 0===i?void 0:i.call(r,((e,n,r)=>{var i,o,s,a,c,d,f,h,p,m,g,v,y,b;const E=n.hierarchyInfo&&n.hierarchyInfo.relation&&n.hierarchyInfo.relation.indexOf("nearby")>-1,w=n.hierarchyInfo&&n.hierarchyInfo.relation&&n.hierarchyInfo.relation.indexOf("child")>-1||E,{primaryText:S,subtext:T}=u(n),R=Object.assign(Object.assign({data:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},n.category?{category:n.category}:{}),!t&&n.searchDetail?{searchDetail:n.searchDetail}:{}),n.userHistoryType?{userHistoryType:n.userHistoryType}:{}),(null===(i=n.ids)||void 0===i?void 0:i.id)?{id:n.ids.id}:{}),n.coordinates?{location:{lat:n.coordinates.lat,long:n.coordinates.long}}:{}),n.regionId?{regionId:n.regionId}:n.gaiaId?{regionId:n.gaiaId}:{}),n.cityId?{cityId:n.cityId}:{}),n.regionNames?{regionNames:n.regionNames}:{}),n.type?{type:n.type}:{}),n.subtype?{subtype:n.subtype}:{}),n.hotelId?{selected:n.hotelId}:{}),n.hierarchyInfo?{hierarchyInfo:n.hierarchyInfo}:{}),"LISTING"===n.type&&n.listingProps?{listing:n.listingProps}:{}),n.sourceId?{sourceId:n.sourceId}:{}),n.essId?{essId:{sourceId:n.essId.sourceId,sourceName:n.essId.sourceName}}:{}),{dest:this.config.dest,index:r+1}),icon:l(n.type||n.domainId,n.subtype,w,E,n.category)},w?{isChild:!0}:{}),{name:S,subtext:T,title:(null===(o=n.regionNames)||void 0===o?void 0:o.lastSearchName)||(null===(s=n.regionNames)||void 0===s?void 0:s.shortName)||(null===(a=n.regionNames)||void 0===a?void 0:a.fullName)||(null===(c=n.listingProps)||void 0===c?void 0:c.listingId)||(null===(d=n.ids)||void 0===d?void 0:d.id),value:(null===(f=n.regionNames)||void 0===f?void 0:f.lastSearchName)||(null===(h=n.regionNames)||void 0===h?void 0:h.shortName)||(null===(p=n.regionNames)||void 0===p?void 0:p.fullName)||(null===(m=n.listingProps)||void 0===m?void 0:m.listingId)||(null===(g=n.names)||void 0===g?void 0:g.displayName)});return e.push(R),(null==n?void 0:n.filterRefinements)&&(null===(v=null==n?void 0:n.filterRefinements)||void 0===v?void 0:v.length)>0&&(null===(b=null===(y=null==n?void 0:n.filterRefinements.find((e=>{var t;return"popularFilter"===(null===(t=null==e?void 0:e.category)||void 0===t?void 0:t.legacyId)})))||void 0===y?void 0:y.arrayOfValues)||void 0===b||b.forEach((t=>{e.push(Object.assign(Object.assign({},R),{data:Object.assign(Object.assign({},R.data),{popularFilter:[t]}),subtext:`<strong>${null==t?void 0:t.displayName}</strong>`,icon:"subdirectory_arrow_right"}))}))),e}),d))||d}shouldShowCurrentLocation(){return Boolean(this.config.showCurrentLocation&&"geolocation"in navigator)}getCurrentLocationItem(){const e=this.isGeoLocationAllowed?this.l10n.formatText("typeahead.currentLocation.available.item"):this.l10n.formatText("typeahead.currentLocation.blocked.item");return{data:{category:"CURRENTLOCATION",hierarchyInfo:{relation:["current"]},index:-1,enabled:this.isGeoLocationAllowed,regionNames:{fullName:"CurrentLocation"},type:pe.CURRENT_LOCATION},icon:"my_location",name:e,title:e,value:e}}getBrowser(e){let t,n=e.match(/(opera|chrome|safari|firefox|msie|trident(?=\/))\/?\s*(\d+)/i)||[];return/trident/i.test(n[1])?"IE":"Chrome"===n[1]&&(t=e.match(/\b(OPR|Edge?)\/(\d+)/),null!==t)?t.slice(1,-1).join(" ").replace("OPR","Opera").replace("Edg ","Edge "):(n=n[2]?[n[1],n[2]]:[navigator.appName,navigator.appVersion,"-?"],t=e.match(/version\/(\d+)/i),null!==t&&n.splice(1,1,t[1]),n[0])}getDevice(e){return/iPad|Transformer|ME173X|KOOF|Nook|IMM76D|Nexus 10|Nexus 7|Tablet/i.test(e)||/HP Slate|PG09410|PG41200|Mediapad|Kindle|Tab|Xoom|TegraNote|SCH-I800/i.test(e)?"Tablet":/Android|webOS|iPhone|iPod|BlackBerry|IEMobile|Opera Mini/i.test(e)?"Mobile":"Desktop"}}const ve=e=>{switch(e.type){case"categorized":return e.items.reduce(((e,t)=>e+t.typeaheadResults.length),0);case"uncategorized":return e.items.length}},ye=(e,t)=>{switch(e.type){case"categorized":return Object.assign(Object.assign({},e),{items:e.items.map((e=>Object.assign(Object.assign({},e),{typeaheadResults:e.typeaheadResults.filter((e=>!t.includes(e.value)))})))});case"uncategorized":return Object.assign(Object.assign({},e),{items:e.items.filter((e=>!t.includes(e.value)))})}},be=(e,t)=>{switch(e.type){case"categorized":return e.items.reduce(((e,t)=>(e.push(...t.typeaheadResults),e)),[])[t];case"uncategorized":return e.items[t]}},Ee=M.p+"./styles/egds-search-experience-typeahead-custom.css",we=D.classNames.bind(Ee);class Se extends e.Component{render(){const t=this.props,{className:n,placeholder:r,required:i}=t,o=P(t,["className","placeholder","required"]),s=we("uitk-typeahead-input",n);return e.createElement(ee.UitkInput,Object.assign(Object.assign({},o),{autoCapitalize:"off",autoComplete:"off",autoCorrect:"off",className:s,type:"text",spellCheck:!1,placeholder:r,required:i}))}}Se.displayName="UitkTypeaheadInput";const Te=(e=>{var t={};return M.d(t,e),t})({UitkActionList:()=>O.D,UitkActionListItem:()=>x.v,UitkActionListItemLink:()=>C.b}),Re=(e=>{var t={};return M.d(t,e),t})({UitkText:()=>A.b}),_e=(e=>{var t={};return M.d(t,e),t})({UitkSpacing:()=>I.l}),Oe=(e=>{var t={};return M.d(t,e),t})({UitkLineSkeleton:()=>k.H}),xe="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAJAAAAASCAYAAAC0PldrAAAIHElEQVR4Ae3ZBXDbWB7H8efglpmZGW0HlhzJDpSZmZkZ3W3s2DpmZmbmKx0zM/NdoGhotxTf9x9LHY027paW85v5bBRQopn32weqasqzk5Jw7BE9nHijHo5/Rw/HfqaHYl/keldZ8GJ7qBeqZ/6PNGlPUT5DeVKNqkyc18PJ6VDPtfEfnvUJz0dmpbwfmzMW6k5YFy96pBRTkCnL4MUDiy94oS0F+ZVZlD/5qxLLfNFkz0D0fBtfKOkpCcffrFfG6vVQ4hDUc6ypQLdDFmMdMiWIcjywaOHEB8zynPEFa1pCOWnHLw2Bej5oKtDzqEC+cGyoWZ5YaTDeGer57r4LRPLRCi40liy0QR4eVB5CG2QhU3KQneG+TM/qQhvk424L1Bwt73P22d9QoFD8bVB3KxVUWTX+gqW1mvvLtbr7Z7V+z6frNM/UlFIuKAD83I2v5y69eiL3y9dPZP/s2tdyPn39ZN7UVEq5oCz8x+WvjC/SQrEv8/u/z/O9siSUKNfC8agWSbrRaIH+p3lH1Pg976jxe38gz8JzzLM/g2QhpmIuIjCwB/0cg6HjGAxEsQQtIZmCtbBnLbY4BngZptkGaQmiMHAUhbCyEJMxCxGsh6QFltruOwIv7BmEfTAQwWwsvYMCTcMqGKat6AJJCXYjD1ZcWIdZsEdK8K50gZLroez4+l4G8j1PURlfAJWaMye7Vvd+otbvTVVr7hvVmvc/ci0YyNdAidTHVPa1EzmfuH4iN0WBbnD9H7lu8PXc10CJYDCVxanvffI8nAZvloQTNenZMXYt/YyJ5Y3tgar9nkCt5n2y4Tl073+5TprPEIYSknW2ARpkWosQOkFSiijK0BtuHME2ZGMMDLSDpBMMU29bYaIYBxfW4wBGojcmw8BIWM8Vwjq40QMubMR+231TYGAYJN1QhVUYgEHYgMgdFCiCBeiLYdiJI2iO9og6St4XBgZnKpAWjm2AsmNZO+E8jdlnqzrdvS49aO4fndWLekDVlbmHMoB/MQewAorCrDML86P6E816QD35lbyhzER/SZcouwJKq0oskd9PSX9aVnm5F1RJVbKQr13IVKCU251b7Xf/WwpcqxfMkVnngm9MW+sZ6gJeD24N1BHkwUouDmI28hDGBNjTDwZGIR9hFEOiYyu2YRIkY1GFhzAABvrCnpVYbyvQAeTAyiBHKa2sNUnmY5/jvnwcvYMCbXDMmG1QBR2SJdhu+5l52NXYMsqA7EsXI/5OKBvEhnMKK7LwtePpgYy9HIpB+lbDIGmFbihLTcAzs6FAuueDUJTkW0hdO5XrhrJc/1reTPk6BfsgZMY7iZS/KumFsmihxIFMBaoNeHxmiT/6H5+7Y41esJcl7K/pmdD9N64n4tZALYQzs7EDvTMMmgtBW7GWYyUk26DDj/1wYYHt+z7bUhixMXDMVqDFznG5zX1HIdmDGbDnTvdAGpzZhGWO/2n6ojnCKIIzDNClwQ1LRmU8ETCS3aEysU5r7FHmQckAyUD9sWJgPpSlNlA4SL7O0vJNqGtfz/6bFKX+SyofyvLk1/IGNcxAX8v9JpS8QpDfX/Ha+nwoC8vplIwFYq/TUFbN+w9Zxqr93vpq3fOFWn/BJFlioYQ1UEvgzHxsRQ8Y6NdIgY6jDBI3wugGA53QxVa+IAogeQwR9EB3h27IVGwfqjLc1xWSnZgNZ5bdQYECcGabrcgubMUCPIZjtztQWPsOZpjvPRq52A7KSatKTpV3QfxcXenL61tASUFk8M7q7gIoiywl6UF1fwBKCmLONAVQlhsn8+aYX/8AVEll4pQ8h7x7grLIRj9TgWo0z8Ppsnqv1eqeyP98hX2hZClrrEDH0QpWWuIYJiMbQcx1TNWjYWCQbY8TwQbshJXdWI+obdPdEwbGwJ7ipylQH2vZdN5nK9AMHEVzx1JUeQcF2uVY+rojimJYGY8q7MdEZIy8MGTwfmHuhf5JkTbJex/fyxJdtcpLDzNob5JNrbn/mQMl2ECvNpeKn1sDV6MVjGEz/U9zWSmFYuO82tzr/PzK6fy+UFdP5o6hNP9M742ySyFL1VJrDxSIXu4NJUunvAXPVCApCfufP5p7rg1y2pMZkeswX/u+zIawF0jtwyOmvThiK5UXBhbDgwkIY7mjVKthoBRWymE0MngLbXsrN+bbS5WhQC4sRggVjvtGQ9IWQexGMR7BfjxxBwV6AptRgBIcxU7kwkoODiOCtrhtZOZhkD52m3/KiFGs+VCAdYT3fsicAer5WIcU4DGghPzcta/nfKjhFPa13HrUybW5fBlQQk5hWmXi/fL3rNnuTk5hdX6Pl79/wTwNXrJOYbIXOh9w98atgVqAx7EPx7AUHWDPSGy2la0MOY38zCp0gZWuWNXIbJONAPYhhK0YDSsTocGZbJRmuM9KJ6zAceyHD489zYyxCGMwGYdts24LOLMWi3DHkQ0sg/QqWU5KwvEf4HPMDHseDcc6QTnJUiH7EGajz8g7GPYiH2EWKoOyk/c9vAeax6zzGcryAz5+5PrJ7DIoO37QxTufhRT0C+zLvst11FrC5JQG5f7IrJd5Pjzzx56Pzh4CJc76CnryHugVPMe3OcqfYTkLymkMCpk30RnTlG62jfQLIr5gKkf+wVY29lAWWULTM2HsMah70VSgu888bIULL4hw2pqRPhEmfiMbadmbyWzE/utqSSj2nznBVB7UvWgq0N2lLSIYhxdOWL5k+Xzq/it2mdcGAah7ZV00eQlgxvFRpNfJeyc+Bn2RK32h7sf/AesqcHB02e65AAAAAElFTkSuQmCC",Ce="M9.07917722,0.0888888889 C4.06575949,0.0888888889 0,4.52222222 0,9.98888889 C0,15.4555556 4.06575949,19.8888889 9.07917722,19.8888889 C14.0925949,19.8888889 18.1583544,15.4555556 18.1583544,9.98888889 C18.1583544,4.52222222 14.0925949,0.0888888889 9.07917722,0.0888888889 Z M55.7284177,2.27777778 C55.6061392,2.27777778 55.5042405,2.38888889 55.5042405,2.52222222 L55.5042405,13.9888889 C55.5042405,14.1222222 55.6061392,14.2333333 55.7284177,14.2333333 L57.0938608,14.2333333 C57.2161392,14.2333333 57.318038,14.1222222 57.318038,13.9888889 L57.318038,13.2 C58.0211392,14 58.9891772,14.4555556 59.9979747,14.4555556 C62.1276582,14.4555556 63.8599367,12.4555556 63.8599367,9.97777778 C63.8599367,7.5 62.1276582,5.51111111 59.9979747,5.51111111 C58.9789873,5.51111111 58.0109494,5.96666667 57.318038,6.76666667 L57.318038,2.52222222 C57.318038,2.38888889 57.2161392,2.27777778 57.0938608,2.27777778 L55.7284177,2.27777778 Z M10.0166456,3.93333333 C11.1782911,3.96666667 12.3501266,4.46666667 13.2468354,5.45555556 C15.050443,7.42222222 15.1115823,10.5333333 13.3894937,12.4222222 C10.2815823,15.8111111 4.74848101,14.7222222 4.74848101,14.7222222 C4.74848101,14.7222222 3.74987342,8.68888889 6.85778481,5.3 C7.72392405,4.36666667 8.86518987,3.91111111 10.0166456,3.93333333 Z M26.3510127,5.51111111 C25.515443,5.51111111 24.7308228,5.95555556 24.231519,6.68888889 L24.231519,5.97777778 C24.231519,5.84444444 24.1296203,5.73333333 24.0073418,5.73333333 L22.6418987,5.73333333 C22.5196203,5.73333333 22.4177215,5.84444444 22.4177215,5.97777778 L22.4177215,14 C22.4177215,14.1333333 22.5196203,14.2444444 22.6418987,14.2444444 L24.0073418,14.2444444 C24.1296203,14.2444444 24.231519,14.1333333 24.231519,14 L24.231519,9.2 C24.2824684,8.12222222 24.9651899,7.27777778 25.8007595,7.27777778 C26.6668987,7.27777778 27.3903797,8.06666667 27.3903797,9.11111111 L27.3903797,14 C27.3903797,14.1333333 27.4922785,14.2444444 27.614557,14.2444444 L28.9901899,14.2444444 C29.1124684,14.2444444 29.2143671,14.1333333 29.2143671,14 L29.2041772,9.01111111 C29.3264557,8.03333333 29.9786076,7.27777778 30.7632278,7.27777778 C31.6293671,7.27777778 32.3528481,8.06666667 32.3528481,9.11111111 L32.3528481,14 C32.3528481,14.1333333 32.4547468,14.2444444 32.5770253,14.2444444 L33.9526582,14.2444444 C34.0749367,14.2444444 34.1768354,14.1333333 34.1768354,14 L34.1666456,8.48888889 C34.1972152,6.84444444 32.9132911,5.51111111 31.3236709,5.51111111 C30.3046835,5.52222222 29.3672152,6.16666667 28.9290506,7.17777778 C28.419557,6.14444444 27.4311392,5.5 26.3510127,5.51111111 L26.3510127,5.51111111 Z M39.3838608,5.51111111 C37.2541772,5.51111111 35.5218987,7.51111111 35.5218987,9.98888889 C35.5218987,12.4666667 37.2541772,14.4666667 39.3838608,14.4666667 C40.4028481,14.4666667 41.3708861,14.0111111 42.0637975,13.2111111 L42.0637975,14 C42.0637975,14.1333333 42.1656962,14.2444444 42.2879747,14.2444444 L43.6534177,14.2444444 C43.7756962,14.2444444 43.8775949,14.1333333 43.8775949,14 L43.8775949,5.97777778 C43.8877848,5.84444444 43.7858861,5.73333333 43.6534177,5.73333333 L42.2879747,5.73333333 C42.1656962,5.73333333 42.0637975,5.84444444 42.0637975,5.97777778 L42.0637975,6.76666667 C41.3606962,5.96666667 40.3926582,5.51111111 39.3838608,5.51111111 Z M50.1953165,5.51111111 C49.1763291,5.51111111 48.2082911,5.96666667 47.5153797,6.76666667 L47.5153797,5.97777778 C47.5153797,5.84444444 47.413481,5.73333333 47.2912025,5.73333333 L45.9257595,5.73333333 C45.803481,5.73333333 45.7015823,5.84444444 45.7015823,5.97777778 L45.7015823,17.4444444 C45.7015823,17.5777778 45.803481,17.6888889 45.9257595,17.6888889 L47.2912025,17.6888889 C47.413481,17.6888889 47.5153797,17.5777778 47.5153797,17.4444444 L47.5153797,13.2 C48.218481,14 49.186519,14.4555556 50.1953165,14.4555556 C52.325,14.4555556 54.0572785,12.4555556 54.0572785,9.97777778 C54.0572785,7.5 52.325,5.51111111 50.1953165,5.51111111 Z M69.0975316,5.51111111 C66.7844304,5.51111111 64.9196835,7.51111111 64.9196835,9.98888889 C64.9196835,12.4666667 66.7946203,14.4666667 69.0975316,14.4666667 C71.400443,14.4666667 73.2753797,12.4666667 73.2753797,9.98888889 C73.2753797,7.51111111 71.4106329,5.51111111 69.0975316,5.51111111 Z M73.7237342,5.73333333 C73.6116456,5.73333333 73.5199367,5.83333333 73.5199367,5.95555556 C73.5199367,6 73.5301266,6.04444444 73.5505063,6.07777778 L75.8941772,9.96666667 L73.5199367,13.9 C73.4587975,14 73.4791772,14.1444444 73.5810759,14.2111111 C73.6116456,14.2333333 73.6524051,14.2444444 73.6931646,14.2444444 L75.2725949,14.2444444 C75.3948734,14.2444444 75.506962,14.1777778 75.5681013,14.0666667 L76.9743038,11.5 L78.3805063,14.0666667 C78.4416456,14.1777778 78.5537342,14.2444444 78.6760127,14.2444444 L80.255443,14.2444444 C80.3675316,14.2444444 80.4592405,14.1444444 80.4592405,14.0222222 C80.4592405,13.9777778 80.4490506,13.9444444 80.4286709,13.9 L78.0544304,9.96666667 L80.3981013,6.07777778 C80.4592405,5.97777778 80.4388608,5.83333333 80.336962,5.76666667 C80.3063924,5.74444444 80.2656329,5.73333333 80.2248734,5.73333333 L78.645443,5.73333333 C78.5231646,5.73333333 78.4110759,5.8 78.3499367,5.91111111 L76.9743038,8.43333333 L75.5986709,5.91111111 C75.5375316,5.8 75.425443,5.73333333 75.3031646,5.73333333 L73.7237342,5.73333333 Z M10.1185443,5.88888889 L9.23202532,7.88888889 L7.40803797,8.85555556 L9.23202532,9.82222222 L10.1185443,11.8222222 L11.0152532,9.82222222 L12.8392405,8.85555556 L11.0152532,7.88888889 L10.1185443,5.88888889 Z M39.6997468,7.3 C40.9938608,7.3 42.0434177,8.48888889 42.0637975,9.95555556 L42.0637975,10.0222222 C42.0536076,11.4888889 40.9938608,12.6777778 39.6997468,12.6777778 C38.395443,12.6777778 37.3356962,11.4777778 37.3356962,9.98888889 C37.3356962,8.5 38.395443,7.3 39.6997468,7.3 L39.6997468,7.3 Z M49.8692405,7.3 C51.1735443,7.3 52.2332911,8.5 52.2332911,9.98888889 C52.2332911,11.4777778 51.1735443,12.6777778 49.8692405,12.6777778 C48.5751266,12.6777778 47.5255696,11.4888889 47.5051899,10.0222222 L47.5051899,9.95555556 C47.5255696,8.48888889 48.5751266,7.3 49.8692405,7.3 L49.8692405,7.3 Z M59.6820886,7.3 C60.9863924,7.3 62.0461392,8.5 62.0461392,9.98888889 C62.0461392,11.4777778 60.9863924,12.6777778 59.6820886,12.6777778 C58.3879747,12.6777778 57.3384177,11.4888889 57.318038,10.0222222 L57.318038,9.95555556 C57.3384177,8.48888889 58.3879747,7.3 59.6820886,7.3 L59.6820886,7.3 Z M69.0771519,7.3 C70.3814557,7.3 71.4412025,8.5 71.4412025,9.98888889 C71.4412025,11.4777778 70.3814557,12.6777778 69.0771519,12.6777778 C67.7728481,12.6777778 66.7131013,11.4777778 66.7131013,9.98888889 C66.7131013,8.5 67.7728481,7.3 69.0771519,7.3 Z",Ae=D.classNames.bind(Ee),Ie=t=>{const{results:n}=t;let r;const i=e=>{var t;return e?null===(t=e.data)||void 0===t?void 0:t.category:""},o=e=>e.find((e=>e.data&&e.data.category)),s=e=>e.some((e=>{const t="category";return e.data&&e.data[t]&&e.data[t]===r}));if(!(e=>{switch(e.type){case"categorized":return r=(e=>{const t=e.find((e=>o(e.typeaheadResults)));return void 0!==t&&t.typeaheadResults?i(t.typeaheadResults[0]):""})(e.items),(e=>e.some((e=>s(e.typeaheadResults))))(e.items);case"uncategorized":return r=(e=>i(o(e)))(e.items),(e=>s(e))(e.items)}})(n))return null;switch(r){case ae:return e.createElement("div",{className:Ae("uitk-typeahead-google-logo")},e.createElement("img",{src:xe,alt:"Powered by Google Logo"}));case"MAPBOX":return e.createElement("div",{className:Ae("uitk-typeahead-google-logo")},"powered by"," ",e.createElement("svg",{viewBox:"0 0 81 20",width:"81px",height:"20px"},e.createElement("path",{d:Ce})));default:return null}},ke=D.classNames.bind(Ee),Ne=t=>{const{data:n,onResultItemSelect:r,value:i,className:o,subtext:s,activeSuggestion:a,name:c,contentRef:u,icon:l,historyDetail:d,sanitized:f,stid:h,index:p,handleRemoveRecentSearch:m,allowToRemoveRecentSearches:g}=t,{formatText:v}=(0,X.useLocalization)(),y=s?`${c} ${s}`.replace(/(<([^>]+)>)/gi,""):null==c?void 0:c.replace(/(<([^>]+)>)/gi,""),b=`full-search-detail-${d||!1}`,E="USERHISTORY"===(null==n?void 0:n.category),w=v("typeahead.custom.delete.recent.search.button.label.a11y",i),S=v("typeahead.custom.delete.recent.search.button.announce.a11y",i),T=ke(o,s?"uitk-typeahead-result-item has-subtext":"uitk-typeahead-result-item",!0===a&&"usitk-typeahead-result-item-hover");if(!0===a){const e=c.replace(/(<([^>]+)>)/gi,"");(0,D.liveAnnounce)(`${e}`,void 0,void 0,u)}const R=f?e.createElement("span",null,c):e.createElement("div",{className:ke("typeahead-custom-truncate")},e.createElement("span",{dangerouslySetInnerHTML:{__html:c}})),_=!f&&s&&((null==n?void 0:n.popularFilter)?e.createElement("div",{className:ke("typeahead-custom-truncate")},e.createElement("span",{dangerouslySetInnerHTML:{__html:s}})):e.createElement("div",{"data-stid":b,className:ke("is-subText","typeahead-custom-truncate"),dangerouslySetInnerHTML:{__html:s}}));return e.createElement(Te.UitkActionListItem,{spacing:"relaxed",className:T,"data-stid":h&&`${h}-result-item`,"data-index":p},e.createElement("div",{className:ke("uitk-typeahead-result-item-container")},e.createElement(te.UitkButton,{"data-stid":h&&`${h}-result-item-button`,onClick:()=>{r(i,n)},className:ke(s&&"has-subtext",`${h}-result-item-button`,"result-item-button"),"aria-label":y,type:"button",isFullWidth:!0}),e.createElement(ne.UitkLayoutFlex,null,l&&e.createElement(ne.UitkLayoutFlexItem,{alignSelf:"center"},e.createElement(B.UitkIcon,{name:l,size:B.UitkIconSize.MEDIUM})),e.createElement(ne.UitkLayoutFlexItem,null,e.createElement("div",{className:ke("uitk-typeahead-button-label","typeahead-custom-truncate")},R,_)),E&&g&&e.createElement(ne.UitkLayoutFlexItem,{alignSelf:"center",grow:1},e.createElement(ne.UitkLayoutFlex,{justifyContent:"end"},e.createElement(te.UitkTertiaryButton,{onClick:()=>{m(null==n?void 0:n.regionId),(0,D.liveAnnounce)(1===S.length?`${c} was deleted from recent searches`:S)},"aria-label":0===w.length?`Delete ${i} from recent searches`:w},e.createElement(B.UitkIcon,{name:"close",size:B.UitkIconSize.SMALL})))))))},Le=D.classNames.bind(Ee),Pe=t=>{const{headingText:n,hideHeading:r=!1,typeaheadLabel:i,stid:o="",values:s,onItemRemove:a,onClear:c,clearAllText:u,className:l}=t,d=(0,X.useLocalization)(),f=null!=u?u:d.formatText("typeahead.mulselect.clearAll"),h=null!=n?n:d.formatText("typeahead.multiselect.selectedItemHeading");return e.createElement("div",{className:Le("uitk-typeahead-selections",l)},!r&&h&&(null==s?void 0:s.length)>0&&e.createElement("div",{className:Le("uitk-typeahead-result-title-label","typeahead-custom-truncate")},h),e.createElement("div",{className:Le("uitk-typeahead-pills"),"data-stid":o},null==s?void 0:s.map(((t,n)=>e.createElement(U.UitkRemovablePill,{onClick:()=>((e,t)=>{(0,D.liveAnnounce)(d.formatText("typeahead.removeSelection",e)),null==a||a(t)})(t,n),id:`${o}-pill-${n}`,key:`${o}-pill-${n}`,className:Le("uitk-spacing-margin-block-one")},t))),(null==s?void 0:s.length)&&e.createElement(te.UitkTertiaryButton,{onClick:()=>{(0,D.liveAnnounce)(d.formatText("typeahead.clearAllSelections",i)),null==c||c()},size:te.UitkButtonSize.SMALL},f)))},Ue=D.classNames.bind(Ee),De=e=>{const t=e&&e.data&&e.data.type===pe.CURRENT_LOCATION;return Ue({"is-nested-child":e.data&&(e.isChild||e.data.popularFilter),"uitk-typeahead-current-location":t&&e.data.enabled,disabled:t&&!e.data.enabled})};function Me(t){const{activeSuggestion:n,allowExactMatch:r,listTitle:i,typeaheadLabel:o,onResultItemSelect:s,results:a,searchTerm:c,stid:u,emptyResultPlaceholder:l,isMulti:d,onClearAll:f,onItemRemove:h,clearAllText:p,selectedItemHeading:m,value:g,domRef:v,contentRef:y,historyDetail:b,allowToRemoveRecentSearches:E,handleRemoveRecentSearch:w}=t,S=(0,X.useLocalization)(),T=d?ye(a,g):a,R=ve(T),_=d?"uitk-typeahead-multi-selection-results":"uitk-typeahead-results",O=()=>d&&g.length>0?e.createElement(Pe,{typeaheadLabel:o,values:g,stid:u,clearAllText:p,onClear:f,onItemRemove:h,headingText:m,className:Ue("uitk-typeahead-results-selections")}):null;if(!a||0===a.items.length)return l?e.createElement(_e.UitkSpacing,{padding:{blockstart:"three"}},e.createElement("div",null,O(),e.createElement(ne.UitkLayoutFlex,{justifyContent:"center",alignContent:"center",className:Ue("uitk-typeahead-empty-state")},e.createElement(Re.UitkText,{align:"center"},e.createElement(_e.UitkSpacing,{margin:{blockstart:"six"}},e.createElement(B.UitkIcon,{name:"search",size:B.UitkIconSize.XLARGE})),e.createElement(_e.UitkSpacing,{margin:{blockend:"three"}},e.createElement(Re.UitkText,{size:300},l)))))):e.createElement(_e.UitkSpacing,{padding:{blockstart:"three"}},e.createElement("div",null,O()));function x(e,t){s(e,t,T)}const C=e=>{var t;return null===(t=e[0])||void 0===t?void 0:t.disabled},A=e=>{var t,n;return null===(n=null===(t=e[0])||void 0===t?void 0:t.typeaheadResults[0])||void 0===n?void 0:n.disabled},I=()=>e.createElement("div",{className:Ue("uitk-typeahead-results-skeleton-container")},e.createElement(Oe.UitkLineSkeleton,{className:Ue("uitk-typeahead-results-skeleton","uitk-typeahead-results-skeleton-first")}),e.createElement(Oe.UitkLineSkeleton,{className:Ue("uitk-typeahead-results-skeleton","uitk-typeahead-results-skeleton-second")}),e.createElement(Oe.UitkLineSkeleton,{className:Ue("uitk-typeahead-results-skeleton")}));return e.createElement(_e.UitkSpacing,{padding:{blockstart:"three"}},e.createElement("div",{className:Ue(_),ref:v},O(),e.createElement(Te.UitkActionList,{className:Ue("no-bullet"),"data-stid":u&&`${u}-results`},(t=>{switch(t.type){case"categorized":return A(t.items)?I():(o=t.items)&&o.map((t=>e.createElement(e.Fragment,{key:t.heading},t.heading&&e.createElement(Te.UitkActionListItem,{spacing:"relaxed",className:Ue("uitk-typeahead-result-title")},e.createElement("div",{className:Ue("uitk-typeahead-result-title-label","typeahead-custom-truncate")},t.heading)),t.typeaheadResults&&t.typeaheadResults.map(((t,r)=>{var i;return e.createElement(Ne,{className:De(t),data:t.data,key:r,index:r,icon:t.icon,name:t.name,handleRemoveRecentSearch:w,onResultItemSelect:x,stid:u,value:t.value,subtext:t.subtext,allowToRemoveRecentSearches:E,activeSuggestion:-1!==n&&n===(null===(i=t.data)||void 0===i?void 0:i.index),historyDetail:b})})))));case"uncategorized":return C(t.items)?I():(r=t.items)&&r.map(((t,r)=>e.createElement(e.Fragment,{key:r},i&&e.createElement(Te.UitkActionListItem,{spacing:"relaxed",className:Ue("uitk-typeahead-result-title")},e.createElement("div",{className:Ue("uitk-typeahead-result-title-label","typeahead-custom-truncate")},t.title)),e.createElement(Ne,{className:De(t),data:t.data,key:r,index:r,icon:t.icon,name:t.name,allowToRemoveRecentSearches:E,onResultItemSelect:x,handleRemoveRecentSearch:w,stid:u,value:t.value,subtext:t.subtext,activeSuggestion:-1!==n&&n===r,contentRef:y,historyDetail:b}))))}var r,o})(T),r&&c&&!(e=>{switch(e.type){case"categorized":return A(e.items);case"uncategorized":return C(e.items)}})(T)&&e.createElement(Ne,{icon:"search",name:S.formatText("typeahead.searchFor",[c]),onResultItemSelect:x,handleRemoveRecentSearch:w,index:R,stid:u,value:c,allowToRemoveRecentSearches:E,sanitized:!0,activeSuggestion:!(-1===n||n!==R),historyDetail:b})),e.createElement(Ie,{results:T})))}const je=D.classNames.bind(Ee);var Be;!function(e){e.UP="UP",e.DOWN="DOWN"}(Be||(Be={}));class Fe extends e.Component{constructor(t){super(t),this.toolbarInputRef=e.createRef(),this.iphoneSafariUARegex=/iphone.*safari|safari.*iphone/gi,this.uid=Math.random().toString(36).substring(7),this.typeaheadDialogLiveAnnounceId=`uitk-typeahead-dialog-live-announce-${this.uid}`,this.typingTimeout=0,this.newAttr=-1,this._isMounted=!1,this.state={activeSuggestion:-1,categorizedResults:[],data:{},results:[],searchTerm:t.term,showResults:!0,startSearchTerm:t.startSearchTerm,isCurrentLocation:!1},this.announceResults=this.announceResults.bind(this),this.focusInput=this.focusInput.bind(this),this.handleChange=this.handleChange.bind(this),this.handleKeyPress=this.handleKeyPress.bind(this),this.handleKeyDown=this.handleKeyDown.bind(this),this.handleKeyUp=this.handleKeyUp.bind(this),this.handleAnnounceResults=this.handleAnnounceResults.bind(this),this.handleResultItemSelect=this.handleResultItemSelect.bind(this),this.onDismiss=this.onDismiss.bind(this),this.openDialog=this.openDialog.bind(this),this.updateResults=this.updateResults.bind(this),this.updateResultsDebounced=t.debounceRate&&t.debounceRate>0?(0,W.debounce)(t.debounceRate,this.updateResults):this.updateResults,this.updateInput=this.updateInput.bind(this),this.selectInput=this.selectInput.bind(this),this.resetActiveSuggestion=this.resetActiveSuggestion.bind(this),this.removeDialogLiveAnnounce=this.removeDialogLiveAnnounce.bind(this),this.handleRemoveRecentSearch=this.handleRemoveRecentSearch.bind(this),this.contentRef=e.createRef()}componentDidMount(){this._isMounted=!0}componentDidUpdate(e,t){const{term:n}=this.props;n!==e.term&&this.setState({searchTerm:n});const{searchTerm:r,showResults:i}=this.state;t.searchTerm!==r&&i&&(this.setState({results:Fe.placeholder}),this.updateResultsDebounced(r))}componentWillUnmount(){var e;const{adapter:t}=this.props;null===(e=null==t?void 0:t.logTypeaheadDismiss)||void 0===e||e.call(t),this._isMounted=!1}handleChange(e){this.setState({searchTerm:e.target.value,showResults:!0,isCurrentLocation:!1},this.focusInput),""===e.target.value&&this.resetActiveSuggestion()}handleResultItemSelect(e,t,n){var r;const{isMulti:i,adapter:o,l10n:s,label:a,onResultItemSelect:c}=this.props,{searchTerm:u}=this.state;return null===(r=o.onItemSelection)||void 0===r?void 0:r.call(o,t).then((r=>{i?this.setState({activeSuggestion:-1}):this.setState({activeSuggestion:-1,searchTerm:e,showResults:!1,isCurrentLocation:(null==t?void 0:t.type)===pe.CURRENT_LOCATION}),c(e,r);const o=n?ve(n)-1:0;i&&(0,D.liveAnnounce)(`${s.formatText("typeahead.announceResults.itemSelected",e)}\n             ${s.formatText("typeahead.announceResults.showingResults",a,o,u)}`,void 0,void 0,this.contentRef,this.typeaheadDialogLiveAnnounceId),i||(setTimeout((()=>{(0,D.liveAnnounce)(`${s.formatText("typeahead.announceResults.itemSelected",e)}\n             ${s.formatText("typeahead.announceResults.menuClosed")}`)}),100),this.onDismiss())})).catch((()=>{this.updateResults(e,!0,""!==e),this.onDismiss()}))}handleRemoveRecentSearch(e){this.setState((t=>Object.assign(Object.assign({},t),{results:this.filterTypeaheadResult(e,t.results),categorizedResults:t.categorizedResults.map((t=>Object.assign(Object.assign({},t),{typeaheadResults:this.filterTypeaheadResult(e,t.typeaheadResults)}))).filter((e=>e.typeaheadResults.length>=1))}))),this.removeRecentSearch(e)}handleAnnounceResults(e){this.typingTimeout&&clearTimeout(this.typingTimeout),e.length>0&&(this.typingTimeout=setTimeout((()=>{this.announceResults(e)}),1e3))}handleKeyPress(e){const{value:t}=this.props,n=ye(this.getResultsToShow(),Array.isArray(t)?t:[]),{activeSuggestion:r,searchTerm:i}=this.state;if("Enter"!==e.key&&38!==e.keyCode&&40!==e.keyCode||e.preventDefault(),"Enter"===e.key){const e=be(n,r);e?this.handleResultItemSelect(e.value,e.data,n):this.handleResultItemSelect(i,void 0,n)}}handleActiveSuggestion(e){const{activeSuggestion:t,results:n,searchTerm:r}=this.state,{allowExactMatch:i}=this.props,o=i&&r?1:0,s=n.length+o;let a=0;e===Be.UP?a=-1===t?s:s-1:e===Be.DOWN&&(a=s+1);const c=(t+a)%s,u=(this.newAttr+a)%s;this.setState({activeSuggestion:this.newAttr>-1?u:c}),this.newAttr=-1}handleUpArrowKey(e){38===e.keyCode&&this.handleActiveSuggestion(Be.UP)}handleDownArrowKey(e){40===e.keyCode&&this.handleActiveSuggestion(Be.DOWN)}handleTabKey(e){if(9===e.keyCode||e.shiftKey&&9===e.keyCode){const t=e.target.parentElement.getAttribute("data-index");this.newAttr=t?Number(t):-1}}handleEscKey(e){27===e.keyCode&&this.onDismiss()}handleKeyDown(e){this.handleDownArrowKey(e),this.handleUpArrowKey(e),this.handleEscKey(e)}handleKeyUp(e){this.handleTabKey(e)}onDismiss(){const{onDismiss:e,isMulti:t,l10n:n}=this.props;this.contentRef.current.scrollTop=0,null==e||e(),this.resetActiveSuggestion(),this.setState({startSearchTerm:""}),t&&setTimeout((()=>{(0,D.liveAnnounce)(n.formatText("typeahead.announceResults.menuClosed"))}),100),this.removeDialogLiveAnnounce()}getResultsToShow(){const{categorize:e}=this.props,{categorizedResults:t,results:n}=this.state;return e||t&&t.length?{items:t,type:"categorized"}:{items:n,type:"uncategorized"}}filterTypeaheadResult(e,t){return t.filter((t=>{const n=t.data;return(null==n?void 0:n.regionId)===e&&"USERHISTORY"===(null==n?void 0:n.category)?null:t}))}removeRecentSearch(e){return L(this,void 0,void 0,(function*(){const{adapter:t}=this.props;yield t.fetchDeleteRecentSearch(e)}))}removeDialogLiveAnnounce(){var e;const t=document.getElementById(this.typeaheadDialogLiveAnnounceId);t&&(null===(e=t.parentNode)||void 0===e||e.removeChild(t))}resetActiveSuggestion(){this.setState({activeSuggestion:-1})}updateInput(e,t){this.setState({searchTerm:e},(()=>{this.updateResults(e,!1,!!t),setTimeout((()=>{this.selectInput()}))}))}scrollTop(){navigator.userAgent.match(this.iphoneSafariUARegex)&&document.getElementsByTagName("html")[0].scrollTop>0&&document.getElementsByTagName("html")[0].scrollTo({top:0,behavior:"smooth"})}openDialog(){const{searchTerm:e}=this.state,{adapter:t,startSearchTerm:n}=this.props;t.typeaheadDialogOpened(e),this.updateInput(e||n||"",""!==e),this.focusInput(),this.scrollTop()}selectInput(){var e,t;const{toolbarInputRef:n}=this;null===(t=null===(e=null==n?void 0:n.current)||void 0===e?void 0:e.select)||void 0===t||t.call(e)}focusInput(){var e,t;const{toolbarInputRef:n}=this;null===(t=null===(e=null==n?void 0:n.current)||void 0===e?void 0:e.focus)||void 0===t||t.call(e)}announceResults(e){const{searchTerm:t}=this.state,{l10n:n}=this.props,r=t&&t.split("");if(r){const t=`'${r.join("' , '")} '`;e&&(0,D.liveAnnounce)(n.formatText("typeahead.announceResults.resultsAvailable",t,e.length),void 0,void 0,this.contentRef,this.typeaheadDialogLiveAnnounceId)}}isCategorizedResult(e){return"object"==typeof e&&"heading"in e}updateResults(e,t,n){return L(this,void 0,void 0,(function*(){const{adapter:r,categorize:i}=this.props,{isCurrentLocation:o}=this.state,s=""===e||o?"":e;let a,c;if(this.lastSearchTerm=s,""!==s&&!0===t){const[e,t]=i?yield Promise.all([r.fetchResultsCategorized(s),r.fetchRecentSearchResultsCategorized()]):yield Promise.all([r.fetchResults(s),r.fetchRecentSearchResults()]);t&&t.length>0?i||this.isCategorizedResult(t[0])?c=t:a=t:i?c=e:a=e}else if(i)c=yield r.fetchResultsCategorized(s);else if(""!==s&&n){const e=yield r.fetchAlternativeResults(s);e&&e.length&&this.isCategorizedResult(e[0])?c=e:a=e}else{const e=yield r.fetchResults(s);e&&e.length&&this.isCategorizedResult(e[0])?c=e:a=e}if(this.lastSearchTerm===s)if(a&&a.length&&this._isMounted)r.logSuggestionShown(t||n?"":s,a),this.setState({results:a,categorizedResults:[]},(()=>{this.handleAnnounceResults(a)}));else if(c&&c.length){r.logSuggestionShown(t||n?"":s,c);const e=c.reduce(((e,t)=>(e.push(...t.typeaheadResults),e)),[]);this.setState({categorizedResults:c,results:e},(()=>{this.handleAnnounceResults(c)}))}else this._isMounted&&this.setState({results:[],categorizedResults:[]})}))}render(){const{allowExactMatch:t,dialog:n,id:r,listTitle:i,stid:o,placeholder:s,label:a,handleClear:c,emptyResultPlaceholder:u,isMulti:l,dismissButtonText:d,clearAllText:f,onClearAll:h,onItemRemove:p,selectedItemHeading:m,value:g,typeaheadInputRef:v,required:y,allowToRemoveRecentSearches:b}=this.props,{activeSuggestion:E,searchTerm:w}=this.state,S=this.getResultsToShow();return e.createElement(ie.UitkSheetTransition,{isVisible:n,openCallback:this.openDialog},e.createElement(ie.UitkSheet,{className:je("uitk-typeahead-dialog","uitk-typeahead-dialog-centered"),isVisible:n,type:"centered",triggerRef:v},e.createElement(ne.UitkLayoutFlex,{direction:"column",blockSize:"full_size"},e.createElement(ne.UitkLayoutFlexItem,null,e.createElement(oe.UitkToolbar,{className:je("uitk-typeahead-input-wrapper"),navigationContent:{navIconLabel:"Close the dialog",onClick:this.onDismiss,navButtonId:`${r}-close`}},e.createElement(Se,{className:je("uitk-typeahead-input-v2"),"data-stid":o&&`${o}-dialog-input`,domRef:this.toolbarInputRef,hasClearButton:w.length>0,hasFloatedLabel:!1,hasVisibleLabel:!1,id:o,label:a,onChange:this.handleChange,onKeyPress:this.handleKeyPress,placeholder:s,value:w,onKeyDown:this.handleKeyDown,onKeyUp:this.handleKeyUp,handleClear:c,required:y}))),e.createElement(ne.UitkLayoutFlexItem,null,e.createElement(ie.UitkSheetContent,{className:je("uitk-typeahead-dialog-content"),contentDomRef:this.contentRef,padded:!1},e.createElement(ne.UitkLayoutFlex,{direction:"column",blockSize:"full_size",justifyContent:"space-between"},e.createElement(ne.UitkLayoutFlexItem,null,e.createElement(Me,{allowExactMatch:t,typeaheadLabel:a,onResultItemSelect:this.handleResultItemSelect,results:S,searchTerm:w,stid:o,listTitle:i,activeSuggestion:E,emptyResultPlaceholder:u,isMulti:l,dismissButtonText:d,selectedItemHeading:m,clearAllText:f,onClearAll:h,onItemRemove:p,value:g,contentRef:this.contentRef,historyDetail:this.props.historyDetail,allowToRemoveRecentSearches:b,handleRemoveRecentSearch:this.handleRemoveRecentSearch})),this.props.isMulti?e.createElement(ne.UitkLayoutFlexItem,null,e.createElement(re.UitkScrim,{type:re.UitkScrimType.BUTTON},e.createElement(te.UitkFloatingFullWidthButton,{disabled:0===(null==g?void 0:g.length),onClick:this.onDismiss,isFullWidth:!0},d))):null))))))}}Fe.placeholder=[{disabled:!0,icon:"brightness_1",name:" ",value:" ",title:" "}];const He=t=>{const n=(0,X.useLocalization)();return e.createElement(Fe,Object.assign({l10n:n},t))},ze=D.classNames.bind(Ee),Ge=e=>""===e||Array.isArray(e)&&0===e.length;var Ve;!function(e){e.UP="UP",e.DOWN="DOWN"}(Ve||(Ve={}));class Ke extends e.Component{constructor(t){super(t),this.toolbarInputRef=e.createRef(),this.keyPressed=!1,this.newAttr=-1,this.typingTimeout=0;const{dialog:n,term:r,debounceRate:i}=this.props;this.state={activeSuggestion:-1,categorizedResults:[],data:{},menu:n,results:[],searchTerm:r,showResults:!0},this.handleChange=this.handleChange.bind(this),this.handleKeyPress=this.handleKeyPress.bind(this),this.handleKeyDown=this.handleKeyDown.bind(this),this.handleKeyUp=this.handleKeyUp.bind(this),this.handleResultItemSelect=this.handleResultItemSelect.bind(this),this.focusInput=this.focusInput.bind(this),this.announceResults=this.announceResults.bind(this),this.onDismiss=this.onDismiss.bind(this),this.updateResults=this.updateResults.bind(this),this.updateResultsDebounced=i&&i>0?(0,W.debounce)(i,this.updateResults):this.updateResults,this.menuOpened=this.menuOpened.bind(this),this.menuClosed=this.menuClosed.bind(this),this.resetActiveSuggestion=this.resetActiveSuggestion.bind(this),this.handleRemoveRecentSearch=this.handleRemoveRecentSearch.bind(this),this.resultsDomRef=e.createRef()}componentDidUpdate(e,t){const{searchTerm:n,results:r,showResults:i}=this.state,{label:o,l10n:s,value:a}=this.props,c=r&&r.length,u=this.isTypeAheadFocused();Ge(a)&&Ge(n)&&u&&(0,D.liveAnnounce)(s.formatText("typeahead.announceResults.trigerLabel",o)),t.searchTerm===n&&!Ge(a)&&!1===this.keyPressed&&u&&(0,D.liveAnnounce)(s.formatText("typeahead.announceResults.showingResults",o,c,n)),t.searchTerm!==n&&i&&(this.setState({results:Ke.placeholder}),this.updateResultsDebounced(n)),this.focusInput()}handleResultItemSelect(e,t,n){var r;const{adapter:i,isMulti:o,onResultItemSelect:s,label:a,l10n:c}=this.props,{searchTerm:u}=this.state;return null===(r=i.onItemSelection)||void 0===r?void 0:r.call(i,t).then((t=>{o?this.setState({activeSuggestion:-1}):this.setState({activeSuggestion:-1,searchTerm:e,showResults:!1}),s(e,t);const r=n?ve(n)-1:0;o&&(0,D.liveAnnounce)(`${c.formatText("typeahead.announceResults.itemSelected",e)}\n             ${c.formatText("typeahead.announceResults.showingResults",a,r,u)}`),o||(setTimeout((()=>{(0,D.liveAnnounce)(`${c.formatText("typeahead.announceResults.itemSelected",e)} \n            ${c.formatText("typeahead.announceResults.menuClosed")}`)}),100),this.menuClosed())})).catch((()=>{this.updateResults(e,!0,""!==e),this.menuClosed()}))}handleAnnounceResults(e){this.typingTimeout&&clearTimeout(this.typingTimeout),(null==e?void 0:e.length)>0&&(this.typingTimeout=setTimeout((()=>{this.announceResults(e)}),1e3))}handleKeyPress(e){const{activeSuggestion:t,searchTerm:n}=this.state,{value:r,l10n:i}=this.props;this.keyPressed=!0;const o=ye(this.getResultsToShow(),Array.isArray(r)?r:[]),s=o&&ve(o);this.keyPressed=!0;const a=n&&n.split("");if(a){const e=`'${a.join("' , '")} '`;""!==n&&s>0&&(0,D.liveAnnounce)(i.formatText("typeahead.announceResults.resultsAvailable",e,s))}if("Enter"!==e.key&&38!==e.keyCode||e.preventDefault(),"Enter"===e.key){const e=be(o,t);e?this.handleResultItemSelect(e.value,e.data,o):this.handleResultItemSelect(n,void 0,o)}}handleChange(e){this.setState({searchTerm:e.target.value,showResults:!0},this.focusInput),""===e.target.value&&this.resetActiveSuggestion()}handleActiveSuggestion(e){const{activeSuggestion:t,results:n,searchTerm:r}=this.state,{allowExactMatch:i}=this.props,o=i&&r?1:0,s=n.length+o;let a=0;e===Ve.UP?a=-1===t?s:s-1:e===Ve.DOWN&&(a=s+1);const c=(t+a)%s,u=(this.newAttr+a)%s;this.setState({activeSuggestion:this.newAttr>-1?u:c}),this.newAttr=-1}handleUpArrowKey(e){38===e.keyCode&&(e.preventDefault(),this.handleActiveSuggestion(Ve.UP))}handleDownArrowKey(e){40===e.keyCode&&(this.keyPressed=!0,this.handleActiveSuggestion(Ve.DOWN))}handleTabKey(e){if(9===e.keyCode||e.shiftKey&&9===e.keyCode){const t=e.target.parentElement.getAttribute("data-index");this.newAttr=t?Number(t):-1}}handleEscKey(e){27===e.keyCode&&this.onDismiss()}handleKeyDown(e){this.handleDownArrowKey(e),this.handleUpArrowKey(e),this.handleEscKey(e)}handleKeyUp(e){this.handleTabKey(e)}handleRemoveRecentSearch(e){this.setState((t=>Object.assign(Object.assign({},t),{results:this.filterTypeaheadResult(e,t.results),categorizedResults:t.categorizedResults.map((t=>Object.assign(Object.assign({},t),{typeaheadResults:this.filterTypeaheadResult(e,t.typeaheadResults)}))).filter((e=>e.typeaheadResults.length>=1))}))),this.removeRecentSearch(e)}onDismiss(){const{isMulti:e,onDismiss:t,l10n:n}=this.props;this.keyPressed=!1,this.resultsDomRef.current&&(this.resultsDomRef.current.scrollTop=0),null==t||t(),e&&(0,D.liveAnnounce)(n.formatText("typeahead.announceResults.menuClosed"))}getResultsToShow(){const{categorize:e}=this.props,{categorizedResults:t,results:n}=this.state;return e||t&&t.length?{items:t,type:"categorized"}:{items:n,type:"uncategorized"}}static getDerivedStateFromProps(e,t){const n=e.term===t.searchTerm||e.dialog?t.searchTerm:e.term;return e.isMulti?null:{searchTerm:n}}filterTypeaheadResult(e,t){return t.filter((t=>{const n=t.data;return(null==n?void 0:n.regionId)===e&&"USERHISTORY"===(null==n?void 0:n.category)?null:t}))}menuClosed(){const{adapter:e,onDismiss:t}=this.props;e&&"function"==typeof e.logTypeaheadDismiss&&e.logTypeaheadDismiss(),null==t||t(),this.resetActiveSuggestion()}menuOpened(){const{searchTerm:e}=this.state;this.resultsDomRef.current&&(this.resultsDomRef.current.scrollTop=0),this.selectInput(),this.updateResults(e,!1,""!==e)}announceResults(e){const{searchTerm:t}=this.state,{l10n:n}=this.props,r=t&&t.split("");if(r){const t=`'${r.join("' , '")} '`;e&&this.isTypeAheadFocused()&&(0,D.liveAnnounce)(n.formatText("typeahead.announceResults.resultsAvailable",t,e.length))}}isCategorizedResult(e){return"heading"in e}removeRecentSearch(e){return L(this,void 0,void 0,(function*(){const{adapter:t}=this.props;yield t.fetchDeleteRecentSearch(e)}))}updateResults(e,t,n){return L(this,void 0,void 0,(function*(){this.lastSearchTerm=e;const{adapter:r,categorize:i}=this.props;let o,s,a,c;const u=e;if(""!==u&&t)[a,c]=i?yield Promise.all([r.fetchResultsCategorized(u),r.fetchRecentSearchResultsCategorized()]):yield Promise.all([r.fetchResults(u),r.fetchRecentSearchResults()]),c&&c.length>0?i||this.isCategorizedResult(c[0])?s=c:o=c:i?s=a:o=a;else if(i)s=yield r.fetchResultsCategorized(u);else if(""!==u&&n){const e=yield r.fetchAlternativeResults(u);e&&e.length&&this.isCategorizedResult(e[0])?s=e:o=e}else{const e=yield r.fetchResults(u);e&&e.length&&this.isCategorizedResult(e[0])?s=e:o=e}if(this.lastSearchTerm===e)if(o&&o.length)r.logSuggestionShown(t||n?"":e,o),this.setState({results:o,categorizedResults:[]},(()=>{this.handleAnnounceResults(o)}));else if(s&&s.length){r.logSuggestionShown(t||n?"":e,s);const i=s.flatMap((e=>e.typeaheadResults));this.setState({categorizedResults:s,results:i},(()=>{this.handleAnnounceResults(o)}))}else this.setState({results:[],categorizedResults:[]})}))}selectInput(){const{toolbarInputRef:e}=this;e&&e.current&&"function"==typeof e.current.select&&e.current.select()}focusInput(){const{toolbarInputRef:e}=this;e&&e.current&&"function"==typeof e.current.focus&&(0,D.isElementVisible)(this.toolbarInputRef.current)&&e.current.focus()}resetActiveSuggestion(){this.setState({activeSuggestion:-1})}isTypeAheadFocused(){return this.toolbarInputRef.current===document.activeElement}render(){const{allowExactMatch:t,children:n,dialog:r,stid:i,label:o,listTitle:s,placeholder:a,handleClear:c,emptyResultPlaceholder:u,dismissButtonText:l,value:d,isMulti:f,clearAllText:h,onClearAll:p,onItemRemove:m,selectedItemHeading:g,typeaheadInputRef:v,historyDetail:y,required:b,allowToRemoveRecentSearches:E}=this.props,{activeSuggestion:w,searchTerm:S}=this.state,T=this.getResultsToShow();return e.createElement("div",{className:ze("uitk-menu-typeahead-wrapper")},e.createElement("div",{className:ze("uitk-typeahead-menu"),id:i&&`${i}-menu`},e.createElement("div",{className:ze("uitk-menu-trigger")},n),e.createElement(ie.UitkSheetTransition,{isVisible:r,openCallback:this.menuOpened},e.createElement(ie.UitkSheet,{autoFocus:!1,type:"popover",className:ze("uitk-typeahead-menu-container",{"is-multi":f}),disableArrowKeyHandler:!0,isVisible:r,onDismiss:this.menuClosed,triggerRef:v,showOverTrigger:!0,autoPosition:!1},e.createElement(ne.UitkLayoutFlex,{direction:"column",blockSize:"full_size"},e.createElement(ne.UitkLayoutFlexItem,null,e.createElement("div",{className:ze("uitk-typeahead-input-wrapper")},e.createElement(Se,{className:ze("uitk-typeahead-input-v2"),"data-stid":i&&`${i}-menu-input`,domRef:this.toolbarInputRef,handleClear:c,hasClearButton:S.length>0,hasFloatedLabel:!1,hasVisibleLabel:!1,id:i,label:o,onChange:this.handleChange,onKeyPress:this.handleKeyPress,onKeyDown:this.handleKeyDown,onKeyUp:this.handleKeyUp,placeholder:a,required:b,value:S}))),e.createElement(ne.UitkLayoutFlexItem,null,e.createElement(ie.UitkSheetContent,{className:ze("uitk-typeahead-menu-content"),padded:!1},e.createElement(Me,{typeaheadLabel:o,allowExactMatch:t,onResultItemSelect:this.handleResultItemSelect,handleRemoveRecentSearch:this.handleRemoveRecentSearch,results:T,searchTerm:S,stid:i,listTitle:s,activeSuggestion:w,emptyResultPlaceholder:u,isMulti:f,dismissButtonText:l,selectedItemHeading:g,clearAllText:h,onClearAll:p,onItemRemove:m,value:d,domRef:this.resultsDomRef,historyDetail:y,allowToRemoveRecentSearches:E}))),f&&e.createElement(ne.UitkLayoutFlexItem,null,e.createElement(ne.UitkLayoutFlex,{justifyContent:"end",className:ze("uitk-typeahead-menu-footer")},e.createElement(ne.UitkLayoutFlexItem,null,e.createElement(te.UitkPrimaryButton,{disabled:0===(null==d?void 0:d.length),onClick:this.onDismiss},l)))))))))}}Ke.placeholder=[{disabled:!0,icon:"brightness_1",name:" ",value:" ",title:" "}];const qe=t=>{const n=(0,X.useLocalization)();return e.createElement(Ke,Object.assign({l10n:n},t))},$e=(e=>{var t={};return M.d(t,e),t})({__assign:()=>N.__assign,__rest:()=>N.__rest});new Map([["half","gap-half"],["one","gap-one"],["two","gap-two"],["three","gap-three"],["four","gap-four"],["six","gap-six"],["twelve","gap-twelve"],["xsmall","gap-xsmall"],["small","gap-small"],["medium","gap-medium"],["large","gap-large"],["xlarge","gap-xlarge"]]),new Map([["zero","zero"],["fifteen","fifteen"],["sixteen","sixteen"],["twenty_four","twenty_four"],["seventy_two","seventy_two"],["seventy_six","seventy_six"],["eighty_eight","eighty_eight"],["ninety_six","ninety_six"],["one_hundred_four","one_hundred_four"],["one_hundred_twelve","one_hundred_twelve"],["one_hundred_twenty","one_hundred_twenty"]]),new Map([["full_width","full_width"],["half_width","half_width"],["third_width","third_width"],["quarter_width","quarter_width"]]),new Map([["zero","zero"],["fifteen","fifteen"],["sixteen","sixteen"],["twenty_four","twenty_four"],["seventy_two","seventy_two"],["seventy_six","seventy_six"],["eighty_eight","eighty_eight"],["ninety_six","ninety_six"],["one_hundred_four","one_hundred_four"],["one_hundred_twelve","one_hundred_twelve"],["one_hundred_twenty","one_hundred_twenty"],["full_width","full_width"],["half_width","half_width"],["third_width","third_width"],["quarter_width","quarter_width"]]);var We=new Map([["article","article"],["aside","aside"],["div","div"],["footer","footer"],["header","header"],["section","section"],["ul","ul"],["ol","ol"],["li","li"],["main","main"]]),Ye=M(893),Ze=M.n(Ye),Qe=new Map([["none","pointerevents-none"]]),Xe=new Map([["relative","relative"],["sticky","sticky"],["absolute","absolute"],["fixed","fixed"]]),Je=(new Map([["layer1","layer1"],["layer2","layer2"],["layer3","layer3"],["layer4","layer4"],["layer5","layer5"],["layer6","layer6"],["layer7","layer7"]]),new Map([["zero","zero"],["half","half"],["one","one"],["two","two"],["three","three"],["four","four"],["six","six"],["twelve","twelve"],["minus-half","minus-half"],["minus-one","minus-one"],["minus-two","minus-two"],["minus-three","minus-three"],["minus-four","minus-four"],["minus-six","minus-six"],["minus-twelve","minus-twelve"],["center","center"]]),D.classNames.bind(Ze())),et=function(t){var n=t.children,r=t.className,i=t.cloneElement,o=t.display,s=t.pointerEvents,a=t.position,c=t.style,u=t.tag,l=t.type,d=(0,$e.__rest)(t,["children","className","cloneElement","display","pointerEvents","position","style","tag","type"]),f=e.useMemo((function(){return a&&Object.values(a).some((function(e){return"number"==typeof e}))&&l===Xe.get("sticky")}),[a,l]),h=e.Children.toArray(n)[0];if(!h||!1===e.isValidElement(h))return null;var p=h.props.className,m=h.props.style,g="uitk-layout-position",v=Je(g,i&&p&&p,o&&"".concat(g,"-display-").concat(o),s&&"".concat(g,"-").concat(Qe.get(s)),a&&Object.entries(a).filter((function(e){return"string"==typeof e[1]})).map((function(e){var t=e[0],n=e[1];return"".concat(g,"-").concat(t,"-").concat(n)})).join(" "),l&&"".concat(g,"-").concat(Xe.get(l)),f&&"".concat(g,"-custom"),r),y=(0,$e.__assign)((0,$e.__assign)({},m),c);a&&f&&Object.entries(a).forEach((function(e){var t=e[0],n=e[1];"number"==typeof n&&(y["--uitk-custom-".concat(t,"-position")]="".concat(n,"px"))}));var b=e.cloneElement(h,(0,$e.__assign)((0,$e.__assign)({className:v},Object.keys(y).length&&{style:y}),d)),E=u&&We.get(u)||We.get("div");return i?b:e.createElement(E,(0,$e.__assign)({className:v},d,{style:y})," ",n||null," ")};et.displayName="UitkLayoutPosition";const tt=t=>{const{placeholder:n,required:r}=t;return e.createElement(ee.UitkInput,Object.assign(Object.assign({},t),{autoCapitalize:"off",autoComplete:"off",autoCorrect:"off",type:"text",spellCheck:!1,placeholder:n,required:r}))};tt.displayName="TypeaheadCustomInput";const nt=t=>{const{results:n}=t,r=e=>{var t,n;return null!==(n=null===(t=null==e?void 0:e.data)||void 0===t?void 0:t.category)&&void 0!==n?n:""},i=e=>e.find((e=>{var t;return null===(t=null==e?void 0:e.data)||void 0===t?void 0:t.category})),o="categorized"===n.type?(e=>{const t=e.find((e=>i(null==e?void 0:e.typeaheadResults)));return(null==t?void 0:t.typeaheadResults)?r(null==t?void 0:t.typeaheadResults[0]):""})(n.items):r(i(n.items));return o===ae||"MAPBOX"===o?e.createElement(_e.UitkSpacing,{padding:{block:"three",inline:"four"}},e.createElement("div",null,o===ae&&e.createElement("img",{src:xe,alt:"Powered by Google Logo"}),"MAPBOX"===o&&e.createElement("div",{className:"typeahead-custom-attribution-mapbox-logo"},"powered by"," ",e.createElement("svg",{viewBox:"0 0 81 20",width:"81px",height:"20px"},e.createElement("path",{d:Ce}))))):null},rt=t=>{const{data:n,onResultItemSelect:r,value:i,className:o,subtext:s,activeSuggestion:a,name:c,contentRef:u,icon:l,historyDetail:d,sanitized:f,stid:h,index:p,handleRemoveRecentSearch:m,allowToRemoveRecentSearches:g,isNestedChild:v}=t,{formatText:y}=(0,X.useLocalization)(),b=s?`${c} ${s}`.replace(/(<([^>]+)>)/gi,""):null==c?void 0:c.replace(/(<([^>]+)>)/gi,""),E=`full-search-detail-${d||!1}`,w="USERHISTORY"===(null==n?void 0:n.category),S=y("typeahead.custom.delete.recent.search.button.label.a11y",i),T=y("typeahead.custom.delete.recent.search.button.announce.a11y",i);if(!0===a){const e=c.replace(/(<([^>]+)>)/gi,"");(0,D.liveAnnounce)(`${e}`,void 0,void 0,u)}const R=f?e.createElement("span",null,c):e.createElement("span",{dangerouslySetInnerHTML:{__html:c}}),_=!f&&s&&e.createElement("div",{"data-stid":E,dangerouslySetInnerHTML:{__html:s}});return e.createElement(Te.UitkActionListItem,{spacing:"relaxed",className:o,"data-stid":h&&`${h}-result-item`,"data-index":p},e.createElement(_e.UitkSpacing,{padding:{inlinestart:v?"eight":"unset"}},e.createElement("div",null,e.createElement(Te.UitkActionListItemLink,null,e.createElement("button",{"data-stid":h&&`${h}-result-item-button`,onClick:()=>{r(i,n)},"aria-label":b,type:"button"})),e.createElement("div",null,e.createElement(ne.UitkLayoutFlex,null,l&&e.createElement(ne.UitkLayoutFlexItem,{alignSelf:"center"},e.createElement(B.UitkIcon,{name:l,size:B.UitkIconSize.MEDIUM})),e.createElement(ne.UitkLayoutFlexItem,null,e.createElement(_e.UitkSpacing,{margin:{inlinestart:"two"}},e.createElement("div",null,e.createElement(Re.UitkText,{size:300,overflow:"truncate"},R),e.createElement(Re.UitkText,{size:300,overflow:"truncate"},_)))),w&&g&&e.createElement(ne.UitkLayoutFlexItem,{alignSelf:"center",grow:1},e.createElement(ne.UitkLayoutFlex,{justifyContent:"end"},e.createElement(te.UitkTertiaryButton,{onClick:()=>{m(null==n?void 0:n.regionId),(0,D.liveAnnounce)(1===T.length?`${c} was deleted from recent searches`:T)},"aria-label":0===S.length?`Delete ${i} from recent searches`:S},e.createElement(B.UitkIcon,{name:"close",size:B.UitkIconSize.SMALL})))))))))},it=t=>{const{headingText:n,hideHeading:r=!1,typeaheadLabel:i,stid:o="",values:s,onItemRemove:a,onClear:c,clearAllText:u}=t,l=(0,X.useLocalization)(),d=null!=u?u:l.formatText("typeahead.mulselect.clearAll"),f=null!=n?n:l.formatText("typeahead.multiselect.selectedItemHeading");return e.createElement("div",null,!r&&f&&(null==s?void 0:s.length)>0&&e.createElement(_e.UitkSpacing,{padding:{inlinestart:"four"}},e.createElement("div",null,e.createElement(Re.UitkText,{overflow:"truncate",size:300,weight:"bold"},f))),e.createElement(_e.UitkSpacing,{padding:{blockstart:"three",inline:"four"}},e.createElement("div",{"data-stid":o},null==s?void 0:s.map(((t,n)=>e.createElement(_e.UitkSpacing,{key:`${o}-pill-${n}`,margin:{block:"one"}},e.createElement(U.UitkRemovablePill,{onClick:()=>((e,t)=>{(0,D.liveAnnounce)(l.formatText("typeahead.removeSelection",e)),null==a||a(t)})(t,n),id:`${o}-pill-${n}`},t)))),(null==s?void 0:s.length)&&e.createElement(te.UitkTertiaryButton,{onClick:()=>{(0,D.liveAnnounce)(l.formatText("typeahead.clearAllSelections",i)),null==c||c()},size:te.UitkButtonSize.SMALL},d))))};function ot(t){const{activeSuggestion:n,allowExactMatch:r,listTitle:i,typeaheadLabel:o,onResultItemSelect:s,results:a,searchTerm:c,stid:u,emptyResultPlaceholder:l,isMulti:d,onClearAll:f,onItemRemove:h,clearAllText:p,selectedItemHeading:m,value:g,domRef:v,contentRef:y,historyDetail:b,allowToRemoveRecentSearches:E,handleRemoveRecentSearch:w}=t,S=(0,X.useLocalization)(),T=d?ye(a,g):a,R=ve(T),_=()=>d&&g.length>0?e.createElement(it,{typeaheadLabel:o,values:g,stid:u,clearAllText:p,onClear:f,onItemRemove:h,headingText:m}):null;if(!a||0===a.items.length)return l?e.createElement(_e.UitkSpacing,{padding:{blockstart:"three"}},e.createElement("div",null,_(),e.createElement(ne.UitkLayoutFlex,{justifyContent:"center",alignContent:"center"},e.createElement(Re.UitkText,{align:"center"},e.createElement(_e.UitkSpacing,{margin:{blockstart:"six"}},e.createElement(B.UitkIcon,{name:"search",size:B.UitkIconSize.XLARGE})),e.createElement(_e.UitkSpacing,{margin:{blockend:"three"}},e.createElement(Re.UitkText,{size:300},l)))))):e.createElement(_e.UitkSpacing,{padding:{blockstart:"three"}},e.createElement("div",null,_()));function O(e,t){s(e,t,T)}const x=e=>{var t;return null===(t=e[0])||void 0===t?void 0:t.disabled},C=e=>{var t,n;return null===(n=null===(t=e[0])||void 0===t?void 0:t.typeaheadResults[0])||void 0===n?void 0:n.disabled},A=()=>e.createElement(_e.UitkSpacing,{padding:{inlinestart:"six"}},e.createElement("div",null,e.createElement(_e.UitkSpacing,{margin:{blockstart:"four"}},e.createElement(Oe.UitkLineSkeleton,null)),e.createElement(_e.UitkSpacing,{margin:{block:"eight"}},e.createElement(Oe.UitkLineSkeleton,null)),e.createElement(Oe.UitkLineSkeleton,null)));return e.createElement(_e.UitkSpacing,{padding:{blockstart:"three"}},e.createElement("div",{ref:v},_(),e.createElement(Te.UitkActionList,{"data-stid":u&&`${u}-results`},(t=>{switch(t.type){case"categorized":return C(t.items)?A():(o=t.items)&&o.map((t=>e.createElement(e.Fragment,{key:t.heading},t.heading&&e.createElement(_e.UitkSpacing,{padding:{block:"three",inlinestart:"six"}},e.createElement("li",null,e.createElement(Re.UitkText,{overflow:"truncate",size:300,weight:"bold"},t.heading))),t.typeaheadResults&&t.typeaheadResults.map(((t,r)=>{var i;return e.createElement(rt,{data:t.data,key:r,index:r,icon:t.icon,name:t.name,handleRemoveRecentSearch:w,onResultItemSelect:O,stid:u,value:t.value,subtext:t.subtext,allowToRemoveRecentSearches:E,activeSuggestion:-1!==n&&n===(null===(i=t.data)||void 0===i?void 0:i.index),historyDetail:b})})))));case"uncategorized":return x(t.items)?A():(r=t.items)&&r.map(((t,r)=>{var o;const s=t.data&&(t.isChild||(null===(o=t.data)||void 0===o?void 0:o.popularFilter));return e.createElement(e.Fragment,{key:r},i&&e.createElement(_e.UitkSpacing,{padding:{block:"three",inlinestart:"six"}},e.createElement("li",null,e.createElement(Re.UitkText,{overflow:"truncate",size:300,weight:"bold"},t.title))),e.createElement(rt,{data:t.data,key:r,index:r,icon:t.icon,name:t.name,allowToRemoveRecentSearches:E,onResultItemSelect:O,handleRemoveRecentSearch:w,stid:u,value:t.value,subtext:t.subtext,activeSuggestion:-1!==n&&n===r,contentRef:y,historyDetail:b,isNestedChild:s}))}))}var r,o})(T),r&&c&&!(e=>{switch(e.type){case"categorized":return C(e.items);case"uncategorized":return x(e.items)}})(T)&&e.createElement(rt,{icon:"search",name:S.formatText("typeahead.searchFor",[c]),onResultItemSelect:O,handleRemoveRecentSearch:w,index:R,stid:u,value:c,allowToRemoveRecentSearches:E,sanitized:!0,activeSuggestion:!(-1===n||n!==R),historyDetail:b})),e.createElement(ne.UitkLayoutFlex,{justifyContent:"end"},e.createElement(ne.UitkLayoutFlexItem,null,e.createElement(nt,{results:T}))," ")))}const st=e=>""===e||Array.isArray(e)&&0===e.length;var at;!function(e){e.UP="UP",e.DOWN="DOWN"}(at||(at={}));class ct extends e.Component{constructor(t){super(t),this.toolbarInputRef=e.createRef(),this.keyPressed=!1,this.newAttr=-1,this.typingTimeout=0;const{term:n,debounceRate:r}=this.props;this.state={activeSuggestion:-1,categorizedResults:[],data:{},results:[],searchTerm:n,showResults:!0},this.handleChange=this.handleChange.bind(this),this.handleKeyPress=this.handleKeyPress.bind(this),this.handleKeyDown=this.handleKeyDown.bind(this),this.handleKeyUp=this.handleKeyUp.bind(this),this.handleResultItemSelect=this.handleResultItemSelect.bind(this),this.focusInput=this.focusInput.bind(this),this.announceResults=this.announceResults.bind(this),this.onDismiss=this.onDismiss.bind(this),this.updateResults=this.updateResults.bind(this),this.updateResultsDebounced=r&&r>0?(0,W.debounce)(r,this.updateResults):this.updateResults,this.menuOpened=this.menuOpened.bind(this),this.menuClosed=this.menuClosed.bind(this),this.resetActiveSuggestion=this.resetActiveSuggestion.bind(this),this.handleRemoveRecentSearch=this.handleRemoveRecentSearch.bind(this),this.resultsDomRef=e.createRef()}componentDidUpdate(e,t){const{searchTerm:n,results:r,showResults:i}=this.state,{label:o,l10n:s,value:a}=this.props,c=r&&r.length,u=this.isTypeAheadFocused();st(a)&&st(n)&&u&&(0,D.liveAnnounce)(s.formatText("typeahead.announceResults.trigerLabel",o)),t.searchTerm===n&&!st(a)&&!1===this.keyPressed&&u&&(0,D.liveAnnounce)(s.formatText("typeahead.announceResults.showingResults",o,c,n)),t.searchTerm!==n&&i&&(this.setState({results:ct.placeholder}),this.updateResultsDebounced(n)),this.focusInput()}handleResultItemSelect(e,t,n){var r;const{adapter:i,isMulti:o,onResultItemSelect:s,label:a,l10n:c}=this.props,{searchTerm:u}=this.state;return null===(r=i.onItemSelection)||void 0===r?void 0:r.call(i,t).then((t=>{o?this.setState({activeSuggestion:-1}):this.setState({activeSuggestion:-1,searchTerm:e,showResults:!1}),s(e,t);const r=n?ve(n)-1:0;o&&(0,D.liveAnnounce)(`${c.formatText("typeahead.announceResults.itemSelected",e)}\n             ${c.formatText("typeahead.announceResults.showingResults",a,r,u)}`),o||(setTimeout((()=>{(0,D.liveAnnounce)(`${c.formatText("typeahead.announceResults.itemSelected",e)} \n            ${c.formatText("typeahead.announceResults.menuClosed")}`)}),100),this.menuClosed())})).catch((()=>{this.updateResults(e,!0,""!==e),this.menuClosed()}))}handleAnnounceResults(e){this.typingTimeout&&clearTimeout(this.typingTimeout),(null==e?void 0:e.length)>0&&(this.typingTimeout=setTimeout((()=>{this.announceResults(e)}),1e3))}handleKeyPress(e){const{activeSuggestion:t,searchTerm:n}=this.state,{value:r,l10n:i}=this.props;this.keyPressed=!0;const o=ye(this.getResultsToShow(),Array.isArray(r)?r:[]),s=o&&ve(o);this.keyPressed=!0;const a=n&&n.split("");if(a){const e=`'${a.join("' , '")} '`;""!==n&&s>0&&(0,D.liveAnnounce)(i.formatText("typeahead.announceResults.resultsAvailable",e,s))}if("Enter"!==e.key&&38!==e.keyCode||e.preventDefault(),"Enter"===e.key){const e=be(o,t);e?this.handleResultItemSelect(e.value,e.data,o):this.handleResultItemSelect(n,void 0,o)}}handleChange(e){this.setState({searchTerm:e.target.value,showResults:!0},this.focusInput),""===e.target.value&&this.resetActiveSuggestion()}handleActiveSuggestion(e){const{activeSuggestion:t,results:n,searchTerm:r}=this.state,{allowExactMatch:i}=this.props,o=i&&r?1:0,s=n.length+o;let a=0;e===at.UP?a=-1===t?s:s-1:e===at.DOWN&&(a=s+1);const c=(t+a)%s,u=(this.newAttr+a)%s;this.setState({activeSuggestion:this.newAttr>-1?u:c}),this.newAttr=-1}handleUpArrowKey(e){38===e.keyCode&&(e.preventDefault(),this.handleActiveSuggestion(at.UP))}handleDownArrowKey(e){40===e.keyCode&&(this.keyPressed=!0,this.handleActiveSuggestion(at.DOWN))}handleTabKey(e){if(9===e.keyCode||e.shiftKey&&9===e.keyCode){const t=e.target.parentElement.getAttribute("data-index");this.newAttr=t?Number(t):-1}}handleEscKey(e){27===e.keyCode&&this.onDismiss()}handleKeyDown(e){this.handleDownArrowKey(e),this.handleUpArrowKey(e),this.handleEscKey(e)}handleKeyUp(e){this.handleTabKey(e)}handleRemoveRecentSearch(e){this.setState((t=>Object.assign(Object.assign({},t),{results:this.filterTypeaheadResult(e,t.results),categorizedResults:t.categorizedResults.map((t=>Object.assign(Object.assign({},t),{typeaheadResults:this.filterTypeaheadResult(e,t.typeaheadResults)}))).filter((e=>e.typeaheadResults.length>=1))}))),this.removeRecentSearch(e)}onDismiss(){const{isMulti:e,onDismiss:t,l10n:n}=this.props;this.keyPressed=!1,this.resultsDomRef.current&&(this.resultsDomRef.current.scrollTop=0),null==t||t(),e&&(0,D.liveAnnounce)(n.formatText("typeahead.announceResults.menuClosed"))}getResultsToShow(){const{categorize:e}=this.props,{categorizedResults:t,results:n}=this.state;return e||t&&t.length?{items:t,type:"categorized"}:{items:n,type:"uncategorized"}}static getDerivedStateFromProps(e,t){const n=e.term===t.searchTerm||e.dialog?t.searchTerm:e.term;return e.isMulti?null:{searchTerm:n}}filterTypeaheadResult(e,t){return t.filter((t=>{const n=t.data;return(null==n?void 0:n.regionId)===e&&"USERHISTORY"===(null==n?void 0:n.category)?null:t}))}menuClosed(){const{adapter:e,onDismiss:t}=this.props;e&&"function"==typeof e.logTypeaheadDismiss&&e.logTypeaheadDismiss(),null==t||t(),this.resetActiveSuggestion()}menuOpened(){const{searchTerm:e}=this.state;this.resultsDomRef.current&&(this.resultsDomRef.current.scrollTop=0),this.selectInput(),this.updateResults(e,!1,""!==e)}announceResults(e){const{searchTerm:t}=this.state,{l10n:n}=this.props,r=t&&t.split("");if(r){const t=`'${r.join("' , '")} '`;e&&this.isTypeAheadFocused()&&(0,D.liveAnnounce)(n.formatText("typeahead.announceResults.resultsAvailable",t,e.length))}}isCategorizedResult(e){return"heading"in e}removeRecentSearch(e){return L(this,void 0,void 0,(function*(){const{adapter:t}=this.props;yield t.fetchDeleteRecentSearch(e)}))}updateResults(e,t,n){return L(this,void 0,void 0,(function*(){this.lastSearchTerm=e;const{adapter:r,categorize:i}=this.props;let o,s,a,c;const u=e;if(""!==u&&t)[a,c]=i?yield Promise.all([r.fetchResultsCategorized(u),r.fetchRecentSearchResultsCategorized()]):yield Promise.all([r.fetchResults(u),r.fetchRecentSearchResults()]),c&&c.length>0?i||this.isCategorizedResult(c[0])?s=c:o=c:i?s=a:o=a;else if(i)s=yield r.fetchResultsCategorized(u);else if(""!==u&&n){const e=yield r.fetchAlternativeResults(u);e&&e.length&&this.isCategorizedResult(e[0])?s=e:o=e}else{const e=yield r.fetchResults(u);e&&e.length&&this.isCategorizedResult(e[0])?s=e:o=e}if(this.lastSearchTerm===e)if(o&&o.length)r.logSuggestionShown(t||n?"":e,o),this.setState({results:o,categorizedResults:[]},(()=>{this.handleAnnounceResults(o)}));else if(s&&s.length){r.logSuggestionShown(t||n?"":e,s);const i=s.flatMap((e=>e.typeaheadResults));this.setState({categorizedResults:s,results:i},(()=>{this.handleAnnounceResults(o)}))}else this.setState({results:[],categorizedResults:[]})}))}selectInput(){const{toolbarInputRef:e}=this;e&&e.current&&"function"==typeof e.current.select&&e.current.select()}focusInput(){const{toolbarInputRef:e}=this;e&&e.current&&"function"==typeof e.current.focus&&(0,D.isElementVisible)(this.toolbarInputRef.current)&&e.current.focus()}resetActiveSuggestion(){this.setState({activeSuggestion:-1})}isTypeAheadFocused(){return this.toolbarInputRef.current===document.activeElement}render(){var t;const{allowExactMatch:n,dialog:r,stid:i,label:o,listTitle:s,placeholder:a,handleClear:c,emptyResultPlaceholder:u,dismissButtonText:l,value:d,isMulti:f,clearAllText:h,onClearAll:p,onItemRemove:m,selectedItemHeading:g,typeaheadInputRef:v,historyDetail:y,required:b,allowToRemoveRecentSearches:E}=this.props,{activeSuggestion:w,searchTerm:S}=this.state,T=this.getResultsToShow();return e.createElement(et,{type:"absolute"},e.createElement(ie.UitkSheetTransition,{isVisible:r,openCallback:this.menuOpened},e.createElement(ie.UitkSheet,{type:"popover",disableArrowKeyHandler:!0,isVisible:r,onDismiss:this.menuClosed,triggerRef:v,showOverTrigger:!0,width:null===(t=v.current)||void 0===t?void 0:t.offsetWidth},e.createElement(et,{type:"sticky",position:{top:"zero",zindex:"layer1"}},e.createElement(tt,{"data-stid":i&&`${i}-menu-input`,domRef:this.toolbarInputRef,handleClear:c,hasClearButton:S.length>0,hasFloatedLabel:!1,hasVisibleLabel:!1,id:i,label:o,onChange:this.handleChange,onKeyPress:this.handleKeyPress,onKeyDown:this.handleKeyDown,onKeyUp:this.handleKeyUp,placeholder:a,required:b,value:S})),e.createElement(ie.UitkSheetContent,{padded:!1},e.createElement(et,{style:{minHeight:"438px"}},e.createElement(ot,{typeaheadLabel:o,allowExactMatch:n,onResultItemSelect:this.handleResultItemSelect,handleRemoveRecentSearch:this.handleRemoveRecentSearch,results:T,searchTerm:S,stid:i,listTitle:s,activeSuggestion:w,emptyResultPlaceholder:u,isMulti:f,dismissButtonText:l,selectedItemHeading:g,clearAllText:h,onClearAll:p,onItemRemove:m,value:d,domRef:this.resultsDomRef,historyDetail:y,allowToRemoveRecentSearches:E}))),f&&e.createElement(_e.UitkSpacing,{padding:"three",style:{borderTop:"1px solid #cccfdb"}},e.createElement(ne.UitkLayoutFlex,{justifyContent:"end"},e.createElement(ne.UitkLayoutFlexItem,null,e.createElement(te.UitkPrimaryButton,{disabled:0===(null==d?void 0:d.length),onClick:this.onDismiss},l)))))))}}ct.placeholder=[{disabled:!0,icon:"brightness_1",name:" ",value:" ",title:" "}];const ut=t=>{const n=(0,X.useLocalization)();return e.createElement(ct,Object.assign({l10n:n},t))};var lt;!function(e){e.UP="UP",e.DOWN="DOWN"}(lt||(lt={}));class dt extends e.Component{constructor(t){super(t),this.toolbarInputRef=e.createRef(),this.iphoneSafariUARegex=/iphone.*safari|safari.*iphone/gi,this.uid=Math.random().toString(36).substring(7),this.typeaheadDialogLiveAnnounceId=`uitk-typeahead-dialog-live-announce-${this.uid}`,this.typingTimeout=0,this.newAttr=-1,this._isMounted=!1,this.state={activeSuggestion:-1,categorizedResults:[],data:{},results:[],searchTerm:t.term,showResults:!0,startSearchTerm:t.startSearchTerm,isCurrentLocation:!1},this.announceResults=this.announceResults.bind(this),this.focusInput=this.focusInput.bind(this),this.handleChange=this.handleChange.bind(this),this.handleKeyPress=this.handleKeyPress.bind(this),this.handleKeyDown=this.handleKeyDown.bind(this),this.handleKeyUp=this.handleKeyUp.bind(this),this.handleAnnounceResults=this.handleAnnounceResults.bind(this),this.handleResultItemSelect=this.handleResultItemSelect.bind(this),this.onDismiss=this.onDismiss.bind(this),this.openDialog=this.openDialog.bind(this),this.updateResults=this.updateResults.bind(this),this.updateResultsDebounced=t.debounceRate&&t.debounceRate>0?(0,W.debounce)(t.debounceRate,this.updateResults):this.updateResults,this.updateInput=this.updateInput.bind(this),this.selectInput=this.selectInput.bind(this),this.resetActiveSuggestion=this.resetActiveSuggestion.bind(this),this.removeDialogLiveAnnounce=this.removeDialogLiveAnnounce.bind(this),this.handleRemoveRecentSearch=this.handleRemoveRecentSearch.bind(this),this.contentRef=e.createRef()}componentDidMount(){this._isMounted=!0}componentDidUpdate(e,t){const{term:n}=this.props;n!==e.term&&this.setState({searchTerm:n});const{searchTerm:r,showResults:i}=this.state;t.searchTerm!==r&&i&&(this.setState({results:dt.placeholder}),this.updateResultsDebounced(r))}componentWillUnmount(){var e;const{adapter:t}=this.props;null===(e=null==t?void 0:t.logTypeaheadDismiss)||void 0===e||e.call(t),this._isMounted=!1}handleChange(e){this.setState({searchTerm:e.target.value,showResults:!0,isCurrentLocation:!1},this.focusInput),""===e.target.value&&this.resetActiveSuggestion()}handleResultItemSelect(e,t,n){var r;const{isMulti:i,adapter:o,l10n:s,label:a,onResultItemSelect:c}=this.props,{searchTerm:u}=this.state;return null===(r=o.onItemSelection)||void 0===r?void 0:r.call(o,t).then((r=>{i?this.setState({activeSuggestion:-1}):this.setState({activeSuggestion:-1,searchTerm:e,showResults:!1,isCurrentLocation:(null==t?void 0:t.type)===pe.CURRENT_LOCATION}),c(e,r);const o=n?ve(n)-1:0;i&&(0,D.liveAnnounce)(`${s.formatText("typeahead.announceResults.itemSelected",e)}\n             ${s.formatText("typeahead.announceResults.showingResults",a,o,u)}`,void 0,void 0,this.contentRef,this.typeaheadDialogLiveAnnounceId),i||(setTimeout((()=>{(0,D.liveAnnounce)(`${s.formatText("typeahead.announceResults.itemSelected",e)}\n             ${s.formatText("typeahead.announceResults.menuClosed")}`)}),100),this.onDismiss())})).catch((()=>{this.updateResults(e,!0,""!==e),this.onDismiss()}))}handleRemoveRecentSearch(e){this.setState((t=>Object.assign(Object.assign({},t),{results:this.filterTypeaheadResult(e,t.results),categorizedResults:t.categorizedResults.map((t=>Object.assign(Object.assign({},t),{typeaheadResults:this.filterTypeaheadResult(e,t.typeaheadResults)}))).filter((e=>e.typeaheadResults.length>=1))}))),this.removeRecentSearch(e)}handleAnnounceResults(e){this.typingTimeout&&clearTimeout(this.typingTimeout),e.length>0&&(this.typingTimeout=setTimeout((()=>{this.announceResults(e)}),1e3))}handleKeyPress(e){const{value:t}=this.props,n=ye(this.getResultsToShow(),Array.isArray(t)?t:[]),{activeSuggestion:r,searchTerm:i}=this.state;if("Enter"!==e.key&&38!==e.keyCode&&40!==e.keyCode||e.preventDefault(),"Enter"===e.key){const e=be(n,r);e?this.handleResultItemSelect(e.value,e.data,n):this.handleResultItemSelect(i,void 0,n)}}handleActiveSuggestion(e){const{activeSuggestion:t,results:n,searchTerm:r}=this.state,{allowExactMatch:i}=this.props,o=i&&r?1:0,s=n.length+o;let a=0;e===lt.UP?a=-1===t?s:s-1:e===lt.DOWN&&(a=s+1);const c=(t+a)%s,u=(this.newAttr+a)%s;this.setState({activeSuggestion:this.newAttr>-1?u:c}),this.newAttr=-1}handleUpArrowKey(e){38===e.keyCode&&this.handleActiveSuggestion(lt.UP)}handleDownArrowKey(e){40===e.keyCode&&this.handleActiveSuggestion(lt.DOWN)}handleTabKey(e){if(9===e.keyCode||e.shiftKey&&9===e.keyCode){const t=e.target.parentElement.getAttribute("data-index");this.newAttr=t?Number(t):-1}}handleEscKey(e){27===e.keyCode&&this.onDismiss()}handleKeyDown(e){this.handleDownArrowKey(e),this.handleUpArrowKey(e),this.handleEscKey(e)}handleKeyUp(e){this.handleTabKey(e)}onDismiss(){const{onDismiss:e,isMulti:t,l10n:n}=this.props;this.contentRef.current.scrollTop=0,null==e||e(),this.resetActiveSuggestion(),this.setState({startSearchTerm:""}),t&&setTimeout((()=>{(0,D.liveAnnounce)(n.formatText("typeahead.announceResults.menuClosed"))}),100),this.removeDialogLiveAnnounce()}getResultsToShow(){const{categorize:e}=this.props,{categorizedResults:t,results:n}=this.state;return e||t&&t.length?{items:t,type:"categorized"}:{items:n,type:"uncategorized"}}filterTypeaheadResult(e,t){return t.filter((t=>{const n=t.data;return(null==n?void 0:n.regionId)===e&&"USERHISTORY"===(null==n?void 0:n.category)?null:t}))}removeRecentSearch(e){return L(this,void 0,void 0,(function*(){const{adapter:t}=this.props;yield t.fetchDeleteRecentSearch(e)}))}removeDialogLiveAnnounce(){var e;const t=document.getElementById(this.typeaheadDialogLiveAnnounceId);t&&(null===(e=t.parentNode)||void 0===e||e.removeChild(t))}resetActiveSuggestion(){this.setState({activeSuggestion:-1})}updateInput(e,t){this.setState({searchTerm:e},(()=>{this.updateResults(e,!1,!!t),setTimeout((()=>{this.selectInput()}))}))}scrollTop(){navigator.userAgent.match(this.iphoneSafariUARegex)&&document.getElementsByTagName("html")[0].scrollTop>0&&document.getElementsByTagName("html")[0].scrollTo({top:0,behavior:"smooth"})}openDialog(){const{searchTerm:e}=this.state,{adapter:t,startSearchTerm:n}=this.props;t.typeaheadDialogOpened(e),this.updateInput(e||n||"",""!==e),this.focusInput(),this.scrollTop()}selectInput(){var e,t;const{toolbarInputRef:n}=this;null===(t=null===(e=null==n?void 0:n.current)||void 0===e?void 0:e.select)||void 0===t||t.call(e)}focusInput(){var e,t;const{toolbarInputRef:n}=this;null===(t=null===(e=null==n?void 0:n.current)||void 0===e?void 0:e.focus)||void 0===t||t.call(e)}announceResults(e){const{searchTerm:t}=this.state,{l10n:n}=this.props,r=t&&t.split("");if(r){const t=`'${r.join("' , '")} '`;e&&(0,D.liveAnnounce)(n.formatText("typeahead.announceResults.resultsAvailable",t,e.length),void 0,void 0,this.contentRef,this.typeaheadDialogLiveAnnounceId)}}isCategorizedResult(e){return"object"==typeof e&&"heading"in e}updateResults(e,t,n){return L(this,void 0,void 0,(function*(){const{adapter:r,categorize:i}=this.props,{isCurrentLocation:o}=this.state,s=""===e||o?"":e;let a,c;if(this.lastSearchTerm=s,""!==s&&!0===t){const[e,t]=i?yield Promise.all([r.fetchResultsCategorized(s),r.fetchRecentSearchResultsCategorized()]):yield Promise.all([r.fetchResults(s),r.fetchRecentSearchResults()]);t&&t.length>0?i||this.isCategorizedResult(t[0])?c=t:a=t:i?c=e:a=e}else if(i)c=yield r.fetchResultsCategorized(s);else if(""!==s&&n){const e=yield r.fetchAlternativeResults(s);e&&e.length&&this.isCategorizedResult(e[0])?c=e:a=e}else{const e=yield r.fetchResults(s);e&&e.length&&this.isCategorizedResult(e[0])?c=e:a=e}if(this.lastSearchTerm===s)if(a&&a.length&&this._isMounted)r.logSuggestionShown(t||n?"":s,a),this.setState({results:a,categorizedResults:[]},(()=>{this.handleAnnounceResults(a)}));else if(c&&c.length){r.logSuggestionShown(t||n?"":s,c);const e=c.reduce(((e,t)=>(e.push(...t.typeaheadResults),e)),[]);this.setState({categorizedResults:c,results:e},(()=>{this.handleAnnounceResults(c)}))}else this._isMounted&&this.setState({results:[],categorizedResults:[]})}))}render(){const{allowExactMatch:t,dialog:n,id:r,listTitle:i,stid:o,placeholder:s,label:a,handleClear:c,emptyResultPlaceholder:u,isMulti:l,dismissButtonText:d,clearAllText:f,onClearAll:h,onItemRemove:p,selectedItemHeading:m,value:g,typeaheadInputRef:v,required:y,allowToRemoveRecentSearches:b}=this.props,{activeSuggestion:E,searchTerm:w}=this.state,S=this.getResultsToShow();return e.createElement(et,{type:"absolute",position:{top:"zero",left:"zero",zindex:"layer1"}},e.createElement(ie.UitkSheetTransition,{isVisible:n,openCallback:this.openDialog},e.createElement(ie.UitkSheet,{isVisible:n,triggerRef:v,type:"full"},e.createElement(oe.UitkToolbar,{navigationContent:{navIconLabel:"Close the dialog",onClick:this.onDismiss,navButtonId:`${r}-close`},elevation:"floating"},e.createElement(_e.UitkSpacing,{padding:{inline:"three",blockend:"three"}},e.createElement("div",null,e.createElement(tt,{"data-stid":o&&`${o}-dialog-input`,domRef:this.toolbarInputRef,hasClearButton:w.length>0,hasFloatedLabel:!1,hasVisibleLabel:!1,id:o,label:a,onChange:this.handleChange,onKeyPress:this.handleKeyPress,placeholder:s,value:w,onKeyDown:this.handleKeyDown,onKeyUp:this.handleKeyUp,handleClear:c,required:y})))),e.createElement(ie.UitkSheetContent,{contentDomRef:this.contentRef,padded:!1},e.createElement(ot,{allowExactMatch:t,typeaheadLabel:a,onResultItemSelect:this.handleResultItemSelect,results:S,searchTerm:w,stid:o,listTitle:i,activeSuggestion:E,emptyResultPlaceholder:u,isMulti:l,dismissButtonText:d,selectedItemHeading:m,clearAllText:f,onClearAll:h,onItemRemove:p,value:g,contentRef:this.contentRef,historyDetail:this.props.historyDetail,allowToRemoveRecentSearches:b,handleRemoveRecentSearch:this.handleRemoveRecentSearch}),this.props.isMulti&&e.createElement(re.UitkScrim,{type:re.UitkScrimType.BUTTON},e.createElement(te.UitkFloatingFullWidthButton,{disabled:0===(null==g?void 0:g.length),onClick:this.onDismiss,isFullWidth:!0},d))))))}}dt.placeholder=[{disabled:!0,icon:"brightness_1",name:" ",value:" ",title:" "}];const ft=t=>{const n=(0,X.useLocalization)();return e.createElement(dt,Object.assign({l10n:n},t))},ht=D.classNames.bind(Ee);var pt;!function(e){e.MENU="menu",e.DIALOG="dialog"}(pt||(pt={}));const mt=t=>{const{isMulti:n=!1,value:r,onMountCB:i,stid:o,handleClear:s,onUpdate:a,onResultSelection:c,id:u,allowExactMatch:l,label:d,listTitle:f,categorize:h,typeaheadPlaceholder:p,typeaheadEmptyResultPlaceholder:m,dismissButtonText:g,clearAllText:v,onItemRemove:y,selectedItemHeading:b,debounceRate:E,required:w,onClick:S,onDismiss:T,adapter:R,accessibilityLabel:_,icon:O,invalid:x,name:C,placeholder:A,allowToRemoveRecentSearches:I,withoutCustomStyling:k=!1}=t,[N,L]=e.default.useState({dialog:!1,mounted:!1,searchTerm:"",startSearchTerm:""}),P=(0,X.useLocalization)();R.setL10n(P);const U=e.default.useRef();e.default.useEffect((()=>{n&&L((e=>Object.assign(Object.assign({},e),{searchTerm:""}))),r!==N.searchTerm&&"string"==typeof r&&L((e=>Object.assign(Object.assign({},e),{searchTerm:null!=r?r:""})))}),[n,r,N.searchTerm]),e.default.useEffect((()=>{Array.isArray(r)&&n&&L((e=>Object.assign(Object.assign({},e),{searchTerm:r.join(", ")}))),L((e=>Object.assign(Object.assign({},e),{mounted:!0}))),i&&i(U)}),[]);const M=()=>{L((e=>Object.assign(Object.assign({},e),{searchTerm:""}))),null==s||s()},j=(e,t)=>{var r,i;if(null==a||a({term:e,data:t}),c){const n=new CustomEvent("change"),i=document.createElement("input");i.value=e,i.setAttribute("id",null!==(r=null==t?void 0:t.id)&&void 0!==r?r:u),i.addEventListener("change",(e=>{c(e)})),i.dispatchEvent(n)}n||(L((t=>Object.assign(Object.assign({},t),{searchTerm:e}))),(0,D.liveAnnounce)(P.formatText("typeahead.enteringInput")),null===(i=U.current)||void 0===i||i.focus())},B=e=>{const t=(0,D.isElementVisible)(U.current);null==T||T(e),L((e=>Object.assign(Object.assign({},e),{dialog:!1,startSearchTerm:""}))),U.current&&t&&U.current.focus()},F=t=>{const{dialog:i}=N,s=i,a=k?"":t===pt.MENU?"uitk-typeahead-menu-layer":"uitk-typeahead-dialog-layer",c=k?"":t===pt.MENU?"uitk-typeahead-menu-layer-responsive":"uitk-typeahead-dialog-layer-responsive";return e.default.createElement(e.default.Fragment,null,e.default.createElement("div",{className:ht(a,{[c]:s,"is-hidden":!s})},(t=>{const{dialog:i,searchTerm:s,startSearchTerm:a}=N;h&&R.setTypeaheadCategories();const c={isMulti:n,value:r,label:d,adapter:R,allowExactMatch:l,onResultItemSelect:j,dialog:i,stid:o,placeholder:p,term:s,emptyResultPlaceholder:m,listTitle:f,categorize:h,handleClear:M,clearAllText:v,onClearAll:M,dismissButtonText:null!=g?g:P.formatText("typeahead.multiselect.dismiss"),onItemRemove:y,selectedItemHeading:b,debounceRate:E,typeaheadInputRef:U,historyDetail:R.isHistoryDetailEnabled(),required:w,allowToRemoveRecentSearches:I},S=k?ut:qe,T=k?ft:He;return t===pt.MENU?e.default.createElement(S,Object.assign(Object.assign({},c),{onDismiss:()=>{B(t)}})):e.default.createElement(T,Object.assign(Object.assign({},c),{id:u,onDismiss:()=>{B(pt.DIALOG)},startSearchTerm:a}))})(t)),(t=>{const{mounted:i,searchTerm:s,dialog:a}=N,c=_||d,u=t===pt.MENU?ee.UitkTextInput:Se;return e.default.createElement("div",null,i&&e.default.createElement(ee.UitkFakeInput,{"aria-label":[c,s].filter((e=>e&&e.length>0)).join(" "),"aria-expanded":a,icon:O,label:d,handleClear:M,"aria-describedby":x&&o?`${o}-input-error`:void 0,"data-stid":o&&t===pt.MENU?`${o}-menu-trigger`:o&&"dialog"===t?`${o}-dialog-trigger`:"",domRef:U,onClick:()=>{(e=>{const{dialog:t,searchTerm:n}=N,r=t;e===pt.MENU?r?B(e):(null==S||S(e),L((e=>Object.assign(Object.assign({},e),{dialog:!0}))),setTimeout((()=>{R.typeaheadDialogOpened(n)}))):e===pt.DIALOG&&(null==S||S(e),L((e=>Object.assign(Object.assign({},e),{dialog:!0}))))})(t)},placeholder:A,value:n?r.join(", "):r,invalid:x,required:w}),e.default.createElement(u,{className:ht({"is-hidden":i}),icon:O,label:d,"data-stid":o&&`${o}-input`,domRef:U,hasClearButton:!1,name:C,placeholder:A,value:s,id:o&&`${o}-input`,required:w}))})(t))};return e.default.createElement("div",{className:k?"":ht("uitk-typeahead"),"data-stid":o},e.default.createElement(J.Viewport,null,e.default.createElement(J.ViewSmall,null,F(pt.DIALOG)),e.default.createElement(J.ViewLarge,null,F(pt.MENU))))};var gt,vt,yt,bt;mt.displayName="TypeaheadCustom",function(e){e[e.EGTA_BEX_ML_V0=36094]="EGTA_BEX_ML_V0",e[e.EGTA_uTA_Demo=32216]="EGTA_uTA_Demo",e[e.ESS_Two_Line_Display=33686]="ESS_Two_Line_Display",e[e.PWA_ESS_Feedback_Loop_Enable=31052]="PWA_ESS_Feedback_Loop_Enable",e[e.EGTA_Rollout_Feature_Gate_for_Hotel_Property_Name_Filter=37339]="EGTA_Rollout_Feature_Gate_for_Hotel_Property_Name_Filter",e[e.BEX_Driveable_destination_Web=41955]="BEX_Driveable_destination_Web"}(gt||(gt={}));class Et{static init(e){e&&Object.keys(gt).forEach((t=>{const n=e[t];let r;if("number"==typeof n?r=n:n&&"number"==typeof n.bucket&&(r=n.bucket),void 0!==r){const e=gt[t];this.experimentMap[e]={id:e,name:t,bucket:r}}}))}static isBucketed(e,t=1){return e in this.experimentMap&&t===this.experimentMap[e].bucket}static getClientVariants(){const e=[];return Object.keys(this.experimentMap).forEach((t=>{e.push(`${t}.${this.experimentMap[t].bucket}`)})),e.join("|")}}Et.experimentMap={};class wt{static getSuggestionTypes(e){if(e&&e.length>0)return e.map((e=>"GOOGLEMAPS"===e.category?"GPA":e.type)).join(",")}static getSuggestionIds(e){if(e&&e.length>0)return e.map((e=>"GOOGLEMAPS"===e.category?`${e.sourceName}:${e.sourceId}`:e.essId?`${e.essId.sourceName}:${e.essId.sourceId}`:"-:-")).join(",")}constructor(){this.query="",this.response=void 0,this.mostRecentSelectedSuggestion=void 0}logTypeaheadOpen(e){this.interactionStart=Date.now(),this.prefill=e}logTypeaheadRequest(e){this.query=e||"",this.mostRecentSelectedSuggestion=void 0,this.response=void 0}logSuggestionShown(e){this.response=e}logTypeaheadSelection(e){this.mostRecentSelectedSuggestion=this.response.sr[e.index-1]}logTypeaheadEventMessage(e){this.selectionTypeaheadEventMessage=e}getMetrics(e){const t=this.query===this.prefill?"":this.query,n=this.response&&this.response.sr&&this.response.sr.length>0&&"GOOGLEMAPS"===this.response.sr[0].category;return Object.assign({contentFlavor:"uitk",deviceType:e.getDevice&&"function"==typeof e.getDevice?e.getDevice(window.navigator.useragent):void 0,inputLength:t?t.length:0,interactionTime:this.interactionStart?Date.now()-this.interactionStart:void 0,isAddrAutocomplete:n,lob:e.lob,locale:e.locale,pageId:e.client,pointOfSale:window.location.hostname,selectionDepth:this.getSelectionDepth(),siteId:`${e.siteId}`,suggestionIds:this.response&&wt.getSuggestionIds(this.response.sr),suggestionSelected:!!this.mostRecentSelectedSuggestion,suggestionShown:!!(this.response&&this.response.sr&&this.response.sr.length>0),suggestionTypes:this.response&&wt.getSuggestionTypes(this.response.sr),textInputElementId:e.inputId,timestamp:Date.now(),type:"SearchLocationInteraction",userAgent:window.navigator.userAgent,userTypedQuery:t,variants:[this.response&&this.response.activeABTests,Et.getClientVariants()].filter(Boolean).join("|"),zeroResults:this.response&&this.response.sr&&0===this.response.sr.length},this.selectionTypeaheadEventMessage)}getSelectionDepth(){return this.mostRecentSelectedSuggestion&&void 0!==this.mostRecentSelectedSuggestion.index?(parseInt(this.mostRecentSelectedSuggestion.index,10)+1).toString():"undefined"}}class St{constructor(){this.entries=[],this.MAX_TRIGGER_COUNT_FOR_AGGREGATED_LOGGING=10,this.essErrorCount=0,this.TRIGGER_TYPE_FOCUS="focus",this.TRIGGER_TYPE_INPUT="input",this.errorCodes=[],this.proxyRegion=""}static isStatusCodeInRange(e,t,n){return!isNaN(e)&&t<=e&&e<=n}logTypeaheadRequest(e){const t=0===e.trim().length?this.TRIGGER_TYPE_FOCUS:this.TRIGGER_TYPE_INPUT,n={query:e,timestamp:Date.now(),triggerType:t};this.entries.push({request:n,responseShown:!1})}logResponse(e){var t;this.proxyRegion=(null===(t=null==e?void 0:e.headers)||void 0===t?void 0:t.get("x-proxy-region"))||""}logTypeaheadResponse(e){if(e){const t=e.q,n=e.sr?e.sr.length:0,r=this.getRequestMetricEntry(t);if(r){const e=Date.now();r.response={latency:e-r.request.timestamp,query:t,suggestionCount:n,timestamp:e}}}}logSuggestionShown(e){const t=this.getResponseMetricEntry(e);t&&(t.responseShown=!0)}logError(e){St.isStatusCodeInRange(e,200,299)||(this.essErrorCount+=1),this.errorCodes.push(e)}getMetrics(){var e;if(this.entries.length){const t={},n=this.MAX_TRIGGER_COUNT_FOR_AGGREGATED_LOGGING<this.entries.length?this.MAX_TRIGGER_COUNT_FOR_AGGREGATED_LOGGING:this.entries.length;for(let e=0;e<n;e++){const n=this.entries[e];n.response&&(t[`latency${e}`]=n.response.latency,0===e&&(t.query0=n.response.query))}t.latencyMedian=this.getMedianLatency();const r=this.getWorstLatencyMetric();t.queryWorst=r?r.response&&r.response.query:void 0,t.latencyWorst=r?r.response&&r.response.latency:void 0;const i=this.entries[this.entries.length-1];return t.queryLast=i.request.query,t.latencyLast=i.response?i.response.latency:void 0,t.totalTriggers=this.entries.length,t.totalSuccess=this.getSuccessMetrics().length,t.totalOnePlusCharTypeaheadShown=this.entries.filter((e=>e.request.query&&e.responseShown)).length,t.onFocusTypeaheadShown=(null===(e=this.getResponseMetricEntry(""))||void 0===e?void 0:e.responseShown)||!1,this.essErrorCount>0&&(t.essErrorCount=this.essErrorCount),this.errorCodes.length>0&&(t.error=this.errorCodes.join(",")),t.proxyRegion=this.proxyRegion,t}}getRequestMetricEntry(e){for(const t of this.entries)if(t.request.query===e&&!t.response)return t}getResponseMetricEntry(e){for(const t of this.entries)if(t.request.query===e&&t.response)return t}getWorstLatencyMetric(){let e;for(const t of this.entries)t.response&&(!e||e.response&&e.response.latency<t.response.latency)&&(e=t);return e}latencySortFunction(e,t){return e.response&&t.response?e.response.latency-t.response.latency:e.response?-1:t.response?1:0}getMedianLatency(){let e;const t=this.getSuccessMetrics();if(t.sort(this.latencySortFunction),t.length){const n=Math.floor(t.length/2),r=t[n].response.latency;e=t.length%2?r:(t[n-1].response.latency+r)/2}return e}getSuccessMetrics(){return this.entries.filter((e=>e.response))}}!function(e){e.CRITICAL="CRITICAL",e.ERROR="ERROR",e.WARN="WARN",e.INFO="INFO",e.UNKNOWN="UNKNOWN"}(vt||(vt={}));class Tt{constructor(e,t){this.level=e,this.name=t}toString(){return`SystemEvent(level=${this.level.toString()} name=${this.name})`}}class Rt{constructor(e){this.clientLogger=e,Rt.pm&&Rt.im||this.initMetrics()}initLogger(e){const{client:t,lob:n,locale:r,siteId:i,personalize:o,inputId:s,getDevice:a,variants:c}=e;Rt.metadata={client:t,lob:n,locale:r,siteId:i,personalize:o,inputId:s,getDevice:a,variants:c}}logTypeaheadOpen(e){Rt.im.logTypeaheadOpen(e)}logTypeaheadRequest(e){Rt.im.logTypeaheadRequest(e),Rt.pm.logTypeaheadRequest(e)}logResponse(e){Rt.pm.logResponse(e)}logTypeaheadResponse(e){Rt.pm.logTypeaheadResponse(e)}logSuggestionShown(e){Rt.pm.logSuggestionShown(e.q),Rt.im.logSuggestionShown(e)}logSuggestionSelected(e,t){Rt.im.logTypeaheadSelection(e),Rt.im.logTypeaheadEventMessage(t)}logError(e){Rt.pm.logError(e)}logTypeaheadClientMetrics(){if(this.clientLogger&&"function"==typeof this.clientLogger.getLoggerWithIdentifier){const e=this.clientLogger.getLoggerWithIdentifier("uitk-react-typeahead");e&&"function"==typeof e.logEvent&&e.logEvent(new Tt(vt.INFO,"SearchLocationInteraction"),Object.assign(Object.assign({},Rt.im.getMetrics(Rt.metadata)),Rt.pm.getMetrics()))}this.initMetrics()}initMetrics(){Rt.im=new wt,Rt.pm=new St}}!function(e){e.CLICK="recommendation_module.selected",e.SEEN="recommendation_module.presented"}(yt||(yt={})),function(e){e.SEEN="Impression",e.CLICK="Interaction"}(bt||(bt={}));const _t="destination-typeahead-input",Ot="allRecommendations",xt={ALTERNATE:"People also searched",POPULAR:"Popular destinations"},Ct=["POPULAR","ALTERNATE"];class At{static getRecommendationSeenMessage(e,t){if(e&&e.sr&&e.sr.length>0){const n=e.sr.filter((e=>Ct.includes(e.category)));if(n&&n.length>0){const r={eventType:bt.SEEN,eventName:yt.SEEN,egRecommendationResponseId:this.getEgRecommendationResponseId(e.recId),recommendationTitle:this.getRecommendationTitle(n[0].category),component:_t,componentElement:t,recommendations:this.getRecommendations(n)};return{schemaName:Ot,messageContent:r}}}}static getRecommendationClickedMessage(e,t,n){var r,i;if(e&&Ct.includes(e.category)){let o=e.index;if(t&&t.sr&&t.sr.length>0){const n=t.sr.filter((t=>t.category===e.category));for(let t=0;t<n.length;t++)if((null===(r=n[t].essId)||void 0===r?void 0:r.sourceId)===(null===(i=e.essId)||void 0===i?void 0:i.sourceId)){o=t;break}}const s={eventType:bt.CLICK,eventName:yt.CLICK,egRecommendationResponseId:this.getEgRecommendationResponseId(),recommendationTitle:this.getRecommendationTitle(e.category),component:_t,componentElement:n,recommendations:this.getSelectedRecommendations(e,o)};return{schemaName:Ot,messageContent:s}}}static getEgRecommendationResponseId(e){return e&&(this.egRecommendationResponseId=e),this.egRecommendationResponseId}static getRecommendationTitle(e){return this.recommendationTitle||(this.recommendationTitle=xt[e]),this.recommendationTitle}static getRecommendations(e){const t=[];let n=0;return e&&e.length>0&&(e.forEach((e=>{t.push(this.getRecommendation(e,n)),n+=1})),t.push()),t}static getSelectedRecommendations(e,t){const n=[];return e&&n.push(this.getRecommendation(e,t)),n}static getRecommendation(e,t){var n;return{recommendationId:null===(n=e.essId)||void 0===n?void 0:n.sourceId,rank:t,presentationDetails:{name:e.regionNames.primaryDisplayName}}}}class It{static init(e){if(e&&"function"==typeof e.getLoggerWithIdentifier){const t=e.getLoggerWithIdentifier("uitk-react-typeahead");t&&"function"==typeof t.logEvent&&(It.logger=t)}}static isOrigin(e){const t=e.toLowerCase();return t.indexOf("origin")>-1||t.indexOf("from")>-1||t.indexOf("departure")>-1||t.indexOf("drop")>-1||t.indexOf("home")>-1||t.indexOf("loc2")>-1}static isDestination(e){const t=e.toLowerCase();return t.indexOf("dest")>-1||t.indexOf("to")>-1||t.indexOf("arrival")>-1||t.indexOf("near")>-1||t.indexOf("pick")>-1||0===t.indexOf("location")}static getDomElement(){var e;const t=null===(e=document.querySelectorAll(".uitk-typeahead-dialog-layer-responsive .uitk-typeahead-dialog, .uitk-typeahead-menu-layer-responsive .uitk-typeahead-menu-container")[0])||void 0===e?void 0:e.getElementsByTagName("input")[0];return t||It.logError({message:"Failed to retrieve data for the typeahead UI component"}),t}static logError(e){try{if(It.logger){const t=e.stack?{message:e.message,stack:e.stack}:e;It.logger.logEvent(new Tt(vt.ERROR,"TypeaheadLoggingError"),t)}}catch(e){console.error(`unable to log errors from typeaheadCustom logger. Reason:${e}`)}}static getInputElementId(e){let t;return e&&(t=e.getAttribute("data-stid"),t||It.logError({message:"Failed to retrieve input element id from 'data-stid'"})),t||It.UNKNOWN}static getSubLob(e,t){let n=t;switch(t||(n=new URLSearchParams(window.location.search).get("pwaSubLOB")||""),n=n.toLowerCase(),e.toLowerCase()){case"flights":switch(n){case"oneway":return"OW";case"multicity":return"MD";default:return"RT"}case"packages":switch(n){case"fhc":return"FHC";case"hc":return"HC";case"fc":return"FC";default:return"FH"}default:return""}}}var kt,Nt,Lt,Pt,Ut,Dt;It.UNKNOWN="UNKNOWN",function(e){e.FOCUS="searchLocationFocused",e.BLUR="searchLocationBlurred",e.SELECT="searchLocationSuggestionSelected",e.CURRENT_LOCATION="currentLocation"}(kt||(kt={})),function(e){e.SEARCH_LOCATION_INTERACTION="searchLocationInteraction"}(Nt||(Nt={})),function(e){e.O="Origin",e.D="Destination",e.U="UNKNOWN"}(Lt||(Lt={})),function(e){e.GAIA="GAIA",e.LCM="LCM",e.GOOGLE="GOOGLE",e.UNKNOWN="UNKNOWN"}(Pt||(Pt={})),function(e){e.ALTERNATE="Alternate",e.CURRENT_LOCATION="CurrentLocation",e.POPULAR="Popular",e.GOOGLE="Google",e.NORMAL="Normal",e.RECENT_HISTORY="RecentHistory"}(Ut||(Ut={}));class Mt{constructor(e,t){var n,r;const i=kt.CURRENT_LOCATION===e,o=i?kt.SELECT:e;this.typeaheadEvent={event:{name:o,type:Nt.SEARCH_LOCATION_INTERACTION},numberOfBackspaces:t.noOfBackspaces,page:{actionLocation:t.fieldName,lineOfBusiness:t.metadata.lob+this.getSublob(t.metadata.lob,t.metadata.subLob),pageName:this.getPageName(t.metadata.client||"",t.href)},searchField:this.getSearchField(t.fieldName),searchFieldContent:kt.FOCUS===o?(null===(n=t.input)||void 0===n?void 0:n.value)||"":t.query===t.prefill?"":t.query||"",timestamps:{receivedAt:Date.now()}};const s=t;if(kt.FOCUS===o&&(s.isResolve=!1,s.focusTime=(new Date).toString()),[kt.SELECT,kt.BLUR].indexOf(o)>-1){if(s.response&&this.setSuggestionShownFields(s.response),s.selected&&(kt.BLUR===o&&(this.typeaheadEvent.typeaheadSelection=!0,this.typeaheadEvent.charactersTyped=this.typeaheadEvent.searchFieldContent.length,this.calculateTimeSpendOnTypeaheadInput(s)),this.setSuggestionSelectedFields(s.selected)),void 0===s.selected&&kt.BLUR===o){this.calculateTimeSpendOnTypeaheadInput(s),this.typeaheadEvent.typeaheadSelection=!1,this.typeaheadEvent.charactersTyped=this.typeaheadEvent.searchFieldContent.length;const e=null===(r=document.getElementsByName("regionId"))||void 0===r?void 0:r.item(0),t=(null==e?void 0:e.value)||"UNKNOWN";this.typeaheadEvent.searchDestination={id:s.isResolve?"UNKNOWN":t,sourceSystem:"UNKNOWN",fullName:s.isResolve?s.query:s.prefill||""}}i&&this.setCurrentLocationSelectedFields()}}getTypeaheadEventMessage(){return{messageContent:this.typeaheadEvent,schemaName:"searchLocation"}}getFlattenedJsonMessage(){var e,t,n;return{"sl.page.actionLocation":this.typeaheadEvent.page.actionLocation,"sl.page.lob":this.typeaheadEvent.page.lineOfBusiness,"sl.page.name":this.typeaheadEvent.page.pageName,"sl.searchField":this.typeaheadEvent.searchField,"sl.searchFieldContent":this.typeaheadEvent.searchFieldContent,"sl.timestamps.receivedAt":this.typeaheadEvent.timestamps.receivedAt,"sl.noOfSuggestions":this.typeaheadEvent.noOfSuggestions,"sl.requestId":this.typeaheadEvent.serviceRequestLogId,"sl.suggestionType":this.typeaheadEvent.suggestionType,"sl.searchDestination":`${null===(e=this.typeaheadEvent.searchDestination)||void 0===e?void 0:e.sourceSystem}:${null===(t=this.typeaheadEvent.searchDestination)||void 0===t?void 0:t.id}`,"sl.selectionDepth":this.typeaheadEvent.selectionDepth,"sl.suggestionList":null===(n=this.typeaheadEvent.suggestionList)||void 0===n?void 0:n.map((e=>`${e.sourceSystem}:${e.id}`)).join(",")}}setSuggestionShownFields(e){this.typeaheadEvent.noOfSuggestions=e.sr.length,this.typeaheadEvent.serviceRequestLogId=e.rid,e.sr&&e.sr.length&&(this.typeaheadEvent.suggestionType=this.getSuggestionType(e.sr[0].category),this.typeaheadEvent.suggestionList=this.getSuggestionList(e.sr))}setSuggestionSelectedFields(e){this.typeaheadEvent.suggestionType=this.getSuggestionType(e.category),this.typeaheadEvent.searchDestination=this.getGeoEntity(e),this.typeaheadEvent.selectionDepth=parseInt(e.index,10),e&&"CATEGORIZED"!==e.displayType&&(this.typeaheadEvent.selectionDepth+=1)}setCurrentLocationSelectedFields(){this.typeaheadEvent.suggestionType=Ut.CURRENT_LOCATION,this.typeaheadEvent.typeaheadSelection=!0,this.typeaheadEvent.searchDestination={fullName:"CurrentLocation",id:"",type:Ut.CURRENT_LOCATION},this.typeaheadEvent.selectionDepth=1}getSearchField(e){return e?It.isOrigin(e)?Lt.O:It.isDestination(e)?Lt.D:Lt.U:Lt.U}getGeoEntity(e){return{fullName:e.regionNames.lastSearchName,id:this.getSourceId(e),shortName:e.regionNames.shortName,sourceSystem:this.getSourceSystem(e),type:e.type}}getSourceId(e){var t;return e.sourceId||(null===(t=e.essId)||void 0===t?void 0:t.sourceId)||e.hotelId||e.gaiaId||It.UNKNOWN}getSourceSystem(e){var t;const n=e.sourceName||(null===(t=e.essId)||void 0===t?void 0:t.sourceName)||(e.hotelId?"LCM":e.gaiaId?"GAI":"");switch(n){case"GAI":return Pt.GAIA;case"LCM":return Pt.LCM;case"GPA":return Pt.GOOGLE;default:return n||Pt.UNKNOWN}}getSuggestionType(e){switch(e){case"GOOGLEMAPS":return Ut.GOOGLE;case"USERHISTORY":return Ut.RECENT_HISTORY;case"ALTERNATE":return Ut.ALTERNATE;case"POPULAR":return Ut.POPULAR;case"CURRENTLOCATION":return Ut.CURRENT_LOCATION;default:return Ut.NORMAL}}getSuggestionList(e){return e.map((e=>{const t={id:this.getSourceId(e),sourceSystem:this.getSourceSystem(e),type:e.type};return e.hierarchyInfo&&e.hierarchyInfo.relation&&e.hierarchyInfo.relation.length&&(t.reason=e.hierarchyInfo.relation[0]),t}))}getSublob(e,t){const n=It.getSubLob(e,t);return n?`.${n}`:""}getPageName(e,t){const n=t.toLowerCase(),r=e.toLowerCase();if(r&&-1===r.indexOf("homepage")){const e=this.checkIfHomepage(n)?"Homepage":this.findPageName(r);return-1===e.indexOf("UNKNOWN")?e:this.findPageName(n)}return this.checkIfHomepage(n)?"Homepage":this.findPageName(n)}checkIfHomepage(e){return new RegExp("^(https:\\/\\/)[a-zA-Z]{2,}\\.[a-zA-Z0-9]{1,61}\\.[a-zA-Z.]{2,}((\\/\\?)|\\/$)").test(e)}findPageName(e){return-1!==e.indexOf("package")||-1!==e.indexOf("packagetype")?this.returnPageName("Packages",e):-1!==e.indexOf("flight")?this.returnPageName("Flights",e):-1!==e.indexOf("hotel")?this.returnPageName("Hotels",e):-1!==e.indexOf("car")?this.returnPageName("Cars",e):-1!==e.indexOf("lx")||-1!==e.indexOf("activities")||-1!==e.indexOf("things-to-do")?this.returnPageName("Activities",e):-1!==e.indexOf("rail")?this.returnPageName("Rails",e):"UNKNOWN"}returnPageName(e,t){return-1!==t.indexOf("search")?`${e}.Search`:`${e}LandingPage`}calculateTimeSpendOnTypeaheadInput(e){const t=e.focusTime;this.typeaheadEvent.timestamps.timeFromFocusToBlur=(new Date).getTime()-new Date(t).getTime()}}class jt{static of(e){if(jt.isEmpty(e))throw new Error("Optional.of doesn't accept undefined or null values. Use Optional.ofNullable instead");return new jt(e)}static ofNullable(e){return new jt(e)}static empty(){return new jt(null)}static isEmpty(e){return null==e||void 0===e}constructor(e){this.value=e}get(){if(this.isPresent())return this.value;throw new Error("Exception while trying to get the value of an empty Optional")}isPresent(){return!jt.isEmpty(this.value)}isNotPresent(){return!this.isPresent()}orElse(e){return this.isPresent()?this.value:e}}!function(e){e.SEARCH_LOCATION_FOCUS="search-location-focus",e.SEARCH_LOCATION_SELECT="search-location-select",e.SEARCH_LOCATION_BLUR="search-location-blur",e.RECOMMENDATION_SEEN="recommendation-seen",e.RECOMMENDATION_SELECTED="recommendation-selected"}(Dt||(Dt={}));class Bt{constructor(e){this.isEgtaLoggingEnabled=!0,this.analytics=e,Bt.sessionStore||this.initSessionStore()}initLogger(e){this.initSessionStore(),this.initializeInputField();const{client:t,subLob:n,lob:r,locale:i,siteId:o,personalize:s,enableEgta:a}=e;Bt.sessionStore.metadata={client:t,subLob:n,lob:r,locale:i,siteId:o,personalize:s,enableEgta:a}}logTypeaheadRequest(e){Bt.sessionStore&&(Bt.sessionStore.query=e)}logTypeaheadResponse(e){Bt.sessionStore.response=e,Bt.sessionStore.selected=void 0;const t=At.getRecommendationSeenMessage(e,Bt.sessionStore.fieldName||"");t&&this.trackEventToUisPrime(this.getReferrerId(Dt.RECOMMENDATION_SEEN),Dt.RECOMMENDATION_SEEN,!1,[t])}logTypeaheadOpen(e){Bt.sessionStore.prefill=e,this.initializeInputField(),this.isEgtaLoggingEnabled&&this.trackEventToUisPrime(this.getReferrerId(Dt.SEARCH_LOCATION_FOCUS),Dt.SEARCH_LOCATION_FOCUS,!1,[new Mt(kt.FOCUS,Bt.sessionStore).getTypeaheadEventMessage()])}logSuggestionSelected(e){const t="CURRENT_LOCATION"===(null==e?void 0:e.type);jt.ofNullable(e).isPresent()&&this.essResponseIsNotEmpty()&&(Bt.sessionStore.selected=Bt.sessionStore.response.sr[e.index-1]);const n=t?kt.CURRENT_LOCATION:kt.SELECT,r=new Mt(n,Bt.sessionStore),i=At.getRecommendationClickedMessage(Bt.sessionStore.selected,Bt.sessionStore.response,Bt.sessionStore.fieldName||"");if(this.isEgtaLoggingEnabled){const e=[r.getTypeaheadEventMessage()];i&&this.trackEventToUisPrime(this.getReferrerId(Dt.RECOMMENDATION_SELECTED),Dt.RECOMMENDATION_SELECTED,!1,[i]),this.trackEventToUisPrime(this.getReferrerId(),Dt.SEARCH_LOCATION_SELECT,!1,e)}return r.getFlattenedJsonMessage()}logTypeaheadBlurEvent(){var e;const t=this.buildUisPrimeMessages();this.isEgtaLoggingEnabled&&t.push(new Mt(kt.BLUR,Bt.sessionStore).getTypeaheadEventMessage()),this.trackEventToUisPrime(this.getReferrerId(),Dt.SEARCH_LOCATION_BLUR,!1,t),Bt.sessionStore.noOfBackspaces=0,null===(e=Bt.sessionStore.input)||void 0===e||e.removeEventListener("keydown",this.keyDown)}isResolveNoSuggestionSelected(e){Bt.sessionStore.isResolve=e}logWizardSubmitEvent(){this.resetLoggerState()}trackEventToUisPrime(e,t,n,r){var i,o;try{null===(i=this.analytics)||void 0===i||i.trackEvent(e,t,null===(o=this.analytics)||void 0===o?void 0:o.omnitureData,null,n,r)}catch(e){It.logError(Object.assign(Object.assign({},e),{message:"Failed typeahead event tracking to UIS Prime"}))}}buildUisPrimeMessages(){return It.isOrigin(Bt.sessionStore.fieldName||"")?Bt.leg.origin=Object.assign({},Bt.sessionStore):Bt.leg.dest=Object.assign({},Bt.sessionStore),[...this.getTrackingDataEvents(),this.getSelectedSuggestionEvents()]}getTrackingDataEvents(){const e=this.getUserTypedQuery(Bt.sessionStore),t=e?e.length:0,n=[];return this.isASuggestionSelected()&&n.push(Object.freeze({messageContent:{name:"SearchLocationSelectionDepth",value:this.getSelectedSuggestionPosition()},schemaName:"events"})),Bt.sessionStore.response&&n.push(Object.freeze({messageContent:{name:"SearchLocationSearch",value:0},schemaName:"events"})),n.push(Object.freeze({messageContent:{name:"SearchLocationCharactersTyped",value:t},schemaName:"events"})),n}getSelectedSuggestionEvents(){const e=this.getSelectedSuggestionData("origin",Bt.leg.origin),t=this.getSelectedSuggestionData("dest",Bt.leg.dest);return Object.freeze({messageContent:{selectedSuggestions:[e,t]},schemaName:"allSelectedSuggestions"})}getSelectedSuggestionData(e,t){const n=null==t?void 0:t.selected,r="origin"!==e||t?(null==t?void 0:t.query)||(null==t?void 0:t.prefill)||"TANoneSelected":"OriginNotApplicable",i=this.getUserTypedQuery(Bt.sessionStore),o=n&&n.regionNames&&n.regionNames.lastSearchName||r;return{essRequestId:(Bt.sessionStore.response||{rid:"-"}).rid,lastSearchName:o,relation:n&&n.hierarchyInfo&&n.hierarchyInfo.relation&&n.hierarchyInfo.relation[0]||"-",searchField:e,sourceName:n?n.essId?n.essId.sourceName:n.sourceName?n.sourceName:"UNKNOWN":"UNKNOWN",stringSourceId:(n&&n.essId&&n.essId.sourceId||-1).toString(),suggestionType:n?n.type:"UNKNOWN",userHistory:!!n&&"USERHISTORY"===n.category,userTypedQuery:i}}getReferrerId(e){var t;if(e===Dt.RECOMMENDATION_SEEN)return"TYPEAHEAD.EGREC.RecSeen";if(e===Dt.RECOMMENDATION_SELECTED)return"TYPEAHEAD.EGREC.RecSelected";const n=null!==(t=Bt.sessionStore.metadata)&&void 0!==t?t:null,r=[];return r.push(this.getLaunchView(n.client||"")),r.push(this.getWizard(n.client||"")),r.push(n.lob||"Unknown"),r.push(this.getShortLob(n.lob||"",n.subLob)),r.push(n.locale||"-"),r.push(n.siteId||"-"),e===Dt.SEARCH_LOCATION_FOCUS?r.push("TAStart"):(r.push(this.getTypeaheadTrigger()),r.push(...this.getInstrumentationValue((n.lob||"").toLowerCase()))),r.join("|")}getLaunchView(e){const t=e.toLowerCase();return t.indexOf("home")>-1?"Home":t.indexOf("flight")>-1?"FLT":t.indexOf("hotels.search")>-1?"":t.indexOf("hotel")>-1?"HTL":t.indexOf("vacationrental")>-1?"VR":t.indexOf("pack")>-1?"PKG":t.indexOf("car")>-1?"CAR":t.indexOf("cru")>-1?"CRU":t.indexOf("lx")>-1?"LX":t.indexOf("rail")>-1?"RAIL":t.indexOf("open")>-1?"OPEN":t}getWizard(e){switch(e.toLowerCase()){case"hotels.search":case"flights.search":case"open.search":case"cars.search":case"lx.Search":case"packages.search":return"UpdateSearch";default:return"CoreWzd"}}getShortLob(e,t){switch(e.toLowerCase()){case"flights":return`F.${It.getSubLob(e,t)}`;case"hotels":return"H";case"packages":return It.getSubLob(e,t);case"activities":return"LX";case"cruises":return"CR";case"cars":return"C";default:return"-"}}getTypeaheadTrigger(){return this.essResponseIsNotEmpty()?""===Bt.sessionStore.response.q?this.isASuggestionSelected()?"TAShow.TAFocus":"TAShow.TANoSelection":this.isASuggestionSelected()?"TAShow.TASelection":"TAShow.TANoSelection":"TANoShow.TAPrevSearch"}getInstrumentationValue(e){const t=[];let n="-";this.getSelectedSuggestionPosition()>=0&&(n=this.getSelectedSuggestionPosition().toString());const r=this.essResponseIsNotEmpty()?Bt.sessionStore.response.sr.length:0;return"flights"===e||"hotels"===e?t.push(`${this.getHierarchyType(Bt.sessionStore.selected)}#${n}`):t.push(`L#${n}`),t.push(`${this.getUserTypedQuery(Bt.sessionStore)&&Bt.sessionStore.metadata&&Bt.sessionStore.metadata.enableEgta?"EGTA":"ESS"}#${r}`),t.push(`UH#${this.getNumberOfUserHistorySuggestions()}`),t}getHierarchyType(e){if(jt.ofNullable(e).isPresent()){if(this.isChild(e))return"CL";if(this.isParent(e))return"PL"}return"DL"}isChild(e){if(jt.ofNullable(e).isNotPresent())return!1;const t=e&&e.hierarchyInfo&&e.hierarchyInfo.relation||[];return 0!==t.length&&t.indexOf("child")>=0}isParent(e){if(jt.ofNullable(e).isNotPresent()||!this.essResponseIsNotEmpty())return!1;const t=parseInt(jt.ofNullable(e.index).orElse("-1"),10);return!(t<0||Bt.sessionStore.response.sr.length<=t+1)&&this.isChild(Bt.sessionStore.response.sr[t+1])}getNumberOfUserHistorySuggestions(){return Bt.sessionStore.metadata&&Bt.sessionStore.metadata.personalize?this.essResponseIsNotEmpty()?Bt.sessionStore.response.sr.filter((e=>"USERHISTORY"===e.category)).length.toString():"0":"-"}essResponseIsNotEmpty(){return Bt.sessionStore.response&&Bt.sessionStore.response.sr&&Bt.sessionStore.response.sr.length>0}isASuggestionSelected(){return!!Bt.sessionStore.selected}getUserTypedQuery(e){return e.query===e.prefill?"":e.query}getSelectedSuggestionPosition(){if(!this.isASuggestionSelected()||jt.ofNullable(Bt.sessionStore.selected.index).isNotPresent())return-1;try{return parseInt(Bt.sessionStore.selected.index,10)+1}catch(G){return-1}}resetLoggerState(){this.initSessionStore(),Bt.leg={}}keyDown(e){(e.key&&["Delete","Backspace"].indexOf(e.key)>-1||e.keyCode&&[8,46].indexOf(e.keyCode)>-1)&&(Bt.sessionStore.noOfBackspaces+=1)}initializeInputField(){var e,t;Bt.sessionStore.input=It.getDomElement(),Bt.sessionStore.fieldName=It.getInputElementId(Bt.sessionStore.input),null===(e=Bt.sessionStore.input)||void 0===e||e.removeEventListener("keydown",this.keyDown),null===(t=Bt.sessionStore.input)||void 0===t||t.addEventListener("keydown",this.keyDown)}initSessionStore(){Bt.sessionStore={metadata:{lob:It.UNKNOWN},noOfBackspaces:0,query:"",href:window.location.href}}}Bt.leg={};class Ft{constructor(e,t,n,r){try{Et.init(r),It.init(t),this.tel=new Bt(e),this.cml=new Rt(t)}catch(e){It.logError(e)}}initLogger(e){this.metadata=e}logTypeaheadOpen(e){var t,n,r,i;try{null===(t=this.tel)||void 0===t||t.initLogger(this.metadata),null===(n=this.cml)||void 0===n||n.initLogger(this.metadata),null===(r=this.tel)||void 0===r||r.logTypeaheadOpen(e),null===(i=this.cml)||void 0===i||i.logTypeaheadOpen(e)}catch(e){It.logError(e)}}logTypeaheadRequest(e){var t,n;try{null===(t=this.tel)||void 0===t||t.logTypeaheadRequest(e),null===(n=this.cml)||void 0===n||n.logTypeaheadRequest(e)}catch(e){It.logError(e)}}logTypeaheadResponse(e){var t;try{this.prevResponse=this.response,this.response=e,null===(t=this.cml)||void 0===t||t.logTypeaheadResponse(e)}catch(e){It.logError(e)}}logSuggestionShown(e){var t,n,r,i;try{this.shownResponse=e===(null===(t=this.response)||void 0===t?void 0:t.q)?this.response:e===(null===(n=this.prevResponse)||void 0===n?void 0:n.q)?this.prevResponse:void 0,this.shownResponse&&(null===(r=this.tel)||void 0===r||r.logTypeaheadResponse(this.shownResponse),null===(i=this.cml)||void 0===i||i.logSuggestionShown(this.shownResponse))}catch(e){It.logError(e)}}logSuggestionSelected(e){var t,n,r;const i=e;try{if(this.shownResponse&&i){"CATEGORIZED"===i.displayType&&(i.index+=1);const e=null===(t=this.tel)||void 0===t?void 0:t.logSuggestionSelected(i);null===(n=this.cml)||void 0===n||n.logSuggestionSelected(i,e),this.resetResponse()}e||null===(r=this.tel)||void 0===r||r.isResolveNoSuggestionSelected(!0)}catch(e){It.logError(e)}}logResponse(e){var t,n;try{e.ok||null===(t=this.cml)||void 0===t||t.logError(e.status),null===(n=this.cml)||void 0===n||n.logResponse(e)}catch(e){It.logError(e)}}logTypeaheadBlurEvent(){var e,t;try{null===(e=this.tel)||void 0===e||e.logTypeaheadBlurEvent(),null===(t=this.cml)||void 0===t||t.logTypeaheadClientMetrics(),this.resetResponse()}catch(G){It.logError(G)}}logWizardSubmitEvent(){var e;try{null===(e=this.tel)||void 0===e||e.logWizardSubmitEvent()}catch(G){It.logError(G)}}resetResponse(){this.prevResponse=void 0,this.response=void 0,this.shownResponse=void 0}}})();var B=j.n7,F=j.i_,H=j.hI,z=j.CG,G=j.r,V=j.LG},56191:function(e){e.exports=function(e){var t=[];return t.toString=function(){return this.map((function(t){var n="",r=void 0!==t[5];return t[4]&&(n+="@supports (".concat(t[4],") {")),t[2]&&(n+="@media ".concat(t[2]," {")),r&&(n+="@layer".concat(t[5].length>0?" ".concat(t[5]):""," {")),n+=e(t),r&&(n+="}"),t[2]&&(n+="}"),t[4]&&(n+="}"),n})).join("")},t.i=function(e,n,r,i,o){"string"==typeof e&&(e=[[null,e,void 0]]);var s={};if(r)for(var a=0;a<this.length;a++){var c=this[a][0];null!=c&&(s[c]=!0)}for(var u=0;u<e.length;u++){var l=[].concat(e[u]);r&&s[l[0]]||(void 0!==o&&(void 0===l[5]||(l[1]="@layer".concat(l[5].length>0?" ".concat(l[5]):""," {").concat(l[1],"}")),l[5]=o),n&&(l[2]?(l[1]="@media ".concat(l[2]," {").concat(l[1],"}"),l[2]=n):l[2]=n),i&&(l[4]?(l[1]="@supports (".concat(l[4],") {").concat(l[1],"}"),l[4]=i):l[4]="".concat(i)),t.push(l))}},t}},17118:function(e){e.exports=function(e){return e[1]}},48260:function(e,t){Object.defineProperty(t,"__esModule",{value:!0})},16665:function(e,t){Object.defineProperty(t,"__esModule",{value:!0})},35470:function(e,t){Object.defineProperty(t,"__esModule",{value:!0})},30969:function(e,t){Object.defineProperty(t,"__esModule",{value:!0})},55287:function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.isMsWindow=void 0;var n=["decrypt","digest","encrypt","exportKey","generateKey","importKey","sign","verify"];t.isMsWindow=function(e){if(function(e){return"MSInputMethodContext"in e&&"msCrypto"in e}(e)&&void 0!==e.msCrypto.subtle){var t=e.msCrypto,r=t.getRandomValues,i=t.subtle;return n.map((function(e){return i[e]})).concat(r).every((function(e){return"function"==typeof e}))}return!1}},40087:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=n(70655);r.__exportStar(n(48260),t),r.__exportStar(n(16665),t),r.__exportStar(n(35470),t),r.__exportStar(n(30969),t),r.__exportStar(n(55287),t)},57333:function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.EMPTY_DATA_SHA_256=t.SHA_256_HMAC_ALGO=t.SHA_256_HASH=void 0,t.SHA_256_HASH={name:"SHA-256"},t.SHA_256_HMAC_ALGO={name:"HMAC",hash:t.SHA_256_HASH},t.EMPTY_DATA_SHA_256=new Uint8Array([227,176,196,66,152,252,28,20,154,251,244,200,153,111,185,36,39,174,65,228,100,155,147,76,164,149,153,27,120,82,184,85])},52769:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.Sha256=void 0;var r=n(63479),i=n(38889),o=n(41938),s=n(21),a=n(40087),c=n(56495),u=n(17658),l=function(){function e(e){(0,s.supportsWebCrypto)((0,c.locateWindow)())?this.hash=new i.Sha256(e):(0,a.isMsWindow)((0,c.locateWindow)())?this.hash=new r.Sha256(e):this.hash=new o.Sha256(e)}return e.prototype.update=function(e,t){this.hash.update((0,u.convertToBuffer)(e))},e.prototype.digest=function(){return this.hash.digest()},e.prototype.reset=function(){this.hash.reset()},e}();t.Sha256=l},63479:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.Sha256=void 0;var r=n(38036),i=n(57333),o=n(62084),s=n(56495),a=function(){function e(e){this.secret=e,this.reset()}return e.prototype.update=function(e){var t=this;(0,r.isEmptyData)(e)||(this.operation=this.operation.then((function(n){return n.onerror=function(){t.operation=Promise.reject(new Error("Error encountered updating hash"))},n.process(c(e)),n})),this.operation.catch((function(){})))},e.prototype.digest=function(){return this.operation.then((function(e){return new Promise((function(t,n){e.onerror=function(){n(new Error("Error encountered finalizing hash"))},e.oncomplete=function(){e.result&&t(new Uint8Array(e.result)),n(new Error("Error encountered finalizing hash"))},e.finish()}))}))},e.prototype.reset=function(){var e;this.secret?(this.operation=(e=this.secret,new Promise((function(t,n){var r=(0,s.locateWindow)().msCrypto.subtle.importKey("raw",c(e),i.SHA_256_HMAC_ALGO,!1,["sign"]);r.oncomplete=function(){r.result&&t(r.result),n(new Error("ImportKey completed without importing key."))},r.onerror=function(){n(new Error("ImportKey failed to import key."))}}))).then((function(e){return(0,s.locateWindow)().msCrypto.subtle.sign(i.SHA_256_HMAC_ALGO,e)})),this.operation.catch((function(){}))):this.operation=Promise.resolve((0,s.locateWindow)().msCrypto.subtle.digest("SHA-256"))},e}();function c(e){return"string"==typeof e?(0,o.fromUtf8)(e):ArrayBuffer.isView(e)?new Uint8Array(e.buffer,e.byteOffset,e.byteLength/Uint8Array.BYTES_PER_ELEMENT):new Uint8Array(e)}t.Sha256=a},77643:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.WebCryptoSha256=t.Ie11Sha256=void 0,n(70655).__exportStar(n(52769),t);var r=n(63479);Object.defineProperty(t,"Ie11Sha256",{enumerable:!0,get:function(){return r.Sha256}});var i=n(38889);Object.defineProperty(t,"WebCryptoSha256",{enumerable:!0,get:function(){return i.Sha256}})},38036:function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.isEmptyData=void 0,t.isEmptyData=function(e){return"string"==typeof e?0===e.length:0===e.byteLength}},38889:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.Sha256=void 0;var r=n(17658),i=n(57333),o=n(56495),s=function(){function e(e){this.toHash=new Uint8Array(0),this.secret=e,this.reset()}return e.prototype.update=function(e){if(!(0,r.isEmptyData)(e)){var t=(0,r.convertToBuffer)(e),n=new Uint8Array(this.toHash.byteLength+t.byteLength);n.set(this.toHash,0),n.set(t,this.toHash.byteLength),this.toHash=n}},e.prototype.digest=function(){var e=this;return this.key?this.key.then((function(t){return(0,o.locateWindow)().crypto.subtle.sign(i.SHA_256_HMAC_ALGO,t,e.toHash).then((function(e){return new Uint8Array(e)}))})):(0,r.isEmptyData)(this.toHash)?Promise.resolve(i.EMPTY_DATA_SHA_256):Promise.resolve().then((function(){return(0,o.locateWindow)().crypto.subtle.digest(i.SHA_256_HASH,e.toHash)})).then((function(e){return Promise.resolve(new Uint8Array(e))}))},e.prototype.reset=function(){var e=this;this.toHash=new Uint8Array(0),this.secret&&void 0!==this.secret&&(this.key=new Promise((function(t,n){(0,o.locateWindow)().crypto.subtle.importKey("raw",(0,r.convertToBuffer)(e.secret),i.SHA_256_HMAC_ALGO,!1,["sign"]).then(t,n)})),this.key.catch((function(){})))},e}();t.Sha256=s},10914:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.RawSha256=void 0;var r=n(89945),i=function(){function e(){this.state=Int32Array.from(r.INIT),this.temp=new Int32Array(64),this.buffer=new Uint8Array(64),this.bufferLength=0,this.bytesHashed=0,this.finished=!1}return e.prototype.update=function(e){if(this.finished)throw new Error("Attempted to update an already finished hash.");var t=0,n=e.byteLength;if(this.bytesHashed+=n,8*this.bytesHashed>r.MAX_HASHABLE_LENGTH)throw new Error("Cannot hash more than 2^53 - 1 bits");for(;n>0;)this.buffer[this.bufferLength++]=e[t++],n--,this.bufferLength===r.BLOCK_SIZE&&(this.hashBuffer(),this.bufferLength=0)},e.prototype.digest=function(){if(!this.finished){var e=8*this.bytesHashed,t=new DataView(this.buffer.buffer,this.buffer.byteOffset,this.buffer.byteLength),n=this.bufferLength;if(t.setUint8(this.bufferLength++,128),n%r.BLOCK_SIZE>=r.BLOCK_SIZE-8){for(var i=this.bufferLength;i<r.BLOCK_SIZE;i++)t.setUint8(i,0);this.hashBuffer(),this.bufferLength=0}for(i=this.bufferLength;i<r.BLOCK_SIZE-8;i++)t.setUint8(i,0);t.setUint32(r.BLOCK_SIZE-8,Math.floor(e/4294967296),!0),t.setUint32(r.BLOCK_SIZE-4,e),this.hashBuffer(),this.finished=!0}var o=new Uint8Array(r.DIGEST_LENGTH);for(i=0;i<8;i++)o[4*i]=this.state[i]>>>24&255,o[4*i+1]=this.state[i]>>>16&255,o[4*i+2]=this.state[i]>>>8&255,o[4*i+3]=this.state[i]>>>0&255;return o},e.prototype.hashBuffer=function(){for(var e=this.buffer,t=this.state,n=t[0],i=t[1],o=t[2],s=t[3],a=t[4],c=t[5],u=t[6],l=t[7],d=0;d<r.BLOCK_SIZE;d++){if(d<16)this.temp[d]=(255&e[4*d])<<24|(255&e[4*d+1])<<16|(255&e[4*d+2])<<8|255&e[4*d+3];else{var f=this.temp[d-2],h=(f>>>17|f<<15)^(f>>>19|f<<13)^f>>>10,p=((f=this.temp[d-15])>>>7|f<<25)^(f>>>18|f<<14)^f>>>3;this.temp[d]=(h+this.temp[d-7]|0)+(p+this.temp[d-16]|0)}var m=(((a>>>6|a<<26)^(a>>>11|a<<21)^(a>>>25|a<<7))+(a&c^~a&u)|0)+(l+(r.KEY[d]+this.temp[d]|0)|0)|0,g=((n>>>2|n<<30)^(n>>>13|n<<19)^(n>>>22|n<<10))+(n&i^n&o^i&o)|0;l=u,u=c,c=a,a=s+m|0,s=o,o=i,i=n,n=m+g|0}t[0]+=n,t[1]+=i,t[2]+=o,t[3]+=s,t[4]+=a,t[5]+=c,t[6]+=u,t[7]+=l},e}();t.RawSha256=i},89945:function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.MAX_HASHABLE_LENGTH=t.INIT=t.KEY=t.DIGEST_LENGTH=t.BLOCK_SIZE=void 0,t.BLOCK_SIZE=64,t.DIGEST_LENGTH=32,t.KEY=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),t.INIT=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],t.MAX_HASHABLE_LENGTH=Math.pow(2,53)-1},41938:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),n(70655).__exportStar(n(65430),t)},65430:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.Sha256=void 0;var r=n(70655),i=n(89945),o=n(10914),s=n(17658),a=function(){function e(e){this.secret=e,this.hash=new o.RawSha256,this.reset()}return e.prototype.update=function(e){if(!(0,s.isEmptyData)(e)&&!this.error)try{this.hash.update((0,s.convertToBuffer)(e))}catch(t){this.error=t}},e.prototype.digestSync=function(){if(this.error)throw this.error;return this.outer?(this.outer.finished||this.outer.update(this.hash.digest()),this.outer.digest()):this.hash.digest()},e.prototype.digest=function(){return r.__awaiter(this,void 0,void 0,(function(){return r.__generator(this,(function(e){return[2,this.digestSync()]}))}))},e.prototype.reset=function(){if(this.hash=new o.RawSha256,this.secret){this.outer=new o.RawSha256;var e=function(e){var t=(0,s.convertToBuffer)(e);if(t.byteLength>i.BLOCK_SIZE){var n=new o.RawSha256;n.update(t),t=n.digest()}var r=new Uint8Array(i.BLOCK_SIZE);return r.set(t),r}(this.secret),t=new Uint8Array(i.BLOCK_SIZE);t.set(e);for(var n=0;n<i.BLOCK_SIZE;n++)e[n]^=54,t[n]^=92;this.hash.update(e),this.outer.update(t);for(n=0;n<e.byteLength;n++)e[n]=0}},e}();t.Sha256=a},31529:function(e,t,n){t.f=void 0;var r=n(77643),i=n(17658),o=n(49502),s=function(){function e(e){!function(){try{return!!n(62709).createHash}catch(e){return!1}}()?this.hash=new r.Sha256(e):this.hash=new o.NodeHash("sha256",e)}return e.prototype.update=function(e,t){this.hash.update((0,i.convertToBuffer)(e))},e.prototype.digest=function(){return this.hash.digest()},e.prototype.reset=function(){this.hash.reset()},e}();t.f=s},49502:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.NodeHash=void 0;var r=n(37844),i=function(){function e(e,t){this.secret=t,this.nodeHash=new r.Hash("sha256",t)}return e.prototype.digest=function(){return this.nodeHash.digest()},e.prototype.reset=function(){this.nodeHash=new r.Hash("sha256",this.secret)},e.prototype.update=function(e){this.nodeHash.update(e)},e}();t.NodeHash=i},21:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),n(70655).__exportStar(n(97787),t)},97787:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.supportsZeroByteGCM=t.supportsSubtleCrypto=t.supportsSecureRandom=t.supportsWebCrypto=void 0;var r=n(70655),i=["decrypt","digest","encrypt","exportKey","generateKey","importKey","sign","verify"];function o(e){return"object"==typeof e&&"object"==typeof e.crypto&&"function"==typeof e.crypto.getRandomValues}function s(e){return e&&i.every((function(t){return"function"==typeof e[t]}))}t.supportsWebCrypto=function(e){return!(!o(e)||"object"!=typeof e.crypto.subtle)&&s(e.crypto.subtle)},t.supportsSecureRandom=o,t.supportsSubtleCrypto=s,t.supportsZeroByteGCM=function(e){return r.__awaiter(this,void 0,void 0,(function(){var t;return r.__generator(this,(function(n){switch(n.label){case 0:if(!s(e))return[2,!1];n.label=1;case 1:return n.trys.push([1,4,,5]),[4,e.generateKey({name:"AES-GCM",length:128},!1,["encrypt"])];case 2:return t=n.sent(),[4,e.encrypt({name:"AES-GCM",iv:new Uint8Array(Array(12)),additionalData:new Uint8Array(Array(16)),tagLength:128},t,new Uint8Array(0))];case 3:return[2,16===n.sent().byteLength];case 4:return n.sent(),[2,!1];case 5:return[2]}}))}))}},51106:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.convertToBuffer=void 0;var r=n(62084),i="undefined"!=typeof Buffer&&Buffer.from?function(e){return Buffer.from(e,"utf8")}:r.fromUtf8;t.convertToBuffer=function(e){return e instanceof Uint8Array?e:"string"==typeof e?i(e):ArrayBuffer.isView(e)?new Uint8Array(e.buffer,e.byteOffset,e.byteLength/Uint8Array.BYTES_PER_ELEMENT):new Uint8Array(e)}},17658:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.uint32ArrayFrom=t.numToUint8=t.isEmptyData=t.convertToBuffer=void 0;var r=n(51106);Object.defineProperty(t,"convertToBuffer",{enumerable:!0,get:function(){return r.convertToBuffer}});var i=n(84304);Object.defineProperty(t,"isEmptyData",{enumerable:!0,get:function(){return i.isEmptyData}});var o=n(22174);Object.defineProperty(t,"numToUint8",{enumerable:!0,get:function(){return o.numToUint8}});var s=n(81558);Object.defineProperty(t,"uint32ArrayFrom",{enumerable:!0,get:function(){return s.uint32ArrayFrom}})},84304:function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.isEmptyData=void 0,t.isEmptyData=function(e){return"string"==typeof e?0===e.length:0===e.byteLength}},22174:function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.numToUint8=void 0,t.numToUint8=function(e){return new Uint8Array([(4278190080&e)>>24,(16711680&e)>>16,(65280&e)>>8,255&e])}},81558:function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.uint32ArrayFrom=void 0,t.uint32ArrayFrom=function(e){if(!Uint32Array.from){for(var t=new Uint32Array(e.length),n=0;n<e.length;)t[n]=e[n],n+=1;return t}return Uint32Array.from(e)}},56495:function(e,t,n){n.r(t),n.d(t,{locateWindow:function(){return r}});function r(){return window}},62084:function(e,t,n){n.r(t),n.d(t,{fromUtf8:function(){return r},toUtf8:function(){return i}});const r=e=>"function"==typeof TextEncoder?function(e){return(new TextEncoder).encode(e)}(e):(e=>{const t=[];for(let n=0,r=e.length;n<r;n++){const r=e.charCodeAt(n);if(r<128)t.push(r);else if(r<2048)t.push(r>>6|192,63&r|128);else if(n+1<e.length&&55296==(64512&r)&&56320==(64512&e.charCodeAt(n+1))){const i=65536+((1023&r)<<10)+(1023&e.charCodeAt(++n));t.push(i>>18|240,i>>12&63|128,i>>6&63|128,63&i|128)}else t.push(r>>12|224,r>>6&63|128,63&r|128)}return Uint8Array.from(t)})(e),i=e=>"function"==typeof TextDecoder?function(e){return new TextDecoder("utf-8").decode(e)}(e):(e=>{let t="";for(let n=0,r=e.length;n<r;n++){const r=e[n];if(r<128)t+=String.fromCharCode(r);else if(192<=r&&r<224){const i=e[++n];t+=String.fromCharCode((31&r)<<6|63&i)}else if(240<=r&&r<365){const i="%"+[r,e[++n],e[++n],e[++n]].map((e=>e.toString(16))).join("%");t+=decodeURIComponent(i)}else t+=String.fromCharCode((15&r)<<12|(63&e[++n])<<6|63&e[++n])}return t})(e)},36254:function(e,t,n){n.r(t),n.d(t,{PageDataFields:function(){return a},PageDataProvider:function(){return o},usePageData:function(){return s}});var r=n(67294),i=r.createContext({pageDataContext:{}}),o=function(e){var t=e.children,n=e.pageDataContext;return r.createElement(i.Provider,{value:{pageDataContext:n}},t||null)};o.displayName="PageDataProvider";var s=function(){return r.useContext(i)},a=function(e){this.pageDataContext={title:e.title,pageId:e.pageId,pageName:e.pageName,baseUrl:e.baseUrl,appName:e.appName}}},60610:function(e,t,n){n.d(t,{L:function(){return o},t:function(){return s}});var r=n(67294),i=r.createContext({context:{}}),o=function(e){var t=e.children,n={context:e.context};return r.createElement(i.Provider,{value:n},t||null)};o.displayName="PlatformContextProvider";var s=function(){return r.useContext(i)}},55645:function(e,t,n){function r(){if("object"==typeof globalThis)return globalThis;Object.defineProperty(Object.prototype,"_dd_temp_",{get:function(){return this},configurable:!0});var e=_dd_temp_;return delete Object.prototype._dd_temp_,"object"!=typeof e&&(e="object"==typeof self?self:window),e}function i(e,t){var n,i=r();return i.Zone&&"function"==typeof i.Zone.__symbol__&&(n=e[i.Zone.__symbol__(t)]),n||(n=e[t]),n}n.d(t,{J:function(){return pn},v:function(){return os}});var o={log:"log",debug:"debug",info:"info",warn:"warn",error:"error"},s=console,a={};Object.keys(o).forEach((function(e){a[e]=s[e]}));var c,u="Datadog Browser SDK:",l={debug:a.debug.bind(s,u),log:a.log.bind(s,u),info:a.info.bind(s,u),warn:a.warn.bind(s,u),error:a.error.bind(s,u)},d=function(e,t,n){if(n||2===arguments.length)for(var r,i=0,o=t.length;i<o;i++)!r&&i in t||(r||(r=Array.prototype.slice.call(t,0,i)),r[i]=t[i]);return e.concat(r||Array.prototype.slice.call(t))},f=!1;function h(e){f=e}function p(e){return function(){return m(e,this,arguments)}}function m(e,t,n){try{return e.apply(t,n)}catch(r){if(g(r),c)try{c(r)}catch(r){g(r)}}}function g(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];f&&l.error.apply(l,d(["[MONITOR]"],e,!1))}function v(e,t){return i(r(),"setTimeout")(p(e),t)}function y(e){i(r(),"clearTimeout")(e)}function b(e,t){return i(r(),"setInterval")(p(e),t)}function E(e){i(r(),"clearInterval")(e)}function w(e,t,n){var r,i,o=!n||void 0===n.leading||n.leading,s=!n||void 0===n.trailing||n.trailing,a=!1;return{throttled:function(){for(var n=[],c=0;c<arguments.length;c++)n[c]=arguments[c];a?r=n:(o?e.apply(void 0,n):r=n,a=!0,i=v((function(){s&&r&&e.apply(void 0,r),a=!1,r=void 0}),t))},cancel:function(){y(i),a=!1,r=void 0}}}function S(){}function T(e,t){return function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];try{return e.apply(void 0,n)}catch(i){l.error(t,i)}}}function R(e,t){return-1!==e.indexOf(t)}function _(e){if(Array.from)return Array.from(e);var t=[];if(e instanceof Set)e.forEach((function(e){return t.push(e)}));else for(var n=0;n<e.length;n++)t.push(e[n]);return t}function O(e,t){for(var n=0;n<e.length;n+=1){var r=e[n];if(t(r,n))return r}}function x(e){return Object.keys(e).map((function(t){return e[t]}))}function C(e){return Object.keys(e).map((function(t){return[t,e[t]]}))}function A(e,t){return e.slice(0,t.length)===t}function I(e){return window.CSS&&window.CSS.escape?window.CSS.escape(e):e.replace(/([\0-\x1f\x7f]|^-?\d)|^-$|[^\x80-\uFFFF\w-]/g,(function(e,t){return t?"\0"===e?"":"".concat(e.slice(0,-1),"\\").concat(e.charCodeAt(e.length-1).toString(16)," "):"\\".concat(e)}))}function k(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];return t.forEach((function(t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})),e}var N=1024,L=1024*N,P=/[^\u0000-\u007F]/;function U(e){return P.test(e)?void 0!==window.TextEncoder?(new TextEncoder).encode(e).length:new Blob([e]).size:e.length}function D(e){return null===e?"null":Array.isArray(e)?"array":typeof e}function M(e,t,n){if(void 0===n&&(n=function(){if("undefined"!=typeof WeakSet){var e=new WeakSet;return{hasAlreadyBeenSeen:function(t){var n=e.has(t);return n||e.add(t),n}}}var t=[];return{hasAlreadyBeenSeen:function(e){var n=t.indexOf(e)>=0;return n||t.push(e),n}}}()),void 0===t)return e;if("object"!=typeof t||null===t)return t;if(t instanceof Date)return new Date(t.getTime());if(t instanceof RegExp){var r=t.flags||[t.global?"g":"",t.ignoreCase?"i":"",t.multiline?"m":"",t.sticky?"y":"",t.unicode?"u":""].join("");return new RegExp(t.source,r)}if(!n.hasAlreadyBeenSeen(t)){if(Array.isArray(t)){for(var i=Array.isArray(e)?e:[],o=0;o<t.length;++o)i[o]=M(i[o],t[o],n);return i}var s="object"===D(e)?e:{};for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(s[a]=M(s[a],t[a],n));return s}}function j(e){return M(void 0,e)}function B(){for(var e,t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];for(var r=0,i=t;r<i.length;r++){var o=i[r];null!=o&&(e=M(e,o))}return e}function F(e,t,n){if("object"!=typeof e||null===e)return JSON.stringify(e);var r=H(Object.prototype),i=H(Array.prototype),o=H(Object.getPrototypeOf(e)),s=H(e);try{return JSON.stringify(e,t,n)}catch(W){return"<error: unable to serialize object>"}finally{r(),i(),o(),s()}}function H(e){var t=e,n=t.toJSON;return n?(delete t.toJSON,function(){t.toJSON=n}):S}var z=220*N,G="$",V=3;function K(e,t){var n;void 0===t&&(t=z);var r=H(Object.prototype),i=H(Array.prototype),o=[],s=new WeakMap,a=q(e,G,void 0,o,s),c=(null===(n=JSON.stringify(a))||void 0===n?void 0:n.length)||0;if(!(c>t)){for(;o.length>0&&c<t;){var u=o.shift(),l=0;if(Array.isArray(u.source))for(var d=0;d<u.source.length;d++){if(c+=void 0!==(f=q(u.source[d],u.path,d,o,s))?JSON.stringify(f).length:4,c+=l,l=1,c>t){$(t,"truncated",e);break}u.target[d]=f}else for(var d in u.source)if(Object.prototype.hasOwnProperty.call(u.source,d)){var f;if(void 0!==(f=q(u.source[d],u.path,d,o,s))&&(c+=JSON.stringify(f).length+l+d.length+V,l=1),c>t){$(t,"truncated",e);break}u.target[d]=f}}return r(),i(),a}$(t,"discarded",e)}function q(e,t,n,r,i){var o=function(e){var t=e;if(t&&"function"==typeof t.toJSON)try{return t.toJSON()}catch(W){}return e}(e);if(!o||"object"!=typeof o)return function(e){if("bigint"==typeof e)return"[BigInt] ".concat(e.toString());if("function"==typeof e)return"[Function] ".concat(e.name||"unknown");if("symbol"==typeof e)return"[Symbol] ".concat(e.description||e.toString());return e}(o);var s=function(e){try{if(e instanceof Event)return{isTrusted:e.isTrusted};var t=Object.prototype.toString.call(e).match(/\[object (.*)\]/);if(t&&t[1])return"[".concat(t[1],"]")}catch(W){}return"[Unserializable]"}(o);if("[Object]"!==s&&"[Array]"!==s&&"[Error]"!==s)return s;var a=e;if(i.has(a))return"[Reference seen at ".concat(i.get(a),"]");var c=void 0!==n?"".concat(t,".").concat(n):t,u=Array.isArray(o)?[]:{};return i.set(a,c),r.push({source:o,target:u,path:c}),u}function $(e,t,n){l.warn("The data provided has been ".concat(t," as it is over the limit of ").concat(e," characters:"),n)}var W,Y=function(){function e(e){this.onFirstSubscribe=e,this.observers=[]}return e.prototype.subscribe=function(e){var t=this;return!this.observers.length&&this.onFirstSubscribe&&(this.onLastUnsubscribe=this.onFirstSubscribe()||void 0),this.observers.push(e),{unsubscribe:function(){t.observers=t.observers.filter((function(t){return e!==t})),!t.observers.length&&t.onLastUnsubscribe&&t.onLastUnsubscribe()}}},e.prototype.notify=function(e){this.observers.forEach((function(t){return t(e)}))},e}();function Z(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=new Y((function(){var t=e.map((function(e){return e.subscribe((function(e){return n.notify(e)}))}));return function(){return t.forEach((function(e){return e.unsubscribe()}))}}));return n}var Q=3*N,X=((W={})[0]="feature flag evaluation",W[1]="user",W[2]="global context",W[3]="logger context",W);function J(e,t){return e>Q&&(l.warn("The ".concat(X[t]," data exceeds the recommended ").concat(Q/N,"KiB threshold. More details: https://docs.datadoghq.com/real_user_monitoring/browser/troubleshooting/#customer-data-exceeds-the-recommended-3kib-warning")),!0)}var ee=200;function te(e,t){void 0===t&&(t=U);var n,r={},i=!1,o=new Y,s=w((function(r){n=t(F(r)),i||(i=J(n,e))}),ee).throttled,a={getBytesCount:function(){return n},getContext:function(){return j(r)},setContext:function(e){"object"===D(e)?(r=K(e),s(r)):a.clearContext(),o.notify()},setContextProperty:function(e,t){r[e]=K(t),s(r),o.notify()},removeContextProperty:function(e){delete r[e],s(r),o.notify()},clearContext:function(){r={},n=0,o.notify()},changeObservable:o};return a}var ne=function(){function e(){this.buffer=[]}return e.prototype.add=function(e){this.buffer.push(e)>500&&this.buffer.splice(0,1)},e.prototype.drain=function(){this.buffer.forEach((function(e){return e()})),this.buffer.length=0},e}();function re(e){return 0!==e&&100*Math.random()<=e}function ie(e,t){return+e.toFixed(t)}function oe(e){return se(e)&&e>=0&&e<=100}function se(e){return"number"==typeof e}var ae,ce=1e3,ue=60*ce,le=60*ue,de=365*(24*le);function fe(e){return{relative:e,timeStamp:he(e)}}function he(e){var t=me()-performance.now();return t>Te()?Math.round(we(t,e)):function(e){return Math.round(we(Te(),e))}(e)}function pe(e){return se(e)?ie(1e6*e,0):e}function me(){return(new Date).getTime()}function ge(){return me()}function ve(){return performance.now()}function ye(){return{relative:ve(),timeStamp:ge()}}function be(){return{relative:0,timeStamp:Te()}}function Ee(e,t){return t-e}function we(e,t){return e+t}function Se(e){return e-Te()}function Te(){return void 0===ae&&(ae=performance.timing.navigationStart),ae}function Re(e){return e?(parseInt(e,10)^16*Math.random()>>parseInt(e,10)/4).toString(16):"".concat(1e7,"-").concat(1e3,"-").concat(4e3,"-").concat(8e3,"-").concat(1e11).replace(/[018]/g,Re)}var _e,Oe,xe=/([\w-]+)\s*=\s*([^;]+)/g;function Ce(e,t){for(xe.lastIndex=0;;){var n=xe.exec(e);if(!n)break;if(n[1]===t)return n[2]}}function Ae(e,t,n){void 0===n&&(n="");var r=e.charCodeAt(t-1),i=r>=55296&&r<=56319?t+1:t;return e.length<=i?e:"".concat(e.slice(0,i)).concat(n)}function Ie(e,t,n,r){var i=new Date;i.setTime(i.getTime()+n);var o="expires=".concat(i.toUTCString()),s=r&&r.crossSite?"none":"strict",a=r&&r.domain?";domain=".concat(r.domain):"",c=r&&r.secure?";secure":"";document.cookie="".concat(e,"=").concat(t,";").concat(o,";path=/;samesite=").concat(s).concat(a).concat(c)}function ke(e){return Ce(document.cookie,e)}function Ne(e){return _e||(_e=function(e){var t=new Map;for(xe.lastIndex=0;;){var n=xe.exec(e);if(!n)break;t.set(n[1],n[2])}return t}(document.cookie)),_e.get(e)}function Le(e,t){Ie(e,"",0,t)}var Pe,Ue="datadog-synthetics-public-id",De="datadog-synthetics-result-id",Me="datadog-synthetics-injects-rum";function je(){return Boolean(window._DATADOG_SYNTHETICS_INJECTS_RUM||Ne(Me))}function Be(){var e=r().DatadogEventBridge;if(e)return{getAllowedWebViewHosts:function(){return JSON.parse(e.getAllowedWebViewHosts())},send:function(t,n){e.send(JSON.stringify({eventType:t,event:n}))}}}function Fe(e){var t;void 0===e&&(e=null===(t=r().location)||void 0===t?void 0:t.hostname);var n=Be();return!!n&&n.getAllowedWebViewHosts().some((function(t){return e===t||(n=e,r=".".concat(t),n.slice(-r.length)===r);var n,r}))}function He(e,t,n,r,i){return ze(e,t,[n],r,i)}function ze(e,t,n,r,o){var s=void 0===o?{}:o,a=s.once,c=s.capture,u=s.passive,l=p((function(t){(t.isTrusted||t.__ddIsTrusted||e.allowUntrustedEvents)&&(a&&h(),r(t))})),d=u?{capture:c,passive:u}:c,f=i(t,"addEventListener");function h(){var e=i(t,"removeEventListener");n.forEach((function(n){return e.call(t,n,l,d)}))}return n.forEach((function(e){return f.call(t,e,l,d)})),{stop:h}}!function(e){e.BEFORE_UNLOAD="beforeunload",e.CLICK="click",e.DBL_CLICK="dblclick",e.KEY_DOWN="keydown",e.LOAD="load",e.POP_STATE="popstate",e.SCROLL="scroll",e.TOUCH_START="touchstart",e.TOUCH_END="touchend",e.TOUCH_MOVE="touchmove",e.VISIBILITY_CHANGE="visibilitychange",e.PAGE_SHOW="pageshow",e.FREEZE="freeze",e.RESUME="resume",e.DOM_CONTENT_LOADED="DOMContentLoaded",e.POINTER_DOWN="pointerdown",e.POINTER_UP="pointerup",e.POINTER_CANCEL="pointercancel",e.HASH_CHANGE="hashchange",e.PAGE_HIDE="pagehide",e.MOUSE_DOWN="mousedown",e.MOUSE_UP="mouseup",e.MOUSE_MOVE="mousemove",e.FOCUS="focus",e.BLUR="blur",e.CONTEXT_MENU="contextmenu",e.RESIZE="resize",e.CHANGE="change",e.INPUT="input",e.PLAY="play",e.PAUSE="pause",e.SECURITY_POLICY_VIOLATION="securitypolicyviolation",e.SELECTION_CHANGE="selectionchange",e.STORAGE="storage"}(Pe||(Pe={}));var Ge="_dd_c",Ve=[];function Ke(e,t,n,r){void 0===r&&(r=U);var i=function(e,t){return"".concat(Ge,"_").concat(e,"_").concat(t)}(t,n),o=te(n,r);return s(),Ve.push(He(e,window,Pe.STORAGE,(function(e){var t=e.key;i===t&&s()}))),o.changeObservable.subscribe((function(){localStorage.setItem(i,JSON.stringify(o.getContext()))})),o;function s(){var e=localStorage.getItem(i),t=null!==e?JSON.parse(e):{};o.setContext(t)}}function qe(){var e="",t=0;return{isAsync:!1,get isEmpty(){return!e},write:function(n,r){var i=U(n);t+=i,e+=n,r&&r(i)},finish:function(e){e(this.finishSync())},finishSync:function(){var n={output:e,outputBytesCount:t,rawBytesCount:t,pendingData:""};return e="",t=0,n},estimateEncodedBytesCount:function(e){return e.length}}}var $e="?";function We(e){var t=[],n=rt(e,"stack"),r=String(e);return n&&A(n,r)&&(n=n.slice(r.length)),n&&n.split("\n").forEach((function(e){var n=function(e){var t=Qe.exec(e);if(!t)return;var n=t[2]&&0===t[2].indexOf("native"),r=t[2]&&0===t[2].indexOf("eval"),i=Xe.exec(t[2]);r&&i&&(t[2]=i[1],t[3]=i[2],t[4]=i[3]);return{args:n?[t[2]]:[],column:t[4]?+t[4]:void 0,func:t[1]||$e,line:t[3]?+t[3]:void 0,url:n?void 0:t[2]}}(e)||function(e){var t=Je.exec(e);if(!t)return;return{args:[],column:t[3]?+t[3]:void 0,func:$e,line:t[2]?+t[2]:void 0,url:t[1]}}(e)||function(e){var t=et.exec(e);if(!t)return;return{args:[],column:t[4]?+t[4]:void 0,func:t[1]||$e,line:+t[3],url:t[2]}}(e)||function(e){var t=tt.exec(e);if(!t)return;var n=t[3]&&t[3].indexOf(" > eval")>-1,r=nt.exec(t[3]);n&&r&&(t[3]=r[1],t[4]=r[2],t[5]=void 0);return{args:t[2]?t[2].split(","):[],column:t[5]?+t[5]:void 0,func:t[1]||$e,line:t[4]?+t[4]:void 0,url:t[3]}}(e);n&&(!n.func&&n.line&&(n.func=$e),t.push(n))})),{message:rt(e,"message"),name:rt(e,"name"),stack:t}}var Ye="((?:file|https?|blob|chrome-extension|native|eval|webpack|snippet|<anonymous>|\\w+\\.|\\/).*?)",Ze="(?::(\\d+))",Qe=new RegExp("^\\s*at (.*?) ?\\(".concat(Ye).concat(Ze,"?").concat(Ze,"?\\)?\\s*$"),"i"),Xe=new RegExp("\\((\\S*)".concat(Ze).concat(Ze,"\\)"));var Je=new RegExp("^\\s*at ?".concat(Ye).concat(Ze,"?").concat(Ze,"??\\s*$"),"i");var et=/^\s*at (?:((?:\[object object\])?.+) )?\(?((?:file|ms-appx|https?|webpack|blob):.*?):(\d+)(?::(\d+))?\)?\s*$/i;var tt=/^\s*(.*?)(?:\((.*?)\))?(?:^|@)((?:file|https?|blob|chrome|webpack|resource|capacitor|\[native).*?|[^@]*bundle)(?::(\d+))?(?::(\d+))?\s*$/i,nt=/(\S+) line (\d+)(?: > eval line \d+)* > eval/i;function rt(e,t){if("object"==typeof e&&e&&t in e){var n=e[t];return"string"==typeof n?n:void 0}}function it(e,t,n,r){var i=[{url:t,column:r,line:n}],o=function(e){var t,n,r;"[object String]"==={}.toString.call(e)&&(n=(t=ot.exec(e))[1],r=t[2]);return{name:n,message:r}}(e);return{name:o.name,message:o.message,stack:i}}var ot=/^(?:[Uu]ncaught (?:exception: )?)?(?:((?:Eval|Internal|Range|Reference|Syntax|Type|URI|)Error): )?([\s\S]*)$/;var st,at="No stack, consider using an instance of Error";function ct(e){var t=e.stackTrace,n=e.originalError,r=e.handlingStack,i=e.startClocks,o=e.nonErrorPrefix,s=e.source,a=e.handling,c=n instanceof Error,u=function(e,t,n,r){return(null==e?void 0:e.message)&&(null==e?void 0:e.name)?e.message:t?"Empty message":"".concat(n," ").concat(F(K(r)))}(t,c,o,n),l=function(e,t){if(void 0===t)return!1;if(e)return!0;return t.stack.length>0&&(t.stack.length>1||void 0!==t.stack[0].url)}(c,t)?lt(t):at,d=c?function(e,t){var n=e,r=[];for(;(null==n?void 0:n.cause)instanceof Error&&r.length<10;){var i=We(n.cause);r.push({message:n.cause.message,source:t,type:null==i?void 0:i.name,stack:i&&lt(i)}),n=n.cause}return r.length?r:void 0}(n,s):void 0;return{startClocks:i,source:s,handling:a,handlingStack:r,originalError:n,type:null==t?void 0:t.name,message:u,stack:l,causes:d,fingerprint:ut(n)}}function ut(e){return e instanceof Error&&"dd_fingerprint"in e?String(e.dd_fingerprint):void 0}function lt(e){var t=dt(e);return e.stack.forEach((function(e){var n="?"===e.func?"<anonymous>":e.func,r=e.args&&e.args.length>0?"(".concat(e.args.join(", "),")"):"",i=e.line?":".concat(e.line):"",o=e.line&&e.column?":".concat(e.column):"";t+="\n  at ".concat(n).concat(r," @ ").concat(e.url).concat(i).concat(o)})),t}function dt(e){return"".concat(e.name||"Error",": ").concat(e.message)}function ft(){var e,t=new Error;if(!t.stack)try{throw t}catch(n){}return m((function(){var n=We(t);n.stack=n.stack.slice(2),e=lt(n)})),e}function ht(e){var t=k({},e);return["id","name","email"].forEach((function(e){e in t&&(t[e]=String(t[e]))})),t}!function(e){e.PAGEHIDE="pagehide",e.FEATURE_FLAGS="feature_flags",e.RESOURCE_PAGE_STATES="resource_page_states",e.COLLECT_FLUSH_REASON="collect_flush_reason",e.SCROLLMAP="scrollmap",e.DISABLE_REPLAY_INLINE_CSS="disable_replay_inline_css"}(st||(st={}));var pt=new Set;function mt(e){return pt.has(e)}function gt(){return pt}function vt(e){return k({},e)}function yt(e,t){return Object.keys(e).some((function(n){return e[n]===t}))}function bt(e){return 0===Object.keys(e).length}var Et,wt=4*le,St=15*ue;function Tt(){return null!=Et?Et:Et=function(e){var t;void 0===e&&(e=window);var n=e.navigator.userAgent;if(e.chrome||/HeadlessChrome/.test(n))return 1;if(0===(null===(t=e.navigator.vendor)||void 0===t?void 0:t.indexOf("Apple"))||/safari/i.test(n)&&!/chrome|android/i.test(n))return 2;if(e.document.documentMode)return 0;return 3}()}var Rt="_dd_s",_t=/^([a-z]+)=([a-z0-9-]+)$/,Ot="&";function xt(e){return bt(e)}function Ct(e){e.expire=String(me()+St)}function At(e){return C(e).map((function(e){var t=e[0],n=e[1];return"".concat(t,"=").concat(n)})).join(Ot)}function It(e){var t={};return function(e){return!!e&&(-1!==e.indexOf(Ot)||_t.test(e))}(e)&&e.split(Ot).forEach((function(e){var n=_t.exec(e);if(null!==n){var r=n[1],i=n[2];t[r]=i}})),t}var kt="_dd",Nt="_dd_r",Lt="_dd_l",Pt="rum",Ut="logs";function Dt(e){var t=function(e){var t={};t.secure=!!e.useSecureSessionCookie||!!e.useCrossSiteSessionCookie,t.crossSite=!!e.useCrossSiteSessionCookie,e.trackSessionAcrossSubdomains&&(t.domain=function(){if(void 0===Oe){for(var e="dd_site_test_".concat(Re()),t=window.location.hostname.split("."),n=t.pop();t.length&&!ke(e);)n="".concat(t.pop(),".").concat(n),Ie(e,"test",ce,{domain:n});Le(e,{domain:n}),Oe=n}return Oe}());return t}(e);return function(e){if(void 0===document.cookie||null===document.cookie)return!1;try{var t="dd_cookie_test_".concat(Re()),n="test";Ie(t,n,ue,e);var r=ke(t)===n;return Le(t,e),r}catch(i){return l.error(i),!1}}(t)?{type:"Cookie",cookieOptions:t}:void 0}function Mt(e){var t,n={isLockEnabled:1===Tt(),persistSession:(t=e,function(e){Ie(Rt,At(e),St,t)}),retrieveSession:jt,clearSession:Bt(e)};return function(e){if(!Ne(Rt)){var t=Ne(kt),n=Ne(Nt),r=Ne(Lt),i={};t&&(i.id=t),r&&/^[01]$/.test(r)&&(i[Ut]=r),n&&/^[012]$/.test(n)&&(i[Pt]=n),xt(i)||(Ct(i),e.persistSession(i))}}(n),n}function jt(){return It(ke(Rt))}function Bt(e){return function(){Le(Rt,e)}}var Ft="_dd_test_";function Ht(e){localStorage.setItem(Rt,At(e))}function zt(){return It(localStorage.getItem(Rt))}function Gt(){localStorage.removeItem(Rt)}var Vt,Kt=10,qt=100,$t=[];function Wt(e,t,n){var r;void 0===n&&(n=0);var i=t.isLockEnabled,o=t.retrieveSession,s=t.persistSession,a=t.clearSession;if(Vt||(Vt=e),e===Vt)if(i&&n>=qt)Zt(t);else{var c,u=o();if(i){if(u.lock)return void Yt(e,t,n);if(c=Re(),u.lock=c,s(u),(u=o()).lock!==c)return void Yt(e,t,n)}var l=e.process(u);if(i&&(u=o()).lock!==c)Yt(e,t,n);else{if(l&&(xt(l)?a():(Ct(l),s(l))),i&&(!l||!xt(l))){if((u=o()).lock!==c)return void Yt(e,t,n);delete u.lock,s(u),l=u}null===(r=e.after)||void 0===r||r.call(e,l||u),Zt(t)}}else $t.push(e)}function Yt(e,t,n){v((function(){Wt(e,t,n+1)}),Kt)}function Zt(e){Vt=void 0;var t=$t.shift();t&&Wt(t,e)}var Qt=ce;function Xt(e){var t=Dt(e);return!t&&e.allowFallbackToLocalStorage&&(t=function(){try{var e=Re(),t="".concat(Ft).concat(e);localStorage.setItem(t,e);var n=localStorage.getItem(t);return localStorage.removeItem(t),e===n?{type:"LocalStorage"}:void 0}catch(r){return}}()),t}function Jt(e,t,n){var r=new Y,i=new Y,o="Cookie"===e.type?Mt(e.cookieOptions):{isLockEnabled:!1,persistSession:Ht,retrieveSession:zt,clearSession:Gt},s=o.clearSession,a=o.retrieveSession,c=b((function(){Wt({process:function(e){return f(e)?void 0:{}},after:l},o)}),Qt),u=function(){var e=a();if(f(e))return e;return{}}();function l(e){return f(e)||(e={}),d()&&(!function(e){return u.id!==e.id||u[t]!==e[t]}(e)?u=e:(u={},i.notify())),e}function d(){return void 0!==u[t]}function f(e){return(void 0===e.created||me()-Number(e.created)<wt)&&(void 0===e.expire||me()<Number(e.expire))}return{expandOrRenewSession:w((function(){var e;Wt({process:function(r){var i=l(r);return e=function(e){var r=n(e[t]),i=r.trackingType,o=r.isTracked;e[t]=i,o&&!e.id&&(e.id=Re(),e.created=String(me()));return o}(i),i},after:function(t){e&&!d()&&function(e){u=e,r.notify()}(t),u=t}},o)}),Qt).throttled,expandSession:function(){Wt({process:function(e){return d()?l(e):void 0}},o)},getSession:function(){return u},renewObservable:r,expireObservable:i,expire:function(){s(),l({})},stop:function(){E(c)}}}function en(e){return tn(e,on(window.location)).href}function tn(e,t){var n=function(){if(void 0===nn)try{var e=new rn("http://test/path");nn="http://test/path"===e.href}catch(W){nn=!1}return nn?rn:void 0}();if(n)try{return void 0!==t?new n(e,t):new n(e)}catch(s){throw new Error("Failed to construct URL: ".concat(String(s)," ").concat(F({url:e,base:t})))}if(void 0===t&&!/:/.test(e))throw new Error("Invalid URL: '".concat(e,"'"));var r=document,i=r.createElement("a");if(void 0!==t){var o=(r=document.implementation.createHTMLDocument("")).createElement("base");o.href=t,r.head.appendChild(o),r.body.appendChild(i)}return i.href=e,i}var nn,rn=URL;function on(e){if(e.origin&&"null"!==e.origin)return e.origin;var t=e.host.replace(/(:80|:443)$/,"");return"".concat(e.protocol,"//").concat(t)}var sn="datad0g.com",an="datadoghq.com",cn="datadoghq.eu";function un(e,t,n){var r=function(e,t){var n="/api/v2/".concat(t),r=e.proxy;if("string"==typeof r){var i=en(r);return function(e){return"".concat(i,"?ddforward=").concat(encodeURIComponent("".concat(n,"?").concat(e)))}}if("function"==typeof r)return function(e){return r({path:n,parameters:e})};var o=function(e){var t=e.site,n=void 0===t?an:t,r=e.internalAnalyticsSubdomain;if(r&&n===an)return"".concat(r,".").concat(an);var i=n.split("."),o=i.pop();return"browser-intake-".concat(i.join("-"),".").concat(o)}(e);return function(e){return"https://".concat(o).concat(n,"?").concat(e)}}(e,t);return{build:function(i,o){var s=function(e,t,n,r,i){var o=e.clientToken,s=e.internalAnalyticsSubdomain,a=i.retry,c=i.flushReason,u=i.encoding,l=["sdk_version:".concat("5.4.0"),"api:".concat(r)].concat(n);c&&mt(st.COLLECT_FLUSH_REASON)&&l.push("flush_reason:".concat(c));a&&l.push("retry_count:".concat(a.count),"retry_after:".concat(a.lastFailureStatus));var d=["ddsource=browser","ddtags=".concat(encodeURIComponent(l.join(","))),"dd-api-key=".concat(o),"dd-evp-origin-version=".concat(encodeURIComponent("5.4.0")),"dd-evp-origin=browser","dd-request-id=".concat(Re())];u&&d.push("dd-evp-encoding=".concat(u));"rum"===t&&d.push("batch_time=".concat(ge()));s&&d.reverse();return d.join("&")}(e,t,n,i,o);return r(s)},urlPrefix:r(""),trackType:t}}var ln=200;var dn=/[^a-z0-9_:./-]/;function fn(e,t){var n=ln-e.length-1;(t.length>n||dn.test(t))&&l.warn("".concat(e," value doesn't meet tag requirements and will be sanitized"));var r=t.replace(/,/g,"_");return"".concat(e,":").concat(r)}function hn(e){var t=function(e){var t=e.env,n=e.service,r=e.version,i=e.datacenter,o=[];return t&&o.push(fn("env",t)),n&&o.push(fn("service",n)),r&&o.push(fn("version",r)),i&&o.push(fn("datacenter",i)),o}(e),n=function(e,t){return{logsEndpointBuilder:un(e,"logs",t),rumEndpointBuilder:un(e,"rum",t),sessionReplayEndpointBuilder:un(e,"replay",t)}}(e,t),r=x(n).map((function(e){return e.urlPrefix})),i=function(e,t,n){if(!e.replica)return;var r=k({},e,{site:an,clientToken:e.replica.clientToken}),i={logsEndpointBuilder:un(r,"logs",n),rumEndpointBuilder:un(r,"rum",n)};return t.push.apply(t,x(i).map((function(e){return e.urlPrefix}))),k({applicationId:e.replica.applicationId},i)}(e,r,t);return k({isIntakeUrl:function(e){return r.some((function(t){return 0===e.indexOf(t)}))},replica:i,site:e.site||an},n)}var pn={ALLOW:"allow",MASK:"mask",MASK_USER_INPUT:"mask-user-input"};function mn(e){var t,n,r;if(e&&e.clientToken)if(void 0===e.sessionSampleRate||oe(e.sessionSampleRate))if(void 0===e.telemetrySampleRate||oe(e.telemetrySampleRate)){if(void 0===e.telemetryConfigurationSampleRate||oe(e.telemetryConfigurationSampleRate))return Array.isArray(e.enableExperimentalFeatures)&&e.enableExperimentalFeatures.filter((function(e){return yt(st,e)})).forEach((function(e){pt.add(e)})),k({beforeSend:e.beforeSend&&T(e.beforeSend,"beforeSend threw an error:"),sessionStoreStrategyType:Xt(e),sessionSampleRate:null!==(t=e.sessionSampleRate)&&void 0!==t?t:100,telemetrySampleRate:null!==(n=e.telemetrySampleRate)&&void 0!==n?n:20,telemetryConfigurationSampleRate:null!==(r=e.telemetryConfigurationSampleRate)&&void 0!==r?r:5,service:e.service,silentMultipleInit:!!e.silentMultipleInit,allowUntrustedEvents:!!e.allowUntrustedEvents,batchBytesLimit:16*N,eventRateLimiterThreshold:3e3,maxTelemetryEventsPerPage:15,flushTimeout:30*ce,batchMessagesLimit:50,messageBytesLimit:256*N},hn(e));l.error("Telemetry Configuration Sample Rate should be a number between 0 and 100")}else l.error("Telemetry Sample Rate should be a number between 0 and 100");else l.error("Session Sample Rate should be a number between 0 and 100");else l.error("Client Token is not configured, we will not send any data.")}function gn(e){var t=D(e);return"string"===t||"function"===t||e instanceof RegExp}function vn(e,t,n){return void 0===n&&(n=!1),e.some((function(e){try{if("function"==typeof e)return e(t);if(e instanceof RegExp)return e.test(t);if("string"==typeof e)return n?A(t,e):e===t}catch(r){l.error(r)}return!1}))}function yn(e){0!==e.status||e.isAborted||(e.traceId=void 0,e.spanId=void 0,e.traceSampled=void 0)}function bn(e,t,n,r){if(void 0!==En()&&n.findTrackedSession()){var i,o,s,a,c,u=O(e.allowedTracingUrls,(function(e){return vn([e.match],t.url,!0)}));if(u)t.traceId=new wn,t.spanId=new wn,t.traceSampled=!se(e.traceSampleRate)||re(e.traceSampleRate),r((i=t.traceId,o=t.spanId,s=t.traceSampled,a=u.propagatorTypes,c={},a.forEach((function(e){switch(e){case"datadog":k(c,{"x-datadog-origin":"rum","x-datadog-parent-id":o.toDecimalString(),"x-datadog-sampling-priority":s?"1":"0","x-datadog-trace-id":i.toDecimalString()});break;case"tracecontext":k(c,{traceparent:"00-0000000000000000".concat(i.toPaddedHexadecimalString(),"-").concat(o.toPaddedHexadecimalString(),"-0").concat(s?"1":"0")});break;case"b3":k(c,{b3:"".concat(i.toPaddedHexadecimalString(),"-").concat(o.toPaddedHexadecimalString(),"-").concat(s?"1":"0")});break;case"b3multi":k(c,{"X-B3-TraceId":i.toPaddedHexadecimalString(),"X-B3-SpanId":o.toPaddedHexadecimalString(),"X-B3-Sampled":s?"1":"0"})}})),c))}}function En(){return window.crypto||window.msCrypto}var wn=function(){function e(){this.buffer=new Uint8Array(8),En().getRandomValues(this.buffer),this.buffer[0]=127&this.buffer[0]}return e.prototype.toString=function(e){var t=this.readInt32(0),n=this.readInt32(4),r="";do{var i=t%e*4294967296+n;t=Math.floor(t/e),n=Math.floor(i/e),r=(i%e).toString(e)+r}while(t||n);return r},e.prototype.toDecimalString=function(){return this.toString(10)},e.prototype.toPaddedHexadecimalString=function(){var e=this.toString(16);return Array(17-e.length).join("0")+e},e.prototype.readInt32=function(e){return 16777216*this.buffer[e]+(this.buffer[e+1]<<16)+(this.buffer[e+2]<<8)+this.buffer[e+3]},e}(),Sn=["tracecontext","datadog"];function Tn(e){var t,n;if(e.applicationId)if(void 0===e.sessionReplaySampleRate||oe(e.sessionReplaySampleRate))if(void 0===e.traceSampleRate||oe(e.traceSampleRate))if(void 0===e.excludedActivityUrls||Array.isArray(e.excludedActivityUrls)){var r=function(e){if(void 0!==e.allowedTracingUrls){if(!Array.isArray(e.allowedTracingUrls))return void l.error("Allowed Tracing URLs should be an array");if(0!==e.allowedTracingUrls.length&&void 0===e.service)return void l.error("Service needs to be configured when tracing is enabled");var t=[];return e.allowedTracingUrls.forEach((function(e){var n;gn(e)?t.push({match:e,propagatorTypes:Sn}):"object"===D(n=e)&&gn(n.match)&&Array.isArray(n.propagatorTypes)?t.push(e):l.warn("Allowed Tracing Urls parameters should be a string, RegExp, function, or an object. Ignoring parameter",e)})),t}return[]}(e);if(r){var i=mn(e);if(i)return k({applicationId:e.applicationId,version:e.version,actionNameAttribute:e.actionNameAttribute,sessionReplaySampleRate:null!==(t=e.sessionReplaySampleRate)&&void 0!==t?t:0,startSessionReplayRecordingManually:!!e.startSessionReplayRecordingManually,traceSampleRate:e.traceSampleRate,allowedTracingUrls:r,excludedActivityUrls:null!==(n=e.excludedActivityUrls)&&void 0!==n?n:[],workerUrl:e.workerUrl,compressIntakeRequests:!!e.compressIntakeRequests,trackUserInteractions:!!e.trackUserInteractions,trackViewsManually:!!e.trackViewsManually,trackResources:!!e.trackResources,trackLongTasks:!!e.trackLongTasks,subdomain:e.subdomain,defaultPrivacyLevel:yt(pn,e.defaultPrivacyLevel)?e.defaultPrivacyLevel:pn.MASK,customerDataTelemetrySampleRate:1},i)}}else l.error("Excluded Activity Urls should be an array");else l.error("Trace Sample Rate should be a number between 0 and 100");else l.error("Session Replay Sample Rate should be a number between 0 and 100");else l.error("Application ID is not configured, no RUM data will be collected.")}function Rn(e){var t=new Set;return Array.isArray(e.allowedTracingUrls)&&e.allowedTracingUrls.length>0&&e.allowedTracingUrls.forEach((function(e){gn(e)?Sn.forEach((function(e){return t.add(e)})):"object"===D(e)&&Array.isArray(e.propagatorTypes)&&e.propagatorTypes.forEach((function(e){return t.add(e)}))})),_(t)}function _n(e,t,n){return{context:e.getContext(),user:t.getContext(),hasReplay:!!n.isRecording()||void 0}}function On(e,t){var n=window.__ddBrowserSdkExtensionCallback;n&&n({type:e,payload:t})}var xn,Cn={log:"log",configuration:"configuration"},An=["https://www.datadoghq-browser-agent.com","https://www.datad0g-browser-agent.com","https://d3uc069fcn7uxw.cloudfront.net","https://d20xtzwzcl0ceb.cloudfront.net","http://localhost","<anonymous>"],In=["ddog-gov.com"],kn={maxEventsPerPage:0,sentEventCount:0,telemetryEnabled:!1,telemetryConfigurationEnabled:!1};function Nn(e,t){var n,r=new Y;kn.telemetryEnabled=!R(In,t.site)&&re(t.telemetrySampleRate),kn.telemetryConfigurationEnabled=kn.telemetryEnabled&&re(t.telemetryConfigurationSampleRate);var i={is_local_file:"file:"===window.location.protocol,is_worker:"WorkerGlobalScope"in self};return xn=function(t){if(kn.telemetryEnabled){var o=function(e,t,r){return B({type:"telemetry",date:ge(),service:e,version:"5.4.0",source:"browser",_dd:{format_version:2},telemetry:B(t,{runtime_env:r}),experimental_features:_(gt())},void 0!==n?n():{})}(e,t,i);r.notify(o),On("telemetry",o)}},c=Pn,k(kn,{maxEventsPerPage:t.maxTelemetryEventsPerPage,sentEventCount:0}),{setContextProvider:function(e){n=e},observable:r,enabled:kn.telemetryEnabled}}function Ln(e,t){g(o.debug,e,t),Un(k({type:Cn.log,message:e,status:"debug"},t))}function Pn(e,t){Un(k({type:Cn.log,status:"error"},function(e){if(e instanceof Error){var t=We(e);return{error:{kind:t.name,stack:lt(Dn(t))},message:t.message}}return{error:{stack:at},message:"".concat("Uncaught"," ").concat(F(e))}}(e),t))}function Un(e){xn&&kn.sentEventCount<kn.maxEventsPerPage&&(kn.sentEventCount+=1,xn(e))}function Dn(e){return e.stack=e.stack.filter((function(e){return!e.url||An.some((function(t){return A(e.url,t)}))})),e}var Mn={HIDDEN:"visibility_hidden",UNLOADING:"before_unload",PAGEHIDE:"page_hide",FROZEN:"page_frozen"};function jn(){var e=function(){var e,t=window;if(t.Zone&&(e=i(t,"MutationObserver"),t.MutationObserver&&e===t.MutationObserver)){var n=i(new t.MutationObserver(S),"originalInstance");e=n&&n.constructor}e||(e=t.MutationObserver);return e}(),t=new Y((function(){if(e){var n=new e(p((function(){return t.notify()})));return n.observe(document,{attributes:!0,characterData:!0,childList:!0,subtree:!0}),function(){return n.disconnect()}}}));return t}function Bn(e,t,n){if(document.readyState===t||"complete"===document.readyState)n();else{var r="complete"===t?Pe.LOAD:Pe.DOM_CONTENT_LOADED;He(e,window,r,n,{once:!0})}}var Fn="initial_document",Hn=[["document",function(e){return Fn===e}],["xhr",function(e){return"xmlhttprequest"===e}],["fetch",function(e){return"fetch"===e}],["beacon",function(e){return"beacon"===e}],["css",function(e,t){return/\.css$/i.test(t)}],["js",function(e,t){return/\.js$/i.test(t)}],["image",function(e,t){return R(["image","img","icon"],e)||null!==/\.(gif|jpg|jpeg|tiff|png|svg|ico)$/i.exec(t)}],["font",function(e,t){return null!==/\.(woff|eot|woff2|ttf)$/i.exec(t)}],["media",function(e,t){return R(["audio","video"],e)||null!==/\.(mp3|mp4)$/i.exec(t)}]];function zn(e){var t=e.name;if(!function(e){try{return!!tn(e)}catch(o){return!1}}(t))return Ln('Failed to construct URL for "'.concat(e.name,'"')),"other";for(var n=function(e){var t=tn(e).pathname;return"/"===t[0]?t:"/".concat(t)}(t),r=0,i=Hn;r<i.length;r++){var o=i[r],s=o[0];if((0,o[1])(e.initiatorType,n))return s}return"other"}function Gn(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];for(var n=1;n<e.length;n+=1)if(e[n-1]>e[n])return!1;return!0}function Vn(e){var t=Kn(e);if(t){var n=t.startTime,r=t.fetchStart,i=t.redirectStart,o=t.redirectEnd,s=t.domainLookupStart,a=t.domainLookupEnd,c=t.connectStart,u=t.secureConnectionStart,l=t.connectEnd,d=t.requestStart,f=t.responseStart,h={download:$n(n,f,t.responseEnd),first_byte:$n(n,d,f)};return l!==r&&(h.connect=$n(n,c,l),Gn(c,u,l)&&(h.ssl=$n(n,u,l))),a!==r&&(h.dns=$n(n,s,a)),qn(e)&&(h.redirect=$n(n,i,o)),h}}function Kn(e){if(Gn(e.startTime,e.fetchStart,e.domainLookupStart,e.domainLookupEnd,e.connectStart,e.connectEnd,e.requestStart,e.responseStart,e.responseEnd)){if(!qn(e))return e;var t=e.redirectStart,n=e.redirectEnd;if(t<e.startTime&&(t=e.startTime),n<e.startTime&&(n=e.fetchStart),Gn(e.startTime,t,n,e.fetchStart))return k({},e,{redirectEnd:n,redirectStart:t})}}function qn(e){return e.fetchStart!==e.startTime}function $n(e,t,n){return{duration:pe(Ee(t,n)),start:pe(Ee(e,t))}}function Wn(e){if(e.startTime<e.responseStart)return e.decodedBodySize}function Yn(e,t){return t&&!e.isIntakeUrl(t)}function Zn(e){return e.nodeType===Node.TEXT_NODE}function Qn(e){return e.nodeType===Node.ELEMENT_NODE}var Xn,Jn=2*ue;function er(e){var t=function(e){var t=e.querySelector("meta[name=dd-trace-id]"),n=e.querySelector("meta[name=dd-trace-time]");return tr(t&&t.content,n&&n.content)}(e)||function(e){var t=function(e){for(var t=0;t<e.childNodes.length;t+=1){if(n=nr(e.childNodes[t]))return n}if(e.body)for(t=e.body.childNodes.length-1;t>=0;t-=1){var n,r=e.body.childNodes[t];if(n=nr(r))return n;if(!Zn(r))break}}(e);if(!t)return;return tr(Ce(t,"trace-id"),Ce(t,"trace-time"))}(e);if(t&&!(t.traceTime<=me()-Jn))return t.traceId}function tr(e,t){var n=t&&Number(t);if(e&&n)return{traceId:e,traceTime:n}}function nr(e){if(e&&function(e){return e.nodeType===Node.COMMENT_NODE}(e)){var t=/^\s*DATADOG;(.*?)\s*$/.exec(e.data);if(t)return t[1]}}function rr(){return void 0!==window.performance&&"getEntries"in performance}function ir(e){return window.PerformanceObserver&&void 0!==PerformanceObserver.supportedEntryTypes&&PerformanceObserver.supportedEntryTypes.includes(e)}function or(e,t){if(function(e,t){Bn(e,"interactive",(function(){var e,n={entryType:Xn.RESOURCE,initiatorType:Fn,traceId:er(document),toJSON:function(){return k({},e,{toJSON:void 0})}};if(ir(Xn.NAVIGATION)&&performance.getEntriesByType(Xn.NAVIGATION).length>0){var r=performance.getEntriesByType(Xn.NAVIGATION)[0];e=k(r.toJSON(),n)}else{var i=sr();e=k(i,{decodedBodySize:0,duration:i.responseEnd,name:window.location.href,startTime:0},n)}t(e)}))}(t,(function(n){ar(e,t,[n])})),rr()){var n=performance.getEntries();v((function(){return ar(e,t,n)}))}if(window.PerformanceObserver){var r=p((function(n){return ar(e,t,n.getEntries())})),i=[Xn.RESOURCE,Xn.NAVIGATION,Xn.LONG_TASK,Xn.PAINT],o=[Xn.LARGEST_CONTENTFUL_PAINT,Xn.FIRST_INPUT,Xn.LAYOUT_SHIFT,Xn.EVENT];try{o.forEach((function(e){new window.PerformanceObserver(r).observe({type:e,buffered:!0,durationThreshold:40})}))}catch(s){i.push.apply(i,o)}new PerformanceObserver(r).observe({entryTypes:i}),rr()&&"addEventListener"in performance&&He(t,performance,"resourcetimingbufferfull",(function(){performance.clearResourceTimings()}))}ir(Xn.NAVIGATION)||function(e,t){function n(){t(k(sr(),{entryType:Xn.NAVIGATION}))}Bn(e,"complete",(function(){v(n)}))}(t,(function(n){ar(e,t,[n])})),ir(Xn.FIRST_INPUT)||function(e,t){var n=me(),r=!1,i=ze(e,window,[Pe.CLICK,Pe.MOUSE_DOWN,Pe.KEY_DOWN,Pe.TOUCH_START,Pe.POINTER_DOWN],(function(t){if(t.cancelable){var n={entryType:Xn.FIRST_INPUT,processingStart:ve(),processingEnd:ve(),startTime:t.timeStamp,duration:0,name:""};t.type===Pe.POINTER_DOWN?o(e,n):s(n)}}),{passive:!0,capture:!0}).stop;function o(e,t){ze(e,window,[Pe.POINTER_UP,Pe.POINTER_CANCEL],(function(e){e.type===Pe.POINTER_UP&&s(t)}),{once:!0})}function s(e){if(!r){r=!0,i();var o=e.processingStart-e.startTime;o>=0&&o<me()-n&&t(e)}}}(t,(function(n){ar(e,t,[n])}))}function sr(){var e={},t=performance.timing;for(var n in t)if(se(t[n])){var r=n,i=t[r];e[r]=0===i?0:Se(i)}return e}function ar(e,t,n){var r=n.filter((function(e){return yt(Xn,e.entryType)})).filter((function(e){return!function(e){return e.entryType===Xn.NAVIGATION&&e.loadEventEnd<=0}(e)&&!function(e,t){return t.entryType===Xn.RESOURCE&&!Yn(e,t.name)}(t,e)}));r.length&&e.notify(0,r)}!function(e){e.EVENT="event",e.FIRST_INPUT="first-input",e.LARGEST_CONTENTFUL_PAINT="largest-contentful-paint",e.LAYOUT_SHIFT="layout-shift",e.LONG_TASK="longtask",e.NAVIGATION="navigation",e.PAINT="paint",e.RESOURCE="resource"}(Xn||(Xn={}));var cr={AGENT:"agent",CONSOLE:"console",CUSTOM:"custom",LOGGER:"logger",NETWORK:"network",SOURCE:"source",REPORT:"report"};function ur(e,t,n){var r=0,i=!1;return{isLimitReached:function(){if(0===r&&v((function(){r=0}),ue),(r+=1)<=t||i)return i=!1,!1;if(r===t+1){i=!0;try{n({message:"Reached max number of ".concat(e,"s by minute: ").concat(t),source:cr.AGENT,startClocks:ye()})}finally{i=!1}}return!0}}}function lr(){var e,t="string"==typeof(e=window._DATADOG_SYNTHETICS_PUBLIC_ID||Ne(Ue))?e:void 0,n=function(){var e=window._DATADOG_SYNTHETICS_RESULT_ID||Ne(De);return"string"==typeof e?e:void 0}();if(t&&n)return{test_id:t,result_id:n,injected:je()}}function dr(e,t,n){var r=j(e),i=n(r);return C(t).forEach((function(t){var n=t[0],i=t[1],o=function(e,t){for(var n=e,r=0,i=t.split(".");r<i.length;r++){var o=i[r];if(!pr(n,o))return;n=n[o]}return n}(r,n),s=D(o);s===i?fr(e,n,K(o)):"object"!==i||"undefined"!==s&&"null"!==s||fr(e,n,{})})),i}function fr(e,t,n){for(var r=e,i=t.split("."),o=0;o<i.length;o+=1){var s=i[o];if(!hr(r))return;o!==i.length-1?r=r[s]:r[s]=n}}function hr(e){return"object"===D(e)}function pr(e,t){return hr(e)&&Object.prototype.hasOwnProperty.call(e,t)}var mr,gr={"view.name":"string","view.url":"string","view.referrer":"string"},vr={context:"object"};function yr(e,t,n,r,i,o,s,a,c){var u,d;(u={}).view=gr,u.error=k({"error.message":"string","error.stack":"string","error.resource.url":"string","error.fingerprint":"string"},vr,gr),u.resource=k({"resource.url":"string"},vr,gr),u.action=k({"action.target.name":"string"},vr,gr),u.long_task=k({},vr,gr),mr=u;var f=((d={}).error=ur("error",e.eventRateLimiterThreshold,c),d.action=ur("action",e.eventRateLimiterThreshold,c),d),h=lr(),p=function(){var e,t=null===(e=window.Cypress)||void 0===e?void 0:e.env("traceId");if("string"==typeof t)return{test_execution_id:t}}();t.subscribe(10,(function(c){var u,d=c.startTime,m=c.rawRumEvent,g=c.domainContext,v=c.savedCommonContext,y=c.customerContext,b=r.findView(d),E=i.findUrl(d),w=n.findTrackedSession(d);if(w&&b&&E){var S=v||a(),T=o.findActionId(d),R=B({_dd:{format_version:2,drift:Math.round(me()-we(Te(),performance.now())),configuration:{session_sample_rate:ie(e.sessionSampleRate,3),session_replay_sample_rate:ie(e.sessionReplaySampleRate,3)},browser_sdk_version:Fe()?"5.4.0":void 0},application:{id:e.applicationId},date:ge(),service:b.service||e.service,version:b.version||e.version,source:"browser",session:{id:w.id,type:h?"synthetics":p?"ci_test":"user"},view:{id:b.id,name:b.name,url:E.url,referrer:E.referrer},action:(u=m,-1!==["error","resource","long_task"].indexOf(u.type)&&T?{id:T}:void 0),synthetics:h,ci_test:p,display:s.get()},m);R.context=B(S.context,y),"has_replay"in R.session||(R.session.has_replay=S.hasReplay),"view"===R.type&&(R.session.sampled_for_replay=w.sessionReplayAllowed),bt(S.user)||(R.usr=S.user),function(e,t,n,r){var i;if(t){var o=dr(e,mr[e.type],(function(e){return t(e,n)}));if(!1===o&&"view"!==e.type)return!1;!1===o&&l.warn("Can't dismiss view events using beforeSend!")}var s=null===(i=r[e.type])||void 0===i?void 0:i.isLimitReached();return!s}(R,e.beforeSend,g,f)&&(bt(R.context)&&delete R.context,t.notify(11,R))}}))}var br,Er=function(){function e(){this.callbacks={}}return e.prototype.notify=function(e,t){var n=this.callbacks[e];n&&n.forEach((function(e){return e(t)}))},e.prototype.subscribe=function(e,t){var n=this;return this.callbacks[e]||(this.callbacks[e]=[]),this.callbacks[e].push(t),{unsubscribe:function(){n.callbacks[e]=n.callbacks[e].filter((function(e){return t!==e}))}}},e}(),wr=1/0,Sr=ue,Tr=function(){function e(e,t){var n=this;this.expireDelay=e,this.maxEntries=t,this.entries=[],this.clearOldValuesInterval=b((function(){return n.clearOldValues()}),Sr)}return e.prototype.add=function(e,t){var n=this,r={value:e,startTime:t,endTime:wr,remove:function(){var e=n.entries.indexOf(r);e>=0&&n.entries.splice(e,1)},close:function(e){r.endTime=e}};return this.maxEntries&&this.entries.length>=this.maxEntries&&this.entries.pop(),this.entries.unshift(r),r},e.prototype.find=function(e){void 0===e&&(e=wr);for(var t=0,n=this.entries;t<n.length;t++){var r=n[t];if(r.startTime<=e){if(e<=r.endTime)return r.value;break}}},e.prototype.closeActive=function(e){var t=this.entries[0];t&&t.endTime===wr&&t.close(e)},e.prototype.findAll=function(e,t){void 0===e&&(e=wr),void 0===t&&(t=0);var n=we(e,t);return this.entries.filter((function(t){return t.startTime<=n&&e<=t.endTime})).map((function(e){return e.value}))},e.prototype.reset=function(){this.entries=[]},e.prototype.stop=function(){E(this.clearOldValuesInterval)},e.prototype.clearOldValues=function(){for(var e=ve()-this.expireDelay;this.entries.length>0&&this.entries[this.entries.length-1].endTime<e;)this.entries.pop()},e}(),Rr=wt;function _r(e,t,n){var r=e[t],i=n(r),o=function(){if("function"==typeof i)return i.apply(this,arguments)};return e[t]=o,{stop:function(){e[t]===o?e[t]=r:i=r}}}function Or(e,t,n){var r=n.before,i=n.after;return _r(e,t,(function(e){return function(){var t,n=arguments;return r&&m(r,this,n),"function"==typeof e&&(t=e.apply(this,n)),i&&m(i,this,n),t}}))}var xr,Cr=new WeakMap;function Ar(e){return br||(br=function(e){var t=new Y((function(){var n=Or(XMLHttpRequest.prototype,"open",{before:Ir}).stop,r=Or(XMLHttpRequest.prototype,"send",{before:function(){kr.call(this,e,t)}}).stop,i=Or(XMLHttpRequest.prototype,"abort",{before:Nr}).stop;return function(){n(),r(),i()}}));return t}(e)),br}function Ir(e,t){Cr.set(this,{state:"open",method:e.toUpperCase(),url:en(String(t))})}function kr(e,t){var n=this,r=Cr.get(this);if(r){var i=r;i.state="start",i.startClocks=ye(),i.isAborted=!1,i.xhr=this;var o=!1,s=Or(this,"onreadystatechange",{before:function(){this.readyState===XMLHttpRequest.DONE&&a()}}).stop,a=function(){if(c(),s(),!o){o=!0;var e=r;e.state="complete",e.duration=Ee(i.startClocks.timeStamp,ge()),e.status=n.status,t.notify(vt(e))}},c=He(e,this,"loadend",a).stop;t.notify(i)}}function Nr(){var e=Cr.get(this);e&&(e.isAborted=!0)}function Lr(){return xr||(xr=function(){var e=new Y((function(){if(window.fetch)return _r(window,"fetch",(function(t){return function(n,r){var i,o=m(Pr,null,[e,n,r]);return o?(i=t.call(this,o.input,o.init),m(Ur,null,[e,i,o])):i=t.call(this,n,r),i}})).stop}));return e}()),xr}function Pr(e,t,n){var r=n&&n.method||t instanceof Request&&t.method,i=r?r.toUpperCase():"GET",o=t instanceof Request?t.url:en(String(t)),s={state:"start",init:n,input:t,method:i,startClocks:ye(),url:o};return e.notify(s),s}function Ur(e,t,n){var r=function(t){var r=n;r.state="resolve","stack"in t||t instanceof Error?(r.status=0,r.isAborted=t instanceof DOMException&&t.code===DOMException.ABORT_ERR,r.error=t):"status"in t&&(r.response=t,r.responseType=t.type,r.status=t.status,r.isAborted=!1),e.notify(r)};t.then(p(r),p(r))}var Dr=1;function Mr(e,t,n){var r=function(e,t){return{clearTracingIfNeeded:yn,traceFetch:function(n){return bn(e,n,t,(function(e){var t;if(n.input instanceof Request&&!(null===(t=n.init)||void 0===t?void 0:t.headers))n.input=new Request(n.input),Object.keys(e).forEach((function(t){n.input.headers.append(t,e[t])}));else{n.init=vt(n.init);var r=[];n.init.headers instanceof Headers?n.init.headers.forEach((function(e,t){r.push([t,e])})):Array.isArray(n.init.headers)?n.init.headers.forEach((function(e){r.push(e)})):n.init.headers&&Object.keys(n.init.headers).forEach((function(e){r.push([e,n.init.headers[e]])})),n.init.headers=r.concat(C(e))}}))},traceXhr:function(n,r){return bn(e,n,t,(function(e){Object.keys(e).forEach((function(t){r.setRequestHeader(t,e[t])}))}))}}}(t,n);!function(e,t,n){var r=Ar(t).subscribe((function(r){var i=r;if(Yn(t,i.url))switch(i.state){case"start":n.traceXhr(i,i.xhr),i.requestIndex=jr(),e.notify(5,{requestIndex:i.requestIndex,url:i.url});break;case"complete":n.clearTracingIfNeeded(i),e.notify(6,{duration:i.duration,method:i.method,requestIndex:i.requestIndex,spanId:i.spanId,startClocks:i.startClocks,status:i.status,traceId:i.traceId,traceSampled:i.traceSampled,type:"xhr",url:i.url,xhr:i.xhr})}}))}(e,t,r),function(e,t,n){var r=Lr().subscribe((function(r){var i=r;if(Yn(t,i.url))switch(i.state){case"start":n.traceFetch(i),i.requestIndex=jr(),e.notify(5,{requestIndex:i.requestIndex,url:i.url});break;case"resolve":!function(e,t){var n=e.response&&function(e){try{return e.clone()}catch(t){return}}(e.response);n&&n.body?function(e,t,n){var r=e.getReader(),i=[],o=0;function s(){var e,s;if(r.cancel().catch(S),n.collectStreamBody){var a;if(1===i.length)a=i[0];else{a=new Uint8Array(o);var c=0;i.forEach((function(e){a.set(e,c),c+=e.length}))}e=a.slice(0,n.bytesLimit),s=a.length>n.bytesLimit}t(void 0,e,s)}!function e(){r.read().then(p((function(t){t.done?s():(n.collectStreamBody&&i.push(t.value),(o+=t.value.length)>n.bytesLimit?s():e())})),p((function(e){return t(e)})))}()}(n.body,(function(){t(Ee(e.startClocks.timeStamp,ge()))}),{bytesLimit:Number.POSITIVE_INFINITY,collectStreamBody:!1}):t(Ee(e.startClocks.timeStamp,ge()))}(i,(function(t){n.clearTracingIfNeeded(i),e.notify(6,{duration:t,method:i.method,requestIndex:i.requestIndex,responseType:i.responseType,spanId:i.spanId,startClocks:i.startClocks,status:i.status,traceId:i.traceId,traceSampled:i.traceSampled,type:"fetch",url:i.url,response:i.response,init:i.init,input:i.input})}))}}))}(e,t,r)}function jr(){var e=Dr;return Dr+=1,e}function Br(e){var t=e.lifeCycle,n=e.isChildEvent,r=e.onChange,i=void 0===r?S:r,o={errorCount:0,longTaskCount:0,resourceCount:0,actionCount:0,frustrationCount:0},s=t.subscribe(11,(function(e){var t;if("view"!==e.type&&n(e))switch(e.type){case"error":o.errorCount+=1,i();break;case"action":o.actionCount+=1,e.action.frustration&&(o.frustrationCount+=e.action.frustration.type.length),i();break;case"long_task":o.longTaskCount+=1,i();break;case"resource":(null===(t=e._dd)||void 0===t?void 0:t.discarded)||(o.resourceCount+=1,i())}}));return{stop:function(){s.unsubscribe()},eventCounts:o}}var Fr=100,Hr=100;function zr(e,t,n,r,i){var o=function(e,t,n){var r=new Y((function(){var i,o=[],s=0;o.push(t.subscribe(u),e.subscribe(0,(function(e){e.some((function(e){return e.entryType===Xn.RESOURCE&&!Gr(n,e.name)}))&&u()})),e.subscribe(5,(function(e){Gr(n,e.url)||(void 0===i&&(i=e.requestIndex),s+=1,u())})),e.subscribe(6,(function(e){Gr(n,e.url)||void 0===i||e.requestIndex<i||(s-=1,u())})));var a,c=(a=u,Or(window,"open",{before:a})).stop;return function(){c(),o.forEach((function(e){return e.unsubscribe()}))};function u(){r.notify({isBusy:s>0})}}));return r}(e,t,n);return function(e,t,n){var r,i=!1,o=v(p((function(){return u({hadActivity:!1})})),Fr),s=void 0!==n?v(p((function(){return u({hadActivity:!0,end:ge()})})),n):void 0,a=e.subscribe((function(e){var t=e.isBusy;y(o),y(r);var n=ge();t||(r=v(p((function(){return u({hadActivity:!0,end:n})})),Hr))})),c=function(){i=!0,y(o),y(r),y(s),a.unsubscribe()};function u(e){i||(c(),t(e))}return{stop:c}}(o,r,i)}function Gr(e,t){return vn(e.excludedActivityUrls,t)}var Vr="data-dd-action-name";function Kr(e,t){return qr(e,Vr)||t&&qr(e,t)||Xr(e,t,Yr)||Xr(e,t,Zr)||""}function qr(e,t){var n;if(function(){void 0===Wr&&(Wr="closest"in HTMLElement.prototype);return Wr}())n=e.closest("[".concat(t,"]"));else for(var r=e;r;){if(r.hasAttribute(t)){n=r;break}r=r.parentElement}if(n)return ei(Jr(n.getAttribute(t).trim()))}var $r,Wr,Yr=[function(e,t){if(function(){void 0===$r&&($r="labels"in HTMLInputElement.prototype);return $r}()){if("labels"in e&&e.labels&&e.labels.length>0)return ti(e.labels[0],t)}else if(e.id){var n=e.ownerDocument&&O(e.ownerDocument.querySelectorAll("label"),(function(t){return t.htmlFor===e.id}));return n&&ti(n,t)}},function(e){if("INPUT"===e.nodeName){var t=e,n=t.getAttribute("type");if("button"===n||"submit"===n||"reset"===n)return t.value}},function(e,t){if("BUTTON"===e.nodeName||"LABEL"===e.nodeName||"button"===e.getAttribute("role"))return ti(e,t)},function(e){return e.getAttribute("aria-label")},function(e,t){var n=e.getAttribute("aria-labelledby");if(n)return n.split(/\s+/).map((function(t){return function(e,t){return e.ownerDocument?e.ownerDocument.getElementById(t):null}(e,t)})).filter((function(e){return Boolean(e)})).map((function(e){return ti(e,t)})).join(" ")},function(e){return e.getAttribute("alt")},function(e){return e.getAttribute("name")},function(e){return e.getAttribute("title")},function(e){return e.getAttribute("placeholder")},function(e,t){if("options"in e&&e.options.length>0)return ti(e.options[0],t)}],Zr=[function(e,t){return ti(e,t)}],Qr=10;function Xr(e,t,n){for(var r=e,i=0;i<=Qr&&r&&"BODY"!==r.nodeName&&"HTML"!==r.nodeName&&"HEAD"!==r.nodeName;){for(var o=0,s=n;o<s.length;o++){var a=(0,s[o])(r,t);if("string"==typeof a){var c=a.trim();if(c)return ei(Jr(c))}}if("FORM"===r.nodeName)break;r=r.parentElement,i+=1}}function Jr(e){return e.replace(/\s+/g," ")}function ei(e){return e.length>100?"".concat(Ae(e,100)," [...]"):e}function ti(e,t){if(!e.isContentEditable){if("innerText"in e){var n=e.innerText,r=function(t){for(var r=e.querySelectorAll(t),i=0;i<r.length;i+=1){var o=r[i];if("innerText"in o){var s=o.innerText;s&&s.trim().length>0&&(n=n.replace(s,""))}}};return 0===Tt()&&r("script, style"),r("[".concat(Vr,"]")),t&&r("[".concat(t,"]")),n}return e.textContent}}var ni,ri=[Vr,"data-testid","data-test","data-qa","data-cy","data-test-id","data-qa-id","data-testing","data-component","data-element","data-source-file"],ii=[ci,function(e){if(e.id&&!ai(e.id))return"#".concat(I(e.id))}],oi=[ci,function(e){if("BODY"===e.tagName)return;if(e.classList.length>0)for(var t=0;t<e.classList.length;t+=1){var n=e.classList[t];if(!ai(n))return"".concat(I(e.tagName),".").concat(I(n))}},function(e){return I(e.tagName)}];function si(e,t){for(var n="",r=e;r&&"HTML"!==r.nodeName;){var i=li(r,ii,di,t,n);if(i)return i;n=li(r,oi,fi,t,n)||hi(ui(r),n),r=r.parentElement}return n}function ai(e){return/[0-9]/.test(e)}function ci(e,t){if(t&&(i=o(t)))return i;for(var n=0,r=ri;n<r.length;n++){var i;if(i=o(r[n]))return i}function o(t){if(e.hasAttribute(t))return"".concat(I(e.tagName),"[").concat(t,'="').concat(I(e.getAttribute(t)),'"]')}}function ui(e){for(var t=e.parentElement.firstElementChild,n=1;t&&t!==e;)t.tagName===e.tagName&&(n+=1),t=t.nextElementSibling;return"".concat(I(e.tagName),":nth-of-type(").concat(n,")")}function li(e,t,n,r,i){for(var o=0,s=t;o<s.length;o++){var a=(0,s[o])(e,r);if(a){var c=hi(a,i);if(n(e,c))return c}}}function di(e,t){return 1===e.ownerDocument.querySelectorAll(t).length}function fi(e,t){return 1===e.parentElement.querySelectorAll(function(){if(void 0===ni)try{document.querySelector(":scope"),ni=!0}catch(W){ni=!1}return ni}()?hi(":scope",t):t).length}function hi(e,t){return t?"".concat(e,">").concat(t):e}var pi=ce,mi=100;function gi(e,t){var n,r=[],i=0;function o(e){e.stopObservable.subscribe(s),r.push(e),y(n),n=v(a,pi)}function s(){1===i&&r.every((function(e){return e.isStopped()}))&&(i=2,t(r))}function a(){y(n),0===i&&(i=1,s())}return o(e),{tryAppend:function(e){return 0===i&&(r.length>0&&(t=r[r.length-1].event,n=e.event,!(t.target===n.target&&(s=t,c=n,Math.sqrt(Math.pow(s.clientX-c.clientX,2)+Math.pow(s.clientY-c.clientY,2))<=mi)&&t.timeStamp-n.timeStamp<=pi))?(a(),!1):(o(e),!0));var t,n,s,c},stop:function(){a()}}}function vi(){var e=window.getSelection();return!e||e.isCollapsed}function yi(e){return e.target instanceof Element&&!1!==e.isPrimary}var bi=3;function Ei(e,t){if(function(e){if(e.some((function(e){return e.getUserActivity().selection})))return!1;for(var t=0;t<e.length-(bi-1);t+=1)if(e[t+bi-1].event.timeStamp-e[t].event.timeStamp<=ce)return!0;return!1}(e))return t.addFrustration("rage_click"),e.some(Si)&&t.addFrustration("dead_click"),t.hasError&&t.addFrustration("error_click"),{isRage:!0};var n=e.some((function(e){return e.getUserActivity().selection}));return e.forEach((function(e){e.hasError&&e.addFrustration("error_click"),Si(e)&&!n&&e.addFrustration("dead_click")})),{isRage:!1}}var wi='input:not([type="checkbox"]):not([type="radio"]):not([type="button"]):not([type="submit"]):not([type="reset"]):not([type="range"]),textarea,select,[contenteditable],[contenteditable] *,canvas,a[href],a[href] *';function Si(e){return!e.hasPageActivity&&!e.getUserActivity().input&&(t=e.event.target,n=wi,!(t.matches?t.matches(n):t.msMatchesSelector&&t.msMatchesSelector(n)));var t,n}var Ti=10*ce,Ri=5*ue;function _i(e,t,n){var r,i=new Tr(Ri),o=new Y;e.subscribe(8,(function(){i.reset()})),e.subscribe(4,c);var s=function(e,t){var n,r,i=t.onPointerDown,o=t.onPointerUp,s={selection:!1,input:!1},a=[He(e,window,Pe.POINTER_DOWN,(function(e){yi(e)&&(n=vi(),s={selection:!1,input:!1},r=i(e))}),{capture:!0}),He(e,window,Pe.SELECTION_CHANGE,(function(){n&&vi()||(s.selection=!0)}),{capture:!0}),He(e,window,Pe.POINTER_UP,(function(e){if(yi(e)&&r){var t=s;o(r,e,(function(){return t})),r=void 0}}),{capture:!0}),He(e,window,Pe.INPUT,(function(){s.input=!0}),{capture:!0})];return{stop:function(){a.forEach((function(e){return e.stop()}))}}}(n,{onPointerDown:function(r){return function(e,t,n,r){var i=(s=r,a=e.actionNameAttribute,c=s.target.getBoundingClientRect(),{type:"click",target:{width:Math.round(c.width),height:Math.round(c.height),selector:si(s.target,a)},position:{x:Math.round(s.clientX-c.left),y:Math.round(s.clientY-c.top)},name:Kr(s.target,a)}),o=!1;var s,a,c;return zr(t,n,e,(function(e){o=e.hadActivity}),Fr),{clickActionBase:i,hadActivityOnPointerDown:function(){return o}}}(n,e,t,r)},onPointerUp:function(r,s,c){var u=r.clickActionBase,l=r.hadActivityOnPointerDown;return function(e,t,n,r,i,o,s,a,c,u){var l=Oi(t,r,c,s,a);o(l);var d=zr(t,n,e,(function(e){e.hadActivity&&e.end<l.startClocks.timeStamp?l.discard():e.hadActivity?l.stop(e.end):u()?l.stop(l.startClocks.timeStamp):l.stop()}),Ti).stop,f=t.subscribe(4,(function(e){var t=e.endClocks;l.stop(t.timeStamp)})),h=i.subscribe((function(){l.stop()}));l.stopObservable.subscribe((function(){f.unsubscribe(),d(),h.unsubscribe()}))}(n,e,t,i,o,a,u,s,c,l)}}).stop;return{stop:function(){c(),o.notify(),s()},actionContexts:{findActionId:function(e){return i.findAll(e)}}};function a(e){if(!r||!r.tryAppend(e)){var t=e.clone();r=gi(e,(function(e){!function(e,t){var n=Ei(e,t).isRage;n?(e.forEach((function(e){return e.discard()})),t.stop(ge()),t.validate(e.map((function(e){return e.event})))):(t.discard(),e.forEach((function(e){return e.validate()})))}(e,t)}))}}function c(){r&&r.stop()}}function Oi(e,t,n,r,i){var o,s=Re(),a=ye(),c=t.add(s,a.relative),u=Br({lifeCycle:e,isChildEvent:function(e){return void 0!==e.action&&(Array.isArray(e.action.id)?R(e.action.id,s):e.action.id===s)}}),l=0,d=[],f=new Y;function h(e){0===l&&(l=1,(o=e)?c.close(Se(o)):c.remove(),u.stop(),f.notify())}return{event:i,stop:h,stopObservable:f,get hasError(){return u.eventCounts.errorCount>0},get hasPageActivity(){return void 0!==o},getUserActivity:n,addFrustration:function(e){d.push(e)},startClocks:a,isStopped:function(){return 1===l||2===l},clone:function(){return Oi(e,t,n,r,i)},validate:function(t){if(h(),1===l){var n=u.eventCounts,c=n.resourceCount,f=n.errorCount,p=n.longTaskCount,m=k({type:"click",duration:o&&Ee(a.timeStamp,o),startClocks:a,id:s,frustrationTypes:d,counts:{resourceCount:c,errorCount:f,longTaskCount:p},events:null!=t?t:[i],event:i},r);e.notify(1,m),l=2}},discard:function(){h(),l=2}}}function xi(e,t){var n=Ci(e)?{action:{id:e.id,loading_time:pe(e.duration),frustration:{type:e.frustrationTypes},error:{count:e.counts.errorCount},long_task:{count:e.counts.longTaskCount},resource:{count:e.counts.resourceCount}},_dd:{action:{target:e.target,position:e.position}}}:void 0;return{customerContext:Ci(e)?void 0:e.context,rawRumEvent:B({action:{id:Re(),target:{name:e.name},type:e.type},date:e.startClocks.timeStamp,type:"action",view:{in_foreground:t.isInActivePageStateAt(e.startClocks.relative)}},n),startTime:e.startClocks.relative,domainContext:Ci(e)?{events:e.events}:{}}}function Ci(e){return"custom"!==e.type}function Ai(e){var t,n=function(t,n){var r=ct({stackTrace:t,originalError:n,startClocks:ye(),nonErrorPrefix:"Uncaught",source:cr.SOURCE,handling:"unhandled"});e.notify(r)},r=(t=n,Or(window,"onerror",{before:function(e,n,r,i,o){var s;s=o instanceof Error?We(o):it(e,n,r,i),t(s,null!=o?o:e)}})).stop,i=function(e){return Or(window,"onunhandledrejection",{before:function(t){var n=t.reason||"Empty reason",r=We(n);e(r,n)}})}(n).stop;return{stop:function(){r(),i()}}}var Ii={};function ki(e){var t=e.map((function(e){return Ii[e]||(Ii[e]=function(e){var t=new Y((function(){var n=s[e];return s[e]=function(){for(var r=[],i=0;i<arguments.length;i++)r[i]=arguments[i];n.apply(console,r);var s=ft();m((function(){t.notify(function(e,t,n){var r,i,s=e.map((function(e){return function(e){if("string"==typeof e)return K(e);if(e instanceof Error)return dt(We(e));return F(K(e),void 0,2)}(e)})).join(" ");if(t===o.error){var a=O(e,(function(e){return e instanceof Error}));r=a?lt(We(a)):void 0,i=ut(a)}return{api:t,message:s,stack:r,handlingStack:n,fingerprint:i}}(r,e,s))}))},function(){s[e]=n}}));return t}(e)),Ii[e]}));return Z.apply(void 0,t)}var Ni={intervention:"intervention",deprecation:"deprecation",cspViolation:"csp_violation"};function Li(e,t){var n=[];R(t,Ni.cspViolation)&&n.push(function(e){var t=new Y((function(){return He(e,document,Pe.SECURITY_POLICY_VIOLATION,(function(e){t.notify(function(e){var t=Ni.cspViolation,n="'".concat(e.blockedURI,"' blocked by '").concat(e.effectiveDirective,"' directive");return{type:Ni.cspViolation,subtype:e.effectiveDirective,message:"".concat(t,": ").concat(n),stack:Pi(e.effectiveDirective,e.originalPolicy?"".concat(n,' of the policy "').concat(Ae(e.originalPolicy,100,"..."),'"'):"no policy",e.sourceFile,e.lineNumber,e.columnNumber)}}(e))})).stop}));return t}(e));var r=t.filter((function(e){return e!==Ni.cspViolation}));return r.length&&n.push(function(e){var t=new Y((function(){if(window.ReportingObserver){var n=p((function(e,n){return e.forEach((function(e){t.notify(function(e){var t=e.type,n=e.body;return{type:t,subtype:n.id,message:"".concat(t,": ").concat(n.message),stack:Pi(n.id,n.message,n.sourceFile,n.lineNumber,n.columnNumber)}}(e))}))})),r=new window.ReportingObserver(n,{types:e,buffered:!0});return r.observe(),function(){r.disconnect()}}}));return t}(r)),Z.apply(void 0,n)}function Pi(e,t,n,r,i){return n?lt({name:e,message:t,stack:[{func:"?",url:n,line:null!=r?r:void 0,column:null!=i?i:void 0}]}):void 0}function Ui(e,t,n,r){var i=new Y;return function(e){var t=ki([o.error]).subscribe((function(t){return e.notify({startClocks:ye(),message:t.message,stack:t.stack,fingerprint:t.fingerprint,source:cr.CONSOLE,handling:"handled",handlingStack:t.handlingStack})}))}(i),Ai(i),function(e,t){var n=Li(e,[Ni.cspViolation,Ni.intervention]).subscribe((function(e){return t.notify({startClocks:ye(),message:e.message,stack:e.stack,type:e.subtype,source:cr.REPORT,handling:"unhandled"})}))}(t,i),i.subscribe((function(t){return e.notify(12,{error:t})})),function(e,t,n){return e.subscribe(12,(function(r){var i=r.error,o=r.customerContext,s=r.savedCommonContext;e.notify(10,k({customerContext:o,savedCommonContext:s},function(e,t,n){var r={date:e.startClocks.timeStamp,error:{id:Re(),message:e.message,source:e.source,stack:e.stack,handling_stack:e.handlingStack,type:e.type,handling:e.handling,causes:e.causes,source_type:"browser",fingerprint:e.fingerprint},type:"error",view:{in_foreground:t.isInActivePageStateAt(e.startClocks.relative)}},i=n.findFeatureFlagEvaluations(e.startClocks.relative);i&&!bt(i)&&(r.feature_flags=i);return{rawRumEvent:r,startTime:e.startClocks.relative,domainContext:{error:e.originalError}}}(i,t,n)))})),{addError:function(t,n){var r=t.error,i=t.handlingStack,o=t.startClocks,s=t.context,a=ct({stackTrace:r instanceof Error?We(r):void 0,originalError:r,handlingStack:i,startClocks:o,nonErrorPrefix:"Provided",source:cr.CUSTOM,handling:"handled"});e.notify(12,{customerContext:s,savedCommonContext:n,error:a})}}}(e,n,r)}function Di(e){if(performance&&"getEntriesByName"in performance){var t=performance.getEntriesByName(e.url,"resource");if(t.length&&"toJSON"in t[0]){var n=t.map((function(e){return e.toJSON()})).filter(Kn).filter((function(t){return n=t,r=e.startClocks.relative,i=Mi({startTime:e.startClocks.relative,duration:e.duration}),o=1,n.startTime>=r-o&&Mi(n)<=we(i,o);var n,r,i,o}));return 1===n.length?n[0]:void 0}}}function Mi(e){return we(e.startTime,e.duration)}function ji(e,t,n,r){e.subscribe(6,(function(i){var o=function(e,t,n,r){var i,o=Di(e),s=o?fe(o.startTime):e.startClocks,a=Fi(t,n,s),c=function(e,t){var n=e.traceSampled&&e.traceId&&e.spanId;if(!n)return;return{_dd:{span_id:e.spanId.toDecimalString(),trace_id:e.traceId.toDecimalString(),rule_psr:zi(t)}}}(e,t);if(!a&&!c)return;var u="xhr"===e.type?"xhr":"fetch",l=o?Hi(o):void 0,d=function(e,t,n){var r,i=null===(r=e.findAll(t.relative,n))||void 0===r?void 0:r.some((function(e){return"frozen"===e.state}));return i?void 0:pe(n)}(r,s,e.duration),f=Gi(r,s,null!==(i=null==o?void 0:o.duration)&&void 0!==i?i:e.duration),h=B({date:s.timeStamp,resource:{id:Re(),type:u,duration:d,method:e.method,status_code:e.status,url:e.url},type:"resource",_dd:{discarded:!a}},c,l,f);return{startTime:s.relative,rawRumEvent:h,domainContext:{performanceEntry:o,xhr:e.xhr,response:e.response,requestInput:e.input,requestInit:e.init,error:e.error}}}(i,t,n,r);o&&e.notify(10,o)})),e.subscribe(0,(function(i){for(var o=0,s=i;o<s.length;o++){var a=s[o];if(a.entryType===Xn.RESOURCE&&("xmlhttprequest"!==(u=a).initiatorType&&"fetch"!==u.initiatorType)){var c=Bi(a,t,n,r);c&&e.notify(10,c)}}var u}))}function Bi(e,t,n,r){var i=fe(e.startTime),o=Fi(t,n,i),s=function(e,t){var n=e.traceId;if(!n)return;return{_dd:{trace_id:e.traceId,rule_psr:zi(t)}}}(e,t);if(o||s){var a=zn(e),c=Hi(e),u=Gi(r,i,e.duration),l=B({date:i.timeStamp,resource:{id:Re(),type:a,url:e.name},type:"resource",_dd:{discarded:!o}},s,c,u);return{startTime:i.relative,rawRumEvent:l,domainContext:{performanceEntry:e}}}}function Fi(e,t,n){return e.trackResources&&t.findTrackedSession(n.relative)}function Hi(e){return{resource:k({duration:(t=e,n=t.duration,r=t.startTime,i=t.responseEnd,pe(0===n&&r<i?Ee(r,i):n)),size:Wn(e)},Vn(e))};var t,n,r,i}function zi(e){return se(e.traceSampleRate)?e.traceSampleRate/100:void 0}function Gi(e,t,n){if(mt(st.RESOURCE_PAGE_STATES))return{_dd:{page_states:e.findAll(t.relative,n),page_was_discarded:String(document.wasDiscarded)}}}var Vi=10*ue;var Ki,qi=10*ue;function $i(e,t,n,r){var i={},o=function(e,t){return{stop:e.subscribe(0,(function(e){for(var n=0,r=e;n<r.length;n++){var i=r[n];i.entryType===Xn.NAVIGATION&&t({domComplete:i.domComplete,domContentLoaded:i.domContentLoadedEventEnd,domInteractive:i.domInteractive,loadEvent:i.loadEventEnd,firstByte:i.responseStart>=0&&i.responseStart<=ve()?i.responseStart:void 0})}})).unsubscribe}}(e,(function(e){n(e.loadEvent),i.navigationTimings=e,r()})).stop,s=function(e,t){var n,r;return void 0===t&&(t=window),"hidden"===document.visibilityState?n=0:(n=1/0,r=ze(e,t,[Pe.PAGE_HIDE,Pe.VISIBILITY_CHANGE],(function(e){e.type!==Pe.PAGE_HIDE&&"hidden"!==document.visibilityState||(n=e.timeStamp,r())}),{capture:!0}).stop),{get timeStamp(){return n},stop:function(){null==r||r()}}}(t),a=function(e,t,n){return{stop:e.subscribe(0,(function(e){var r=O(e,(function(e){return e.entryType===Xn.PAINT&&"first-contentful-paint"===e.name&&e.startTime<t.timeStamp&&e.startTime<Vi}));r&&n(r.startTime)})).unsubscribe}}(e,s,(function(e){i.firstContentfulPaint=e,r()})).stop,c=function(e,t,n,r,i){var o=1/0,s=ze(t,r,[Pe.POINTER_DOWN,Pe.KEY_DOWN],(function(e){o=e.timeStamp}),{capture:!0,once:!0}).stop,a=e.subscribe(0,(function(e){var r=function(e,t){for(var n=e.length-1;n>=0;n-=1){var r=e[n];if(t(r,n,e))return r}}(e,(function(e){return e.entryType===Xn.LARGEST_CONTENTFUL_PAINT&&e.startTime<o&&e.startTime<n.timeStamp&&e.startTime<qi}));if(r){var s=void 0;r.element&&(s=si(r.element,t.actionNameAttribute)),i({value:r.startTime,targetSelector:s})}})).unsubscribe;return{stop:function(){s(),a()}}}(e,t,s,window,(function(e){i.largestContentfulPaint=e,r()})).stop,u=function(e,t,n,r){return{stop:e.subscribe(0,(function(e){var i=O(e,(function(e){return e.entryType===Xn.FIRST_INPUT&&e.startTime<n.timeStamp}));if(i){var o=Ee(i.startTime,i.processingStart),s=void 0;i.target&&Qn(i.target)&&(s=si(i.target,t.actionNameAttribute)),r({delay:o>=0?o:0,time:i.startTime,targetSelector:s})}})).unsubscribe}}(e,t,s,(function(e){i.firstInput=e,r()})).stop;return{stop:function(){o(),a(),c(),u(),s.stop()},initialViewMetrics:i}}function Wi(e,t,n){if(!ir(Xn.LAYOUT_SHIFT))return{stop:S};var r=0;n({value:0});var i=function(){var e,t,n,r,i=0,o=0;return{update:function(s){var a,c;void 0===e||s.startTime-t>=ce||s.startTime-e>=5*ce?(e=t=s.startTime,i=s.value,o=0,n=void 0):(i+=s.value,t=s.startTime),s.value>o&&(o=s.value,r=s.startTime,n=(null===(a=s.sources)||void 0===a?void 0:a.length)?null===(c=O(s.sources,(function(e){return!!e.node&&Qn(e.node)})))||void 0===c?void 0:c.node:void 0)},value:function(){return i},largestLayoutShiftTarget:function(){return n},largestLayoutShiftTime:function(){return r}}}();return{stop:t.subscribe(0,(function(t){for(var o=0,s=t;o<s.length;o++){var a=s[o];if(a.entryType===Xn.LAYOUT_SHIFT&&!a.hadRecentInput&&(i.update(a),i.value()>r)){var c=ie(r=i.value(),4),u=i.largestLayoutShiftTarget(),l=void 0;u&&u.isConnected&&(l=si(u,e.actionNameAttribute)),n({value:c,targetSelector:l})}}})).unsubscribe}}var Yi=0,Zi=1/0,Qi=0;var Xi,Ji=function(){return Ki?Yi:window.performance.interactionCount||0},eo=10,to=1*ue;function no(e,t,n,r){if(!(ir(Xn.EVENT)&&window.PerformanceEventTiming&&"interactionId"in PerformanceEventTiming.prototype))return{getInteractionToNextPaint:function(){},setViewEnd:S,stop:S};var i,o=function(e){"interactionCount"in performance||Ki||(Ki=new window.PerformanceObserver(p((function(e){e.getEntries().forEach((function(e){var t=e;t.interactionId&&(Zi=Math.min(Zi,t.interactionId),Qi=Math.max(Qi,t.interactionId),Yi=(Qi-Zi)/7+1)}))})))).observe({type:"event",buffered:!0,durationThreshold:0});var t="initial_load"===e?0:Ji(),n={stopped:!1};function r(){return Ji()-t}return{getViewInteractionCount:function(){return n.stopped?n.interactionCount:r()},stopViewInteractionCount:function(){n={stopped:!0,interactionCount:r()}}}}(n),s=o.getViewInteractionCount,a=o.stopViewInteractionCount,c=1/0,u=function(e){var t=[];function n(){t.sort((function(e,t){return t.duration-e.duration})).splice(eo)}return{process:function(e){var r=t.findIndex((function(t){return e.interactionId===t.interactionId})),i=t[t.length-1];-1!==r?e.duration>t[r].duration&&(t[r]=e,n()):(t.length<eo||e.duration>i.duration)&&(t.push(e),n())},estimateP98Interaction:function(){var n=Math.min(t.length-1,Math.floor(e()/50));return t[n]}}}(s),l=-1;return{getInteractionToNextPaint:function(){return l>=0?{value:Math.min(l,to),targetSelector:i}:s()?{value:0}:void 0},setViewEnd:function(e){c=e,a()},stop:r.subscribe(0,(function(n){for(var r=0,o=n;r<o.length;r++){var s=o[r];(s.entryType===Xn.EVENT||s.entryType===Xn.FIRST_INPUT)&&s.interactionId&&s.startTime>=t&&s.startTime<=c&&u.process(s)}var a=u.estimateP98Interaction();a&&(l=a.duration,i=a.target&&Qn(a.target)?si(a.target,e.actionNameAttribute):void 0)})).unsubscribe}}function ro(e){return Xi||(Xi=function(e){var t=new Y((function(){var n=w((function(){t.notify(io())}),200).throttled;return He(e,window,Pe.RESIZE,n,{capture:!0,passive:!0}).stop}));return t}(e)),Xi}function io(){var e=window.visualViewport;return e?{width:Number(e.width*e.scale),height:Number(e.height*e.scale)}:{width:Number(window.innerWidth||0),height:Number(window.innerHeight||0)}}var oo=ce;function so(e,t,n,r){void 0===r&&(r=function(e,t){void 0===t&&(t=oo);var n=new Y((function(){function r(){var e,t,r,i,o,s;n.notify((s=window.visualViewport,o=s?s.pageTop-s.offsetTop:void 0!==window.scrollY?window.scrollY:window.pageYOffset||0,e=Math.round(o),t=io().height,r=Math.round((document.scrollingElement||document.documentElement).scrollHeight),i=Math.round(t+e),{scrollHeight:r,scrollDepth:i,scrollTop:e}))}if(window.ResizeObserver){var i=w(r,t,{leading:!1,trailing:!0}),o=document.scrollingElement||document.documentElement,s=new ResizeObserver(p(i.throttled));s.observe(o);var a=He(e,window,Pe.SCROLL,i.throttled,{passive:!0});return function(){i.cancel(),s.unobserve(o),a.stop()}}}));return n}(e));var i=0,o=0,s=0,a=r.subscribe((function(e){var r=e.scrollDepth,a=e.scrollTop,c=e.scrollHeight,u=!1;if(r>i&&(i=r,u=!0),c>o){o=c;var l=ve();s=Ee(t.relative,l),u=!0}u&&n({maxDepth:Math.min(i,o),maxDepthScrollTop:a,maxScrollHeight:o,maxScrollHeightTime:s})}));return{stop:function(){return a.unsubscribe()}}}function ao(e,t,n,r,i,o){var s={},a=function(e,t,n,r,i,o){var s="initial_load"===r,a=!0,c=[];function u(){!a&&!s&&c.length>0&&o(Math.max.apply(Math,c))}return{stop:zr(e,t,n,(function(e){a&&(a=!1,e.hadActivity&&c.push(Ee(i.timeStamp,e.end)),u())})).stop,setLoadEvent:function(e){s&&(s=!1,c.push(e),u())}}}(e,t,n,i,o,(function(e){s.loadingTime=e,r()})),c=a.stop,u=a.setLoadEvent,l=so(n,o,(function(e){s.scroll=e})).stop,d=Wi(n,e,(function(e){s.cumulativeLayoutShift=e,r()})).stop,f=no(n,o.relative,i,e),h=f.stop,p=f.getInteractionToNextPaint;return{stop:function(){c(),d(),l()},stopINPTracking:h,setLoadEvent:u,setViewEnd:f.setViewEnd,getCommonViewMetrics:function(){return s.interactionToNextPaint=p(),s}}}var co=3e3,uo=5*ue,lo=5*ue;function fo(e,t,n,r,i,o,s){var a,c=new Set,u=d("initial_load",be(),s);function d(i,o,s){var a=function(e,t,n,r,i,o,s){void 0===o&&(o=ye());var a,c,u,d,f=Re(),h=new Y,p={},m=0,g=vt(r),y=!0;s&&(c=s.name,u=s.service,d=s.version);e.notify(2,{id:f,name:c,startClocks:o,service:u,version:d});var T=w(B,co,{leading:!1}),R=T.throttled,_=T.cancel,O=ao(e,t,n,R,i,o),x=O.setLoadEvent,C=O.setViewEnd,A=O.stop,I=O.stopINPTracking,k=O.getCommonViewMetrics,N="initial_load"===i?$i(e,n,x,R):{stop:S,initialViewMetrics:{}},L=N.stop,P=N.initialViewMetrics,U=function(e,t,n){var r=Br({lifeCycle:e,isChildEvent:function(e){return e.view.id===t},onChange:n});return{stop:r.stop,eventCounts:r.eventCounts}}(e,f,R),D=U.stop,M=U.eventCounts,j=b(B,uo);function B(){_(),m+=1;var t=void 0===a?ge():a.timeStamp;e.notify(3,{customTimings:p,documentVersion:m,id:f,name:c,service:u,version:d,loadingType:i,location:g,startClocks:o,commonViewMetrics:k(),initialViewMetrics:P,duration:Ee(o.timeStamp,t),isActive:void 0===a,sessionIsActive:y,eventCounts:M})}return B(),{name:c,service:u,version:d,stopObservable:h,end:function(t){var n,r,i=this;void 0===t&&(t={}),a||(a=null!==(n=t.endClocks)&&void 0!==n?n:ye(),y=null===(r=t.sessionIsActive)||void 0===r||r,e.notify(4,{endClocks:a}),E(j),C(a.relative),A(),B(),v((function(){i.stop()}),lo))},stop:function(){L(),D(),I(),h.notify()},addTiming:function(e,t){if(!a){var n=function(e){return e<de}(t)?t:Ee(o.timeStamp,t);p[function(e){var t=e.replace(/[^a-zA-Z0-9-_.@$]/g,"_");t!==e&&l.warn("Invalid timing name: ".concat(e,", sanitized to: ").concat(t));return t}(e)]=n,R()}}}}(t,n,r,e,i,o,s);return c.add(a),a.stopObservable.subscribe((function(){c.delete(a)})),a}return t.subscribe(8,(function(){u=d("route_change",void 0,{name:u.name,service:u.service,version:u.version})})),t.subscribe(7,(function(){u.end({sessionIsActive:!1})})),t.subscribe(9,(function(e){e.reason!==Mn.UNLOADING&&e.reason!==Mn.PAGEHIDE||u.end()})),o&&(a=function(e){return e.subscribe((function(e){var t,n,r,i,o=e.oldLocation,s=e.newLocation;n=s,(t=o).pathname===n.pathname&&(r=n.hash,""!==(i=r.substring(1))&&document.getElementById(i)||ho(n.hash)===ho(t.hash))||(u.end(),u=d("route_change"))}))}(i)),{addTiming:function(e,t){void 0===t&&(t=ge()),u.addTiming(e,t)},startView:function(e,t){u.end({endClocks:t}),u=d("route_change",t,e)},stop:function(){null==a||a.unsubscribe(),u.end(),c.forEach((function(e){return e.stop()}))}}}function ho(e){var t=e.indexOf("?");return t<0?e:e.slice(0,t)}function po(e,t,n,r,i,o,s,a,c){return e.subscribe(3,(function(n){return e.notify(10,function(e,t,n,r,i){var o,s,a,c,u,l,d,f,h,p,m,g,v,y,b=r.getReplayStats(e.id),E=n.findFeatureFlagEvaluations(e.startClocks.relative),w=i.findAll(e.startClocks.relative,e.duration),S={_dd:{document_version:e.documentVersion,replay_stats:b,page_states:w,configuration:{start_session_replay_recording_manually:t.startSessionReplayRecordingManually}},date:e.startClocks.timeStamp,type:"view",view:{action:{count:e.eventCounts.actionCount},frustration:{count:e.eventCounts.frustrationCount},cumulative_layout_shift:null===(o=e.commonViewMetrics.cumulativeLayoutShift)||void 0===o?void 0:o.value,cumulative_layout_shift_target_selector:null===(s=e.commonViewMetrics.cumulativeLayoutShift)||void 0===s?void 0:s.targetSelector,first_byte:pe(null===(a=e.initialViewMetrics.navigationTimings)||void 0===a?void 0:a.firstByte),dom_complete:pe(null===(c=e.initialViewMetrics.navigationTimings)||void 0===c?void 0:c.domComplete),dom_content_loaded:pe(null===(u=e.initialViewMetrics.navigationTimings)||void 0===u?void 0:u.domContentLoaded),dom_interactive:pe(null===(l=e.initialViewMetrics.navigationTimings)||void 0===l?void 0:l.domInteractive),error:{count:e.eventCounts.errorCount},first_contentful_paint:pe(e.initialViewMetrics.firstContentfulPaint),first_input_delay:pe(null===(d=e.initialViewMetrics.firstInput)||void 0===d?void 0:d.delay),first_input_time:pe(null===(f=e.initialViewMetrics.firstInput)||void 0===f?void 0:f.time),first_input_target_selector:null===(h=e.initialViewMetrics.firstInput)||void 0===h?void 0:h.targetSelector,interaction_to_next_paint:pe(null===(p=e.commonViewMetrics.interactionToNextPaint)||void 0===p?void 0:p.value),interaction_to_next_paint_target_selector:null===(m=e.commonViewMetrics.interactionToNextPaint)||void 0===m?void 0:m.targetSelector,is_active:e.isActive,name:e.name,largest_contentful_paint:pe(null===(g=e.initialViewMetrics.largestContentfulPaint)||void 0===g?void 0:g.value),largest_contentful_paint_target_selector:null===(v=e.initialViewMetrics.largestContentfulPaint)||void 0===v?void 0:v.targetSelector,load_event:pe(null===(y=e.initialViewMetrics.navigationTimings)||void 0===y?void 0:y.loadEvent),loading_time:mo(pe(e.commonViewMetrics.loadingTime)),loading_type:e.loadingType,long_task:{count:e.eventCounts.longTaskCount},resource:{count:e.eventCounts.resourceCount},time_spent:pe(e.duration)},feature_flags:E&&!bt(E)?E:void 0,display:e.commonViewMetrics.scroll?{scroll:{max_depth:e.commonViewMetrics.scroll.maxDepth,max_depth_scroll_top:e.commonViewMetrics.scroll.maxDepthScrollTop,max_scroll_height:e.commonViewMetrics.scroll.maxScrollHeight,max_scroll_height_time:pe(e.commonViewMetrics.scroll.maxScrollHeightTime)}}:void 0,session:{has_replay:!!b||void 0,is_active:!!e.sessionIsActive&&void 0},privacy:{replay_level:t.defaultPrivacyLevel}};bt(e.customTimings)||(S.view.custom_timings=function(e,t){for(var n={},r=0,i=Object.keys(e);r<i.length;r++){var o=i[r];n[o]=t(e[o])}return n}(e.customTimings,pe));return{rawRumEvent:S,startTime:e.startClocks.relative,domainContext:{location:e.location}}}(n,t,o,a,s))})),fo(n,e,r,t,i,!t.trackViewsManually,c)}function mo(e){return se(e)&&e<0?void 0:e}var go=ue,vo=wt,yo=[];function bo(e,t,n){var r=Jt(e.sessionStoreStrategyType,t,n);yo.push((function(){return r.stop()}));var i=new Tr(vo);function o(){return{id:r.getSession().id,trackingType:r.getSession()[t]}}return yo.push((function(){return i.stop()})),r.renewObservable.subscribe((function(){i.add(o(),ve())})),r.expireObservable.subscribe((function(){i.closeActive(ve())})),r.expandOrRenewSession(),i.add(o(),be().relative),function(e,t){var n=ze(e,window,[Pe.CLICK,Pe.TOUCH_START,Pe.KEY_DOWN,Pe.SCROLL],t,{capture:!0,passive:!0}).stop;yo.push(n)}(e,(function(){return r.expandOrRenewSession()})),function(e,t){var n=function(){"visible"===document.visibilityState&&t()},r=He(e,document,Pe.VISIBILITY_CHANGE,n).stop;yo.push(r);var i=b(n,go);yo.push((function(){E(i)}))}(e,(function(){return r.expandSession()})),{findActiveSession:function(e){return i.find(e)},renewObservable:r.renewObservable,expireObservable:r.expireObservable,expire:r.expire}}var Eo="rum";function wo(e,t){var n=bo(e,Eo,(function(t){return function(e,t){var n;n=function(e){return"0"===e||"1"===e||"2"===e}(t)?t:re(e.sessionSampleRate)?re(e.sessionReplaySampleRate)?"1":"2":"0";return{trackingType:n,isTracked:So(n)}}(e,t)}));return n.expireObservable.subscribe((function(){t.notify(7)})),n.renewObservable.subscribe((function(){t.notify(8)})),{findTrackedSession:function(e){var t=n.findActiveSession(e);if(t&&So(t.trackingType))return{id:t.id,sessionReplayAllowed:"1"===t.trackingType}},expire:n.expire,expireObservable:n.expireObservable}}function So(e){return"2"===e||"1"===e}var To=function(){function e(e,t,n,r){var i=this;this.encoder=e,this.request=t,this.flushController=n,this.messageBytesLimit=r,this.upsertBuffer={},this.flushSubscription=this.flushController.flushObservable.subscribe((function(e){return i.flush(e)}))}return e.prototype.add=function(e){this.addOrUpdate(e)},e.prototype.upsert=function(e,t){this.addOrUpdate(e,t)},e.prototype.stop=function(){this.flushSubscription.unsubscribe()},e.prototype.flush=function(e){var t=x(this.upsertBuffer).join("\n");this.upsertBuffer={};var n,r=(n=e.reason,R(x(Mn),n)),i=r?this.request.sendOnExit:this.request.send;if(r&&this.encoder.isAsync){var o=this.encoder.finishSync();o.outputBytesCount&&i(Ro(o,e));var s=[o.pendingData,t].filter(Boolean).join("\n");s&&i({data:s,bytesCount:U(s),flushReason:e.reason})}else t&&this.encoder.write(this.encoder.isEmpty?t:"\n".concat(t)),this.encoder.finish((function(t){i(Ro(t,e))}))},e.prototype.addOrUpdate=function(e,t){var n=F(e),r=this.encoder.estimateEncodedBytesCount(n);r>=this.messageBytesLimit?l.warn("Discarded a message whose size was bigger than the maximum allowed size ".concat(this.messageBytesLimit,"KB.")):(this.hasMessageFor(t)&&this.remove(t),this.push(n,r,t))},e.prototype.push=function(e,t,n){var r=this;this.flushController.notifyBeforeAddMessage(t),void 0!==n?(this.upsertBuffer[n]=e,this.flushController.notifyAfterAddMessage()):this.encoder.write(this.encoder.isEmpty?e:"\n".concat(e),(function(e){r.flushController.notifyAfterAddMessage(e-t)}))},e.prototype.remove=function(e){var t=this.upsertBuffer[e];delete this.upsertBuffer[e];var n=this.encoder.estimateEncodedBytesCount(t);this.flushController.notifyAfterRemoveMessage(n)},e.prototype.hasMessageFor=function(e){return void 0!==e&&void 0!==this.upsertBuffer[e]},e}();function Ro(e,t){return{data:"string"==typeof e.output?e.output:new Blob([e.output],{type:"text/plain"}),bytesCount:e.outputBytesCount,encoding:e.encoding,flushReason:t.reason}}var _o=80*N,Oo=32,xo=3*L,Co=ue,Ao=ce;function Io(e,t,n,r,i){0===t.transportStatus&&0===t.queuedPayloads.size()&&t.bandwidthMonitor.canHandle(e)?No(e,t,n,{onSuccess:function(){return Lo(0,t,n,r,i)},onFailure:function(){t.queuedPayloads.enqueue(e),ko(t,n,r,i)}}):t.queuedPayloads.enqueue(e)}function ko(e,t,n,r){2===e.transportStatus&&v((function(){No(e.queuedPayloads.first(),e,t,{onSuccess:function(){e.queuedPayloads.dequeue(),e.currentBackoffTime=Ao,Lo(1,e,t,n,r)},onFailure:function(){e.currentBackoffTime=Math.min(Co,2*e.currentBackoffTime),ko(e,t,n,r)}})}),e.currentBackoffTime)}function No(e,t,n,r){var i=r.onSuccess,o=r.onFailure;t.bandwidthMonitor.add(e),n(e,(function(n){t.bandwidthMonitor.remove(e),!function(e){return"opaque"!==e.type&&(0===e.status&&!navigator.onLine||408===e.status||429===e.status||(t=e.status,t>=500));var t}(n)?(t.transportStatus=0,i()):(t.transportStatus=t.bandwidthMonitor.ongoingRequestCount>0?1:2,e.retry={count:e.retry?e.retry.count+1:1,lastFailureStatus:n.status},o())}))}function Lo(e,t,n,r,i){0===e&&t.queuedPayloads.isFull()&&!t.queueFullReported&&(i({message:"Reached max ".concat(r," events size queued for upload: ").concat(xo/L,"MiB"),source:cr.AGENT,startClocks:ye()}),t.queueFullReported=!0);var o=t.queuedPayloads;for(t.queuedPayloads=Po();o.size()>0;)Io(o.dequeue(),t,n,r,i)}function Po(){var e=[];return{bytesCount:0,enqueue:function(t){this.isFull()||(e.push(t),this.bytesCount+=t.bytesCount)},first:function(){return e[0]},dequeue:function(){var t=e.shift();return t&&(this.bytesCount-=t.bytesCount),t},size:function(){return e.length},isFull:function(){return this.bytesCount>=xo}}}function Uo(e,t,n,r){var i={transportStatus:0,currentBackoffTime:Ao,bandwidthMonitor:{ongoingRequestCount:0,ongoingByteCount:0,canHandle:function(e){return 0===this.ongoingRequestCount||this.ongoingByteCount+e.bytesCount<=_o&&this.ongoingRequestCount<Oo},add:function(e){this.ongoingRequestCount+=1,this.ongoingByteCount+=e.bytesCount},remove:function(e){this.ongoingRequestCount-=1,this.ongoingByteCount-=e.bytesCount}},queuedPayloads:Po(),queueFullReported:!1},o=function(r,i){return function(e,t,n,r,i){var o=function(){try{return window.Request&&"keepalive"in new Request("http://a")}catch(W){return!1}}()&&r.bytesCount<n;if(o){var s=t.build("fetch",r);fetch(s,{method:"POST",body:r.data,keepalive:!0,mode:"cors"}).then(p((function(e){return null==i?void 0:i({status:e.status,type:e.type})})),p((function(){var n=t.build("xhr",r);Mo(e,n,r.data,i)})))}else{var a=t.build("xhr",r);Mo(e,a,r.data,i)}}(e,t,n,r,i)};return{send:function(e){Io(e,i,o,t.trackType,r)},sendOnExit:function(r){!function(e,t,n,r){var i=!!navigator.sendBeacon&&r.bytesCount<n;if(i)try{var o=t.build("beacon",r);if(navigator.sendBeacon(o,r.data))return}catch(a){!function(e){Do||(Do=!0,Pn(e))}(a)}var s=t.build("xhr",r);Mo(e,s,r.data)}(e,t,n,r)}}}var Do=!1;function Mo(e,t,n,r){var i=new XMLHttpRequest;i.open("POST",t,!0),n instanceof Blob&&i.setRequestHeader("Content-Type",n.type),He(e,i,"loadend",(function(){null==r||r({status:i.status})}),{once:!0}),i.send(n)}function jo(e){var t,n=e.messagesLimit,r=e.bytesLimit,i=e.durationLimit,o=e.pageExitObservable,s=e.sessionExpireObservable,a=o.subscribe((function(e){return f(e.reason)})),c=s.subscribe((function(){return f("session_expire")})),u=new Y((function(){return function(){a.unsubscribe(),c.unsubscribe()}})),l=0,d=0;function f(e){if(0!==d){var t=d,n=l;d=0,l=0,h(),u.notify({reason:e,messagesCount:t,bytesCount:n})}}function h(){y(t),t=void 0}return{flushObservable:u,get messagesCount(){return d},notifyBeforeAddMessage:function(e){l+e>=r&&f("bytes_limit"),d+=1,l+=e,void 0===t&&(t=v((function(){f("duration_limit")}),i))},notifyAfterAddMessage:function(e){void 0===e&&(e=0),l+=e,d>=n?f("messages_limit"):l>=r&&f("bytes_limit")},notifyAfterRemoveMessage:function(e){l-=e,0===(d-=1)&&h()}}}function Bo(e,t,n,r,i,o,s){var a=e.replica,c=function(e,t,n,r,i,o){var s=c(e,t),a=n&&c(e,n);function c(e,t){var n=t.endpoint,s=t.encoder;return new To(s,Uo(e,n,e.batchBytesLimit,r),jo({messagesLimit:e.batchMessagesLimit,bytesLimit:e.batchBytesLimit,durationLimit:e.flushTimeout,pageExitObservable:i,sessionExpireObservable:o}),e.messageBytesLimit)}return{flushObservable:s.flushController.flushObservable,add:function(e,t){void 0===t&&(t=!0),s.add(e),a&&t&&a.add(n.transformMessage?n.transformMessage(e):e)},upsert:function(e,t){s.upsert(e,t),a&&a.upsert(n.transformMessage?n.transformMessage(e):e,t)},stop:function(){s.stop(),null==a||a.stop()}}}(e,{endpoint:e.rumEndpointBuilder,encoder:s(2)},a&&{endpoint:a.rumEndpointBuilder,transformMessage:function(e){return B(e,{application:{id:a.applicationId}})},encoder:s(3)},r,i,o);return t.subscribe(11,(function(e){"view"===e.type?c.upsert(e,e.view.id):c.add(e)})),n.subscribe((function(t){return c.add(t,function(e){return e.site===sn}(e))})),c}var Fo=wt;function Ho(e,t){var n=vt(t),r=new Y((function(){var t=function(e,t){var n=Or(history,"pushState",{after:t}).stop,r=Or(history,"replaceState",{after:t}).stop,i=He(e,window,Pe.POP_STATE,t).stop;return{stop:function(){n(),r(),i()}}}(e,i).stop,n=function(e,t){return He(e,window,Pe.HASH_CHANGE,t)}(e,i).stop;return function(){t(),n()}}));function i(){if(n.href!==t.href){var e=vt(t);r.notify({newLocation:e,oldLocation:n}),n=e}}return r}var zo=wt,Go=200;var Vo,Ko,qo,$o=10*ce;function Wo(){0!==Vo.batchCount&&(Ln("Customer data measures",Vo),Qo())}function Yo(e,t){e.sum+=t,e.min=Math.min(e.min,t),e.max=Math.max(e.max,t)}function Zo(e,t){e.sum+=t.sum,e.min=Math.min(e.min,t.min),e.max=Math.max(e.max,t.max)}function Qo(){Vo={batchCount:0,batchBytesCount:{min:1/0,max:0,sum:0},batchMessagesCount:{min:1/0,max:0,sum:0},globalContextBytes:{min:1/0,max:0,sum:0},userContextBytes:{min:1/0,max:0,sum:0},featureFlagBytes:{min:1/0,max:0,sum:0}}}function Xo(){qo=!1,Ko={globalContextBytes:{min:1/0,max:0,sum:0},userContextBytes:{min:1/0,max:0,sum:0},featureFlagBytes:{min:1/0,max:0,sum:0}}}var Jo=4e3,es=500,ts=wt;function ns(e,t){void 0===t&&(t=es);var n,r=new Tr(ts,Jo);o(rs(),ve());var i=ze(e,window,[Pe.PAGE_SHOW,Pe.FOCUS,Pe.BLUR,Pe.VISIBILITY_CHANGE,Pe.RESUME,Pe.FREEZE,Pe.PAGE_HIDE],(function(e){o(function(e){if(e.type===Pe.FREEZE)return"frozen";if(e.type===Pe.PAGE_HIDE)return e.persisted?"frozen":"terminated";return rs()}(e),e.timeStamp)}),{capture:!0}).stop;function o(e,t){void 0===t&&(t=ve()),e!==n&&(n=e,r.closeActive(t),r.add({state:n,startTime:t},t))}return{findAll:function(e,n){var i=r.findAll(e,n);if(0!==i.length){for(var o=[],s=Math.max(0,i.length-t),a=i.length-1;a>=s;a--){var c=i[a],u=Ee(e,c.startTime);o.push({state:c.state,start:pe(u)})}return o}},isInActivePageStateAt:function(e){var t=r.find(e);return void 0!==t&&"active"===t.state},addPageState:o,stop:function(){i(),r.stop()}}}function rs(){return"hidden"===document.visibilityState?"hidden":document.hasFocus()?"active":"passive"}function is(e,t){var n=t.session,r=t.viewContext,i=t.errorType,o=n?n.id:"no-session-id",s=[];void 0!==i&&s.push("error-type=".concat(i)),r&&(s.push("seed=".concat(r.id)),s.push("from=".concat(r.startClocks.timeStamp)));var a,c,u,l=(c=(a=e).site,u=a.subdomain||function(e){switch(e.site){case an:case cn:return"app";case sn:return"dd";default:return}}(a),"https://".concat(u?"".concat(u,"."):"").concat(c)),d="/rum/replay/sessions/".concat(o);return"".concat(l).concat(d,"?").concat(s.join("&"))}var os=function(e,t,n){var r,i=void 0===n?{}:n,o=i.ignoreInitIfSyntheticsWillInjectRum,s=void 0===o||o,a=i.startDeflateWorker,c=i.createDeflateEncoder,u=!1,d=te(2),f=te(1),g=function(){},v=function(){},y=S,b=function(){},E=new ne,w=function(e,t){void 0===t&&(t=ge()),E.add((function(){return w(e,t)}))},T=function(e,t){void 0===t&&(t=ye()),E.add((function(){return T(e,t)}))},R=function(e,n){void 0===n&&(n=_n(d,f,t)),E.add((function(){return R(e,n)}))},_=function(e,n){void 0===n&&(n=_n(d,f,t)),E.add((function(){return _(e,n)}))},O=function(){E.add((function(){return O()}))},x=function(){E.add((function(){return x()}))},C=function(e,t){E.add((function(){return C(e,t)}))};function A(n,i,o){if(n.storeContextsAcrossPages){var s=d.getContext();(d=Ke(i,"rum",2)).setContext(B(d.getContext(),s));var a=f.getContext();(f=Ke(i,"rum",1)).setContext(B(f.getContext(),a))}var u=e(n,i,t,d,f,o,r&&c?function(e){return c(i,r,e)}:qe);b=function(){return t.getSessionReplayLink(i,u.session,u.viewContexts)},O=t.start,x=t.stop,T=u.startView,R=u.addAction,_=u.addError,w=u.addTiming,C=u.addFeatureFlagEvaluation,g=u.getInternalContext,y=u.stopSession,t.onRumStart(u.lifeCycle,i,u.session,u.viewContexts,r),E.drain()}var I,N,L=p((function(e){T("object"==typeof e?e:{name:e})})),P=(I={init:p((function(e){if(e){if(v=function(){return j(e)},!s||!je()){var t=Fe();if(t&&(e=function(e){return k({},e,{applicationId:"00000000-aaaa-0000-aaaa-000000000000",clientToken:"empty",sessionSampleRate:100})}(e)),function(e){return!u||(e.silentMultipleInit||l.error("DD_RUM is already initialized."),!1)}(e)){var n=Tn(e);if(n)if(t||n.sessionStoreStrategyType){if(!n.compressIntakeRequests||t||!a||(r=a(n,"Datadog RUM",S))){if(n.trackViewsManually){var i=E;E=new ne,T=function(t){A(e,n,t)},i.drain()}else A(e,n);u=!0}}else l.warn("No storage available for session. We will not send any data.")}}}else l.error("Missing configuration")})),setGlobalContextProperty:p((function(e,t){return d.setContextProperty(e,t)})),removeGlobalContextProperty:p((function(e){return d.removeContextProperty(e)})),getGlobalContext:p((function(){return d.getContext()})),setGlobalContext:p((function(e){return d.setContext(e)})),clearGlobalContext:p((function(){return d.clearContext()})),getInternalContext:p((function(e){return g(e)})),getInitConfiguration:p((function(){return v()})),addAction:p((function(e,t){R({name:K(e),context:K(t),startClocks:ye(),type:"custom"})})),addError:function(e,t){var n=ft();m((function(){_({error:e,handlingStack:n,context:K(t),startClocks:ye()})}))},addTiming:p((function(e,t){w(K(e),t)})),setUser:p((function(e){(function(e){var t="object"===D(e);return t||l.error("Unsupported user:",e),t})(e)&&f.setContext(ht(e))})),getUser:p((function(){return f.getContext()})),setUserProperty:p((function(e,t){var n,r=ht((n={},n[e]=t,n))[e];f.setContextProperty(e,r)})),removeUserProperty:p((function(e){return f.removeContextProperty(e)})),clearUser:p((function(){return f.clearContext()})),startView:L,stopSession:p((function(){y()})),startSessionReplayRecording:p((function(){return O()})),stopSessionReplayRecording:p((function(){return x()})),addFeatureFlagEvaluation:p((function(e,t){C(K(e),K(t))})),getSessionReplayLink:p((function(){return b()}))},N=k({version:"5.4.0",onReady:function(e){e()}},I),Object.defineProperty(N,"_setDebug",{get:function(){return h},enumerable:!1}),N);return P}((function(e,t,n,r,i,o,s){var a=[],c=new Er;c.subscribe(11,(function(e){return On("rum",e)}));var u=function(e){var t=Nn("browser-rum-sdk",e);if(Fe()){var n=Be();t.observable.subscribe((function(e){return n.send("internal_telemetry",e)}))}return t}(t);u.setContextProvider((function(){var e,n;return{application:{id:t.applicationId},session:{id:null===(e=p.findTrackedSession())||void 0===e?void 0:e.id},view:{id:null===(n=E.findView())||void 0===n?void 0:n.id},action:{id:O.findActionId()}}}));var l=function(e){c.notify(12,{error:e}),Ln("Error reported to customer",{"error.message":e.message})},d=function(e,t){if(void 0===t&&(t=U),!mt(st.FEATURE_FLAGS))return{findFeatureFlagEvaluations:function(){},getFeatureFlagBytesCount:function(){return 0},addFeatureFlagEvaluation:S,stop:S};var n=new Tr(zo),r=0,i=!1;e.subscribe(4,(function(e){var t=e.endClocks;n.closeActive(t.relative)})),e.subscribe(2,(function(e){var t=e.startClocks;n.add({},t.relative),r=0}));var o=w((function(e){r=t(F(e)),i||(i=J(r,0))}),Go),s=o.throttled;return{findFeatureFlagEvaluations:function(e){return n.find(e)},getFeatureFlagBytesCount:function(){return n.find()?r:0},addFeatureFlagEvaluation:function(e,t){var r=n.find();r&&(r[e]=t,s(r))},stop:o.cancel}}(c),f=function(e){var t=new Y((function(){var n=mt(st.PAGEHIDE),r=ze(e,window,[Pe.VISIBILITY_CHANGE,Pe.FREEZE,Pe.PAGE_HIDE],(function(e){e.type===Pe.PAGE_HIDE&&n?t.notify({reason:Mn.PAGEHIDE}):e.type===Pe.VISIBILITY_CHANGE&&"hidden"===document.visibilityState?t.notify({reason:Mn.HIDDEN}):e.type===Pe.FREEZE&&t.notify({reason:Mn.FROZEN})}),{capture:!0}).stop,i=S;return n||(i=He(e,window,Pe.BEFORE_UNLOAD,(function(){t.notify({reason:Mn.UNLOADING})})).stop),function(){r(),i()}}));return t}(t),h=f.subscribe((function(e){c.notify(9,e)}));a.push((function(){return h.unsubscribe()}));var p=Fe()?function(){var e={id:"00000000-aaaa-0000-aaaa-000000000000",sessionReplayAllowed:!1};return{findTrackedSession:function(){return e},expire:S,expireObservable:new Y}}():wo(t,c);if(Fe())!function(e){var t=Be();e.subscribe(11,(function(e){t.send("rum",e)}))}(c);else{var m=Bo(t,c,u.observable,l,f,p.expireObservable,s);a.push((function(){return m.stop()})),function(e,t,n,r,i,o,s){t.enabled&&re(e.customerDataTelemetrySampleRate)&&(Qo(),Xo(),n.subscribe(11,(function(e){qo=!0,Yo(Ko.globalContextBytes,bt(r.getContext())?0:r.getBytesCount()),Yo(Ko.userContextBytes,bt(i.getContext())?0:i.getBytesCount());var t=o.findFeatureFlagEvaluations(),n=R(["view","error"],e.type)&&t&&!bt(t);Yo(Ko.featureFlagBytes,n?o.getFeatureFlagBytesCount():0)})),s.subscribe((function(e){var t=e.bytesCount,n=e.messagesCount;qo&&(Vo.batchCount+=1,Yo(Vo.batchBytesCount,t),Yo(Vo.batchMessagesCount,n),Zo(Vo.globalContextBytes,Ko.globalContextBytes),Zo(Vo.userContextBytes,Ko.userContextBytes),Zo(Vo.featureFlagBytes,Ko.featureFlagBytes),Xo())})),b(Wo,$o))}(t,u,c,r,i,d,m.flushObservable)}var g=jn(),v=Ho(t,location),y=function(e,t,n,r,i,o,s,a){var c=function(e){var t=new Tr(Rr);return e.subscribe(2,(function(e){t.add(function(e){return{service:e.service,version:e.version,id:e.id,name:e.name,startClocks:e.startClocks}}(e),e.startClocks.relative)})),e.subscribe(4,(function(e){var n=e.endClocks;t.closeActive(n.relative)})),e.subscribe(8,(function(){t.reset()})),{findView:function(e){return t.find(e)},stop:function(){t.stop()}}}(e),u=function(e,t,n){var r,i=new Tr(Fo);e.subscribe(4,(function(e){var t=e.endClocks;i.closeActive(t.relative)})),e.subscribe(2,(function(e){var t=e.startClocks,o=n.href;i.add(s({url:o,referrer:r||document.referrer}),t.relative),r=o}));var o=t.subscribe((function(e){var t=e.newLocation,n=i.find();if(n){var r=ve();i.closeActive(r),i.add(s({url:t.href,referrer:n.referrer}),r)}}));function s(e){return{url:e.url,referrer:e.referrer}}return{findUrl:function(e){return i.find(e)},stop:function(){o.unsubscribe(),i.stop()}}}(e,i,n),l=ns(t),d=function(e,t,n,r){e.subscribe(1,(function(t){return e.notify(10,xi(t,r))}));var i={findActionId:S};return n.trackUserInteractions&&(i=_i(e,t,n).actionContexts),{addAction:function(t,n){e.notify(10,k({savedCommonContext:n},xi(t,r)))},actionContexts:i}}(e,o,t,l),f=d.addAction,h=d.actionContexts,p=function(e){var t=io();return{get:function(){return{viewport:t}},stop:ro(e).subscribe((function(e){t=e})).unsubscribe}}(t);return yr(t,e,r,c,u,h,p,s,a),{viewContexts:c,pageStateHistory:l,urlContexts:u,addAction:f,actionContexts:h,stop:function(){p.stop(),l.stop(),u.stop(),c.stop(),l.stop()}}}(c,t,location,p,v,g,(function(){return _n(r,i,n)}),l),E=y.viewContexts,T=y.pageStateHistory,_=y.urlContexts,O=y.actionContexts,x=y.addAction,C=y.stop;a.push(C),function(e){kn.telemetryConfigurationEnabled&&Un({type:Cn.configuration,configuration:e})}(function(e){var t,n={session_sample_rate:(t=e).sessionSampleRate,telemetry_sample_rate:t.telemetrySampleRate,telemetry_configuration_sample_rate:t.telemetryConfigurationSampleRate,use_before_send:!!t.beforeSend,use_cross_site_session_cookie:t.useCrossSiteSessionCookie,use_secure_session_cookie:t.useSecureSessionCookie,use_proxy:!!t.proxy,silent_multiple_init:t.silentMultipleInit,track_session_across_subdomains:t.trackSessionAcrossSubdomains,allow_fallback_to_local_storage:!!t.allowFallbackToLocalStorage,store_contexts_across_pages:!!t.storeContextsAcrossPages,allow_untrusted_events:!!t.allowUntrustedEvents};return k({session_replay_sample_rate:e.sessionReplaySampleRate,start_session_replay_recording_manually:e.startSessionReplayRecordingManually,trace_sample_rate:e.traceSampleRate,action_name_attribute:e.actionNameAttribute,use_allowed_tracing_urls:Array.isArray(e.allowedTracingUrls)&&e.allowedTracingUrls.length>0,selected_tracing_propagators:Rn(e),default_privacy_level:e.defaultPrivacyLevel,use_excluded_activity_urls:Array.isArray(e.excludedActivityUrls)&&e.excludedActivityUrls.length>0,use_worker_url:!!e.workerUrl,compress_intake_requests:e.compressIntakeRequests,track_views_manually:e.trackViewsManually,track_user_interactions:e.trackUserInteractions,track_resources:e.trackResources,track_long_task:e.trackLongTasks},n)}(e)),function(e,t,n){e.subscribe(0,(function(r){for(var i=0,o=r;i<o.length;i++){var s=o[i];if(s.entryType!==Xn.LONG_TASK)break;if(!n.findTrackedSession(s.startTime)||!t.trackLongTasks)break;var a=fe(s.startTime),c={date:a.timeStamp,long_task:{id:Re(),duration:pe(s.duration)},type:"long_task",_dd:{discarded:!1}};e.notify(10,{rawRumEvent:c,startTime:a.relative,domainContext:{performanceEntry:s}})}}))}(c,t,p),ji(c,t,p,T);var A=po(c,t,location,g,v,d,T,n,o),I=A.addTiming,N=A.startView,L=A.stop;a.push(L);var P=Ui(c,t,T,d).addError;Mr(c,t,p),or(c,t);var D=function(e,t,n,r,i){return{get:function(o){var s=n.findView(o),a=i.findUrl(o),c=t.findTrackedSession(o);if(c&&s&&a){var u=r.findActionId(o);return{application_id:e,session_id:c.id,user_action:u?{id:u}:void 0,view:{id:s.id,name:s.name,referrer:a.referrer,url:a.url}}}}}}(t.applicationId,p,E,O,_);return{addAction:x,addError:P,addTiming:I,addFeatureFlagEvaluation:d.addFeatureFlagEvaluation,startView:N,lifeCycle:c,viewContexts:E,session:p,stopSession:function(){return p.expire()},getInternalContext:D.get,stop:function(){a.forEach((function(e){return e()}))}}}),{start:S,stop:S,onRumStart:S,isRecording:function(){return!1},getReplayStats:function(){},getSessionReplayLink:function(e){return is(e,{errorType:"slim-package"})}});!function(e,t,n){var r=e[t];e[t]=n,r&&r.q&&r.q.forEach((function(e){return T(e,"onReady callback threw an error:")()}))}(r(),"DD_RUM",os)},33354:function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var r=function(){function e(t){if(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.constructor===e)throw new Error("Cannot instantiate a BaseExperimentEvalutor. Please extend and implement.");this.bucketConfig=t,this.exposedExperiments={}}return n(e,[{key:"evaluateExperiment",value:function(e){throw new Error("Not implemented")}},{key:"evaluateAllExperiments",value:function(){throw new Error("Not implemented")}},{key:"evaluateExperimentAndLog",value:function(e,t){throw new Error("Not implemented")}},{key:"logExperiment",value:function(e,t){throw new Error("Not implemented")}},{key:"getEvaluatedExperiments",value:function(){return this.bucketConfig.evaluatedExperiments}},{key:"getExposureLoggers",value:function(){return this.bucketConfig.exposureLoggers}}]),e}();t.default=r},72107:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r,i=n(70568),o=(r=i)&&r.__esModule?r:{default:r};t.default=function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.evaluatedExperiments=t,this.exposureLoggers=n instanceof o.default?[n]:n}},76580:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=u(n(72107)),i=u(n(50354)),o=u(n(10264)),s=u(n(57500)),a=u(n(38486)),c=u(n(88689));function u(e){return e&&e.__esModule?e:{default:e}}var l=new s.default;function d(){return window.__TNL_QUEUE__}function f(){return window.__TNL__?window.__TNL__:l}var h={initialize:function(e){var t=function(e){if(!(e instanceof r.default))return new Error("Must pass a BucketConfig as part of initialize");if(!e.evaluatedExperiments)return new Error("BucketConfig evaluatedExperiments is not defined")}(e);if(t)throw t;if(!f()||f()instanceof s.default){var n=function(e){for(var t=Object.keys(e),n={},r=0;r<t.length;++r){var o=t[r],s=Number(o);if(Number.isNaN(s))throw new Error("Experiment key must be a number: "+o);n[s]=new i.default(e[s])}return n}(e.evaluatedExperiments),c=e.exposureLoggers||[],u=new r.default(n,c),l=new o.default(u);!function(e){Object.defineProperty(window,"__TNL__",{writable:!1,value:e}),Object.freeze(e)}(l);var h,p=Array.isArray(d())?d():[];h=new a.default(l),Object.defineProperty(window,"__TNL_QUEUE__",{writable:!1,value:h}),Object.freeze(h),p.forEach((function(e){return l.evaluateExperimentAndLog(e)}))}},evaluator:f,bucketConfig:function(e,t){return new r.default(e,t)},egLogger:function(e){return new c.default(null,e)}};t.default=h},50354:function(e,t){Object.defineProperty(t,"__esModule",{value:!0});t.default=function e(t){if(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),t instanceof e)return t;for(var n in t)t.hasOwnProperty(n)&&(this[n]=t[n])}},10264:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(608)),o=s(n(50354));function s(e){return e&&e.__esModule?e:{default:e}}var a=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),r(t,[{key:"evaluateExperiment",value:function(e){var t=this.getEvaluatedExperiments()[e];return t||i.getEvaluationDataWithException(e)}},{key:"evaluateAllExperiments",value:function(){var e=this.getEvaluatedExperiments();return Object.keys(e).length>0?e:i.getEmptyEvaluationData()}},{key:"evaluateExperimentAndLog",value:function(e,t){var n=this.evaluateExperiment(e);return this.logExperiment(n,t),n}},{key:"logExperiment",value:function(e,t){if(e)if("number"!=typeof e){var n=e.experimentKey.experimentId;if(!this.exposedExperiments.hasOwnProperty(n)){e=new o.default(e);for(var r=this.getExposureLoggers(),i=0;i<r.length;++i)try{r[i].logExposure(e,t)}catch(s){}this.exposedExperiments[n]=!0}}else this.evaluateExperimentAndLog(e,t)}}]),t}(s(n(33354)).default);t.default=a},38486:function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var r=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.experimentEvaluator=t}return n(e,[{key:"push",value:function(){for(var e=this,t=arguments.length,n=Array(t),r=0;r<t;r++)n[r]=arguments[r];n.forEach((function(t){e.experimentEvaluator.evaluateExperimentAndLog(t)}))}}]),e}();t.default=r},57500:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r,i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=n(33354);var s=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),i(t,[{key:"evaluateExperiment",value:function(e){}},{key:"evaluateAllExperiments",value:function(){}},{key:"evaluateExperimentAndLog",value:function(e,t,n){}},{key:"logExperiment",value:function(e,t,n){}}]),t}(((r=o)&&r.__esModule?r:{default:r}).default);t.default=s},608:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.getEvaluationDataWithException=function(e){return new o.default({entityId:"UNAVAILABLE_ENTITY_ID",experimentKey:{experimentId:"number"==typeof e?e:99991},experimentInstanceId:0,bucket:{bucketValue:0,calculationType:{typeIdentifier:"F"}},entityType:{entityTypeName:"UNAVAILABLE_ENTITY_TYPE"},value:0,exception:!0})},t.getEmptyEvaluationData=function(){return new o.default({})};var r,i=n(50354),o=(r=i)&&r.__esModule?r:{default:r}},88689:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r,i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=n(70568),s=(r=o)&&r.__esModule?r:{default:r},a=n(53597);var c=function(e){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,n=arguments[1];!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return r._egc=e||a.instance.getNewInstance(n),r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),i(t,[{key:"logExposure",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.pageName,r=t.clickstreamTraceId;if(this._shouldLogExposure(e)){var i={event:this._buildExposureEvent(e,n,r),experience:{app_name:"n/a",page_name:"n/a",app_version:"n/a"}};this._egc.publish(i)}}},{key:"_buildExposureEvent",value:function(e,t,n){return{event_version:"1.0.0",event_name:"experimentation.log",event_category:"experimentation",event_type:"EvaluationData",page_name:t,clickstream_trace_id:n,bucket:e.bucket.bucketValue,id:e.experimentKey.experimentId,instance_id:e.experimentInstanceId,entity_id:e.entityId,entity_type:e.entityType.entityTypeName,calculation_type:e.bucket.calculationType.typeIdentifier,run_type:e.runType}}},{key:"_shouldLogExposure",value:function(e){return!e.exception&&3===e.runType}},{key:"egc",value:function(){return this._egc}}]),t}(s.default);t.default=c},70568:function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var r=function(){function e(){if(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.constructor===e)throw new Error("Cannot instantiate a ExposureLogger. Please extend and implement.")}return n(e,[{key:"logExposure",value:function(e,t){throw new Error("Not implemented")}}]),e}();t.default=r},94621:function(e,t,n){t.Lk=void 0;var r=o(n(76580)),i=o(n(10264));function o(e){return e&&e.__esModule?e:{default:e}}t.Lk=r.default,i.default},23810:function(e,t,n){n.d(t,{ZP:function(){return I},TA:function(){return C}});var r=n(67294),i=n(63366),o=n(87462);function s(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var a=n(51721),c=n(59864),u=n(8679),l=n.n(u);function d(e,t){if(!e){var n=new Error("loadable: "+t);throw n.framesToPop=1,n.name="Invariant Violation",n}}function f(e){console.warn("loadable: "+e)}var h=r.createContext(),p="__LOADABLE_REQUIRED_CHUNKS__";function m(e){return""+e+p}var g={initialChunks:{}},v="PENDING",y="REJECTED";var b=function(e){return e};function E(e){var t=e.defaultResolveComponent,n=void 0===t?b:t,u=e.render,f=e.onLoad;function p(e,t){void 0===t&&(t={});var p=function(e){return"function"==typeof e?{requireAsync:e,resolve:function(){},chunkName:function(){}}:e}(e),m={};function b(e){return t.cacheKey?t.cacheKey(e):p.resolve?p.resolve(e):"static"}function E(e,r,i){var o=t.resolveComponent?t.resolveComponent(e,r):n(e);if(t.resolveComponent&&!(0,c.isValidElementType)(o))throw new Error("resolveComponent returned something that is not a React component!");return l()(i,o,{preload:!0}),o}var w,S,T=function(e){var t=b(e),n=m[t];return n&&n.status!==y||((n=p.requireAsync(e)).status=v,m[t]=n,n.then((function(){n.status="RESOLVED"}),(function(t){console.error("loadable-components: failed to asynchronously load component",{fileName:p.resolve(e),chunkName:p.chunkName(e),error:t?t.message:t}),n.status=y}))),n},R=function(e){function n(n){var r;return(r=e.call(this,n)||this).state={result:null,error:null,loading:!0,cacheKey:b(n)},d(!n.__chunkExtractor||p.requireSync,"SSR requires `@loadable/babel-plugin`, please install it"),n.__chunkExtractor?(!1===t.ssr||(p.requireAsync(n).catch((function(){return null})),r.loadSync(),n.__chunkExtractor.addChunk(p.chunkName(n))),s(r)):(!1!==t.ssr&&(p.isReady&&p.isReady(n)||p.chunkName&&g.initialChunks[p.chunkName(n)])&&r.loadSync(),r)}(0,a.Z)(n,e),n.getDerivedStateFromProps=function(e,t){var n=b(e);return(0,o.Z)({},t,{cacheKey:n,loading:t.loading||t.cacheKey!==n})};var r=n.prototype;return r.componentDidMount=function(){this.mounted=!0;var e=this.getCache();e&&e.status===y&&this.setCache(),this.state.loading&&this.loadAsync()},r.componentDidUpdate=function(e,t){t.cacheKey!==this.state.cacheKey&&this.loadAsync()},r.componentWillUnmount=function(){this.mounted=!1},r.safeSetState=function(e,t){this.mounted&&this.setState(e,t)},r.getCacheKey=function(){return b(this.props)},r.getCache=function(){return m[this.getCacheKey()]},r.setCache=function(e){void 0===e&&(e=void 0),m[this.getCacheKey()]=e},r.triggerOnLoad=function(){var e=this;f&&setTimeout((function(){f(e.state.result,e.props)}))},r.loadSync=function(){if(this.state.loading)try{var e=E(p.requireSync(this.props),this.props,O);this.state.result=e,this.state.loading=!1}catch(t){console.error("loadable-components: failed to synchronously load component, which expected to be available",{fileName:p.resolve(this.props),chunkName:p.chunkName(this.props),error:t?t.message:t}),this.state.error=t}},r.loadAsync=function(){var e=this,t=this.resolveAsync();return t.then((function(t){var n=E(t,e.props,O);e.safeSetState({result:n,loading:!1},(function(){return e.triggerOnLoad()}))})).catch((function(t){return e.safeSetState({error:t,loading:!1})})),t},r.resolveAsync=function(){var e=this.props,t=(e.__chunkExtractor,e.forwardedRef,(0,i.Z)(e,["__chunkExtractor","forwardedRef"]));return T(t)},r.render=function(){var e=this.props,n=e.forwardedRef,r=e.fallback,s=(e.__chunkExtractor,(0,i.Z)(e,["forwardedRef","fallback","__chunkExtractor"])),a=this.state,c=a.error,l=a.loading,d=a.result;if(t.suspense&&(this.getCache()||this.loadAsync()).status===v)throw this.loadAsync();if(c)throw c;var f=r||t.fallback||null;return l?f:u({fallback:f,result:d,options:t,props:(0,o.Z)({},s,{ref:n})})},n}(r.Component),_=(S=function(e){return r.createElement(h.Consumer,null,(function(t){return r.createElement(w,Object.assign({__chunkExtractor:t},e))}))},(w=R).displayName&&(S.displayName=w.displayName+"WithChunkExtractor"),S),O=r.forwardRef((function(e,t){return r.createElement(_,Object.assign({forwardedRef:t},e))}));return O.displayName="Loadable",O.preload=function(e){O.load(e)},O.load=function(e){return T(e)},O}return{loadable:p,lazy:function(e,t){return p(e,(0,o.Z)({},t,{suspense:!0}))}}}var w=E({defaultResolveComponent:function(e){return e.__esModule?e.default:e.default||e},render:function(e){var t=e.result,n=e.props;return r.createElement(t,n)}}),S=w.loadable,T=w.lazy,R=E({onLoad:function(e,t){e&&t.forwardedRef&&("function"==typeof t.forwardedRef?t.forwardedRef(e):t.forwardedRef.current=e)},render:function(e){var t=e.result,n=e.props;return n.children?n.children(t):null}}),_=R.loadable,O=R.lazy,x=!0;function C(e,t){void 0===e&&(e=function(){});var n=void 0===t?{}:t,r=n.namespace,i=void 0===r?"":r,o=n.chunkLoadingGlobal,s=void 0===o?"__LOADABLE_LOADED_CHUNKS__":o;if(!x)return f("`loadableReady()` must be called in browser only"),e(),Promise.resolve();var a=null;if(x){var c=m(i),u=document.getElementById(c);if(u){a=JSON.parse(u.textContent);var l=document.getElementById(c+"_ext");if(!l)throw new Error("loadable-component: @loadable/server does not match @loadable/component");JSON.parse(l.textContent).namedChunks.forEach((function(e){g.initialChunks[e]=!0}))}}if(!a)return f("`loadableReady()` requires state, please use `getScriptTags` or `getScriptElements` server-side"),e(),Promise.resolve();var d=!1;return new Promise((function(e){window[s]=window[s]||[];var t=window[s],n=t.push.bind(t);function r(){a.every((function(e){return t.some((function(t){return t[0].indexOf(e)>-1}))}))&&(d||(d=!0,e()))}t.push=function(){n.apply(void 0,arguments),r()},r()})).then(e)}var A=S;A.lib=_,T.lib=O;var I=A},4389:function(e,t){t.defaults={},t.set=function(e,n,r){var i=r||{},o=t.defaults,s=i.expires||o.expires,a=i.domain||o.domain,c=void 0!==i.path?i.path:void 0!==o.path?o.path:"/",u=void 0!==i.secure?i.secure:o.secure,l=void 0!==i.httponly?i.httponly:o.httponly,d=void 0!==i.samesite?i.samesite:o.samesite,f=s?new Date("number"==typeof s?(new Date).getTime()+864e5*s:s):0;document.cookie=e.replace(/[^+#$&^`|]/g,encodeURIComponent).replace("(","%28").replace(")","%29")+"="+n.replace(/[^+#$&/:<-\[\]-}]/g,encodeURIComponent)+(f&&f.getTime()>=0?";expires="+f.toUTCString():"")+(a?";domain="+a:"")+(c?";path="+c:"")+(u?";secure":"")+(l?";httponly":"")+(d?";samesite="+d:"")},t.get=function(e){for(var t=document.cookie.split(";");t.length;){var n=t.pop(),r=n.indexOf("=");if(r=r<0?n.length:r,decodeURIComponent(n.slice(0,r).replace(/^\s+/,""))===e)return decodeURIComponent(n.slice(r+1))}return null},t.erase=function(e,n){t.set(e,"",{expires:-1,domain:n&&n.domain,path:n&&n.path,secure:0,httponly:0})},t.all=function(){for(var e={},t=document.cookie.split(";");t.length;){var n=t.pop(),r=n.indexOf("=");r=r<0?n.length:r,e[decodeURIComponent(n.slice(0,r).replace(/^\s+/,""))]=decodeURIComponent(n.slice(r+1))}return e}},54098:function(e,t){var n="undefined"!=typeof self?self:this,r=function(){function e(){this.fetch=!1,this.DOMException=n.DOMException}return e.prototype=n,new e}();!function(e){!function(t){var n="URLSearchParams"in e,r="Symbol"in e&&"iterator"in Symbol,i="FileReader"in e&&"Blob"in e&&function(){try{return new Blob,!0}catch(e){return!1}}(),o="FormData"in e,s="ArrayBuffer"in e;if(s)var a=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],c=ArrayBuffer.isView||function(e){return e&&a.indexOf(Object.prototype.toString.call(e))>-1};function u(e){if("string"!=typeof e&&(e=String(e)),/[^a-z0-9\-#$%&'*+.^_`|~]/i.test(e))throw new TypeError("Invalid character in header field name");return e.toLowerCase()}function l(e){return"string"!=typeof e&&(e=String(e)),e}function d(e){var t={next:function(){var t=e.shift();return{done:void 0===t,value:t}}};return r&&(t[Symbol.iterator]=function(){return t}),t}function f(e){this.map={},e instanceof f?e.forEach((function(e,t){this.append(t,e)}),this):Array.isArray(e)?e.forEach((function(e){this.append(e[0],e[1])}),this):e&&Object.getOwnPropertyNames(e).forEach((function(t){this.append(t,e[t])}),this)}function h(e){if(e.bodyUsed)return Promise.reject(new TypeError("Already read"));e.bodyUsed=!0}function p(e){return new Promise((function(t,n){e.onload=function(){t(e.result)},e.onerror=function(){n(e.error)}}))}function m(e){var t=new FileReader,n=p(t);return t.readAsArrayBuffer(e),n}function g(e){if(e.slice)return e.slice(0);var t=new Uint8Array(e.byteLength);return t.set(new Uint8Array(e)),t.buffer}function v(){return this.bodyUsed=!1,this._initBody=function(e){var t;this._bodyInit=e,e?"string"==typeof e?this._bodyText=e:i&&Blob.prototype.isPrototypeOf(e)?this._bodyBlob=e:o&&FormData.prototype.isPrototypeOf(e)?this._bodyFormData=e:n&&URLSearchParams.prototype.isPrototypeOf(e)?this._bodyText=e.toString():s&&i&&((t=e)&&DataView.prototype.isPrototypeOf(t))?(this._bodyArrayBuffer=g(e.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):s&&(ArrayBuffer.prototype.isPrototypeOf(e)||c(e))?this._bodyArrayBuffer=g(e):this._bodyText=e=Object.prototype.toString.call(e):this._bodyText="",this.headers.get("content-type")||("string"==typeof e?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):n&&URLSearchParams.prototype.isPrototypeOf(e)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},i&&(this.blob=function(){var e=h(this);if(e)return e;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?h(this)||Promise.resolve(this._bodyArrayBuffer):this.blob().then(m)}),this.text=function(){var e,t,n,r=h(this);if(r)return r;if(this._bodyBlob)return e=this._bodyBlob,t=new FileReader,n=p(t),t.readAsText(e),n;if(this._bodyArrayBuffer)return Promise.resolve(function(e){for(var t=new Uint8Array(e),n=new Array(t.length),r=0;r<t.length;r++)n[r]=String.fromCharCode(t[r]);return n.join("")}(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},o&&(this.formData=function(){return this.text().then(E)}),this.json=function(){return this.text().then(JSON.parse)},this}f.prototype.append=function(e,t){e=u(e),t=l(t);var n=this.map[e];this.map[e]=n?n+", "+t:t},f.prototype.delete=function(e){delete this.map[u(e)]},f.prototype.get=function(e){return e=u(e),this.has(e)?this.map[e]:null},f.prototype.has=function(e){return this.map.hasOwnProperty(u(e))},f.prototype.set=function(e,t){this.map[u(e)]=l(t)},f.prototype.forEach=function(e,t){for(var n in this.map)this.map.hasOwnProperty(n)&&e.call(t,this.map[n],n,this)},f.prototype.keys=function(){var e=[];return this.forEach((function(t,n){e.push(n)})),d(e)},f.prototype.values=function(){var e=[];return this.forEach((function(t){e.push(t)})),d(e)},f.prototype.entries=function(){var e=[];return this.forEach((function(t,n){e.push([n,t])})),d(e)},r&&(f.prototype[Symbol.iterator]=f.prototype.entries);var y=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];function b(e,t){var n,r,i=(t=t||{}).body;if(e instanceof b){if(e.bodyUsed)throw new TypeError("Already read");this.url=e.url,this.credentials=e.credentials,t.headers||(this.headers=new f(e.headers)),this.method=e.method,this.mode=e.mode,this.signal=e.signal,i||null==e._bodyInit||(i=e._bodyInit,e.bodyUsed=!0)}else this.url=String(e);if(this.credentials=t.credentials||this.credentials||"same-origin",!t.headers&&this.headers||(this.headers=new f(t.headers)),this.method=(n=t.method||this.method||"GET",r=n.toUpperCase(),y.indexOf(r)>-1?r:n),this.mode=t.mode||this.mode||null,this.signal=t.signal||this.signal,this.referrer=null,("GET"===this.method||"HEAD"===this.method)&&i)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(i)}function E(e){var t=new FormData;return e.trim().split("&").forEach((function(e){if(e){var n=e.split("="),r=n.shift().replace(/\+/g," "),i=n.join("=").replace(/\+/g," ");t.append(decodeURIComponent(r),decodeURIComponent(i))}})),t}function w(e,t){t||(t={}),this.type="default",this.status=void 0===t.status?200:t.status,this.ok=this.status>=200&&this.status<300,this.statusText="statusText"in t?t.statusText:"OK",this.headers=new f(t.headers),this.url=t.url||"",this._initBody(e)}b.prototype.clone=function(){return new b(this,{body:this._bodyInit})},v.call(b.prototype),v.call(w.prototype),w.prototype.clone=function(){return new w(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new f(this.headers),url:this.url})},w.error=function(){var e=new w(null,{status:0,statusText:""});return e.type="error",e};var S=[301,302,303,307,308];w.redirect=function(e,t){if(-1===S.indexOf(t))throw new RangeError("Invalid status code");return new w(null,{status:t,headers:{location:e}})},t.DOMException=e.DOMException;try{new t.DOMException}catch(R){t.DOMException=function(e,t){this.message=e,this.name=t;var n=Error(e);this.stack=n.stack},t.DOMException.prototype=Object.create(Error.prototype),t.DOMException.prototype.constructor=t.DOMException}function T(e,n){return new Promise((function(r,o){var s=new b(e,n);if(s.signal&&s.signal.aborted)return o(new t.DOMException("Aborted","AbortError"));var a=new XMLHttpRequest;function c(){a.abort()}a.onload=function(){var e,t,n={status:a.status,statusText:a.statusText,headers:(e=a.getAllResponseHeaders()||"",t=new f,e.replace(/\r?\n[\t ]+/g," ").split(/\r?\n/).forEach((function(e){var n=e.split(":"),r=n.shift().trim();if(r){var i=n.join(":").trim();t.append(r,i)}})),t)};n.url="responseURL"in a?a.responseURL:n.headers.get("X-Request-URL");var i="response"in a?a.response:a.responseText;r(new w(i,n))},a.onerror=function(){o(new TypeError("Network request failed"))},a.ontimeout=function(){o(new TypeError("Network request failed"))},a.onabort=function(){o(new t.DOMException("Aborted","AbortError"))},a.open(s.method,s.url,!0),"include"===s.credentials?a.withCredentials=!0:"omit"===s.credentials&&(a.withCredentials=!1),"responseType"in a&&i&&(a.responseType="blob"),s.headers.forEach((function(e,t){a.setRequestHeader(t,e)})),s.signal&&(s.signal.addEventListener("abort",c),a.onreadystatechange=function(){4===a.readyState&&s.signal.removeEventListener("abort",c)}),a.send(void 0===s._bodyInit?null:s._bodyInit)}))}T.polyfill=!0,e.fetch||(e.fetch=T,e.Headers=f,e.Request=b,e.Response=w),t.Headers=f,t.Request=b,t.Response=w,t.fetch=T,Object.defineProperty(t,"__esModule",{value:!0})}({})}(r),r.fetch.ponyfill=!0,delete r.fetch.polyfill;var i=r;(t=i.fetch).default=i.fetch,t.fetch=i.fetch,t.Headers=i.Headers,t.Request=i.Request,t.Response=i.Response,e.exports=t},44020:function(e){var t="%[a-f0-9]{2}",n=new RegExp("("+t+")|([^%]+?)","gi"),r=new RegExp("("+t+")+","gi");function i(e,t){try{return[decodeURIComponent(e.join(""))]}catch(o){}if(1===e.length)return e;t=t||1;var n=e.slice(0,t),r=e.slice(t);return Array.prototype.concat.call([],i(n),i(r))}function o(e){try{return decodeURIComponent(e)}catch(o){for(var t=e.match(n)||[],r=1;r<t.length;r++)t=(e=i(t,r).join("")).match(n)||[];return e}}e.exports=function(e){if("string"!=typeof e)throw new TypeError("Expected `encodedURI` to be of type `string`, got `"+typeof e+"`");try{return e=e.replace(/\+/g," "),decodeURIComponent(e)}catch(t){return function(e){for(var n={"%FE%FF":"","%FF%FE":""},i=r.exec(e);i;){try{n[i[0]]=decodeURIComponent(i[0])}catch(t){var s=o(i[0]);s!==i[0]&&(n[i[0]]=s)}i=r.exec(e)}n["%C2"]="";for(var a=Object.keys(n),c=0;c<a.length;c++){var u=a[c];e=e.replace(new RegExp(u,"g"),n[u])}return e}(e)}}},98141:function(e,t,n){var r=n(64836);t.__esModule=!0,t.default=function(e,t){e.classList?e.classList.add(t):(0,i.default)(e,t)||("string"==typeof e.className?e.className=e.className+" "+t:e.setAttribute("class",(e.className&&e.className.baseVal||"")+" "+t))};var i=r(n(90404));e.exports=t.default},90404:function(e,t){t.__esModule=!0,t.default=function(e,t){return e.classList?!!t&&e.classList.contains(t):-1!==(" "+(e.className.baseVal||e.className)+" ").indexOf(" "+t+" ")},e.exports=t.default},10602:function(e){function t(e,t){return e.replace(new RegExp("(^|\\s)"+t+"(?:\\s|$)","g"),"$1").replace(/\s+/g," ").replace(/^\s*|\s*$/g,"")}e.exports=function(e,n){e.classList?e.classList.remove(n):"string"==typeof e.className?e.className=t(e.className,n):e.setAttribute("class",t(e.className&&e.className.baseVal||"",n))}},72445:function(e){e.exports=function(e){var t=e.uri,n=e.name,r=e.type;this.uri=t,this.name=n,this.type=r}},40804:function(e,t,n){var r=n(51268);e.exports=function e(t,n,i){var o;void 0===n&&(n=""),void 0===i&&(i=r);var s=new Map;function a(e,t){var n=s.get(t);n?n.push.apply(n,e):s.set(t,e)}if(i(t))o=null,a([n],t);else{var c=n?n+".":"";if("undefined"!=typeof FileList&&t instanceof FileList)o=Array.prototype.map.call(t,(function(e,t){return a([""+c+t],e),null}));else if(Array.isArray(t))o=t.map((function(t,n){var r=e(t,""+c+n,i);return r.files.forEach(a),r.clone}));else if(t&&t.constructor===Object)for(var u in o={},t){var l=e(t[u],""+c+u,i);l.files.forEach(a),o[u]=l.clone}else o=t}return{clone:o,files:s}}},34823:function(e,t,n){t.ReactNativeFile=n(72445),t.extractFiles=n(40804),t.isExtractableFile=n(51268)},51268:function(e,t,n){var r=n(72445);e.exports=function(e){return"undefined"!=typeof File&&e instanceof File||"undefined"!=typeof Blob&&e instanceof Blob||e instanceof r}},6230:function(e){e.exports="object"==typeof self?self.FormData:window.FormData},90071:function(e,t,n){n.d(t,{lX:function(){return T},q_:function(){return A},ob:function(){return m},PP:function(){return k},Ep:function(){return p},Hp:function(){return g}});var r=n(87462);function i(e){return"/"===e.charAt(0)}function o(e,t){for(var n=t,r=n+1,i=e.length;r<i;n+=1,r+=1)e[n]=e[r];e.pop()}var s=function(e,t){void 0===t&&(t="");var n,r=e&&e.split("/")||[],s=t&&t.split("/")||[],a=e&&i(e),c=t&&i(t),u=a||c;if(e&&i(e)?s=r:r.length&&(s.pop(),s=s.concat(r)),!s.length)return"/";if(s.length){var l=s[s.length-1];n="."===l||".."===l||""===l}else n=!1;for(var d=0,f=s.length;f>=0;f--){var h=s[f];"."===h?o(s,f):".."===h?(o(s,f),d++):d&&(o(s,f),d--)}if(!u)for(;d--;d)s.unshift("..");!u||""===s[0]||s[0]&&i(s[0])||s.unshift("");var p=s.join("/");return n&&"/"!==p.substr(-1)&&(p+="/"),p};function a(e){return e.valueOf?e.valueOf():Object.prototype.valueOf.call(e)}var c=function e(t,n){if(t===n)return!0;if(null==t||null==n)return!1;if(Array.isArray(t))return Array.isArray(n)&&t.length===n.length&&t.every((function(t,r){return e(t,n[r])}));if("object"==typeof t||"object"==typeof n){var r=a(t),i=a(n);return r!==t||i!==n?e(r,i):Object.keys(Object.assign({},t,n)).every((function(r){return e(t[r],n[r])}))}return!1},u=n(38776);function l(e){return"/"===e.charAt(0)?e:"/"+e}function d(e){return"/"===e.charAt(0)?e.substr(1):e}function f(e,t){return function(e,t){return 0===e.toLowerCase().indexOf(t.toLowerCase())&&-1!=="/?#".indexOf(e.charAt(t.length))}(e,t)?e.substr(t.length):e}function h(e){return"/"===e.charAt(e.length-1)?e.slice(0,-1):e}function p(e){var t=e.pathname,n=e.search,r=e.hash,i=t||"/";return n&&"?"!==n&&(i+="?"===n.charAt(0)?n:"?"+n),r&&"#"!==r&&(i+="#"===r.charAt(0)?r:"#"+r),i}function m(e,t,n,i){var o;"string"==typeof e?(o=function(e){var t=e||"/",n="",r="",i=t.indexOf("#");-1!==i&&(r=t.substr(i),t=t.substr(0,i));var o=t.indexOf("?");return-1!==o&&(n=t.substr(o),t=t.substr(0,o)),{pathname:t,search:"?"===n?"":n,hash:"#"===r?"":r}}(e),o.state=t):(void 0===(o=(0,r.Z)({},e)).pathname&&(o.pathname=""),o.search?"?"!==o.search.charAt(0)&&(o.search="?"+o.search):o.search="",o.hash?"#"!==o.hash.charAt(0)&&(o.hash="#"+o.hash):o.hash="",void 0!==t&&void 0===o.state&&(o.state=t));try{o.pathname=decodeURI(o.pathname)}catch(a){throw a instanceof URIError?new URIError('Pathname "'+o.pathname+'" could not be decoded. This is likely caused by an invalid percent-encoding.'):a}return n&&(o.key=n),i?o.pathname?"/"!==o.pathname.charAt(0)&&(o.pathname=s(o.pathname,i.pathname)):o.pathname=i.pathname:o.pathname||(o.pathname="/"),o}function g(e,t){return e.pathname===t.pathname&&e.search===t.search&&e.hash===t.hash&&e.key===t.key&&c(e.state,t.state)}function v(){var e=null;var t=[];return{setPrompt:function(t){return e=t,function(){e===t&&(e=null)}},confirmTransitionTo:function(t,n,r,i){if(null!=e){var o="function"==typeof e?e(t,n):e;"string"==typeof o?"function"==typeof r?r(o,i):i(!0):i(!1!==o)}else i(!0)},appendListener:function(e){var n=!0;function r(){n&&e.apply(void 0,arguments)}return t.push(r),function(){n=!1,t=t.filter((function(e){return e!==r}))}},notifyListeners:function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];t.forEach((function(e){return e.apply(void 0,n)}))}}}var y=!(!window.document||!window.document.createElement);function b(e,t){t(window.confirm(e))}var E="popstate",w="hashchange";function S(){try{return window.history.state||{}}catch(e){return{}}}function T(e){void 0===e&&(e={}),y||(0,u.Z)(!1);var t,n=window.history,i=(-1===(t=window.navigator.userAgent).indexOf("Android 2.")&&-1===t.indexOf("Android 4.0")||-1===t.indexOf("Mobile Safari")||-1!==t.indexOf("Chrome")||-1!==t.indexOf("Windows Phone"))&&window.history&&"pushState"in window.history,o=!(-1===window.navigator.userAgent.indexOf("Trident")),s=e,a=s.forceRefresh,c=void 0!==a&&a,d=s.getUserConfirmation,g=void 0===d?b:d,T=s.keyLength,R=void 0===T?6:T,_=e.basename?h(l(e.basename)):"";function O(e){var t=e||{},n=t.key,r=t.state,i=window.location,o=i.pathname+i.search+i.hash;return _&&(o=f(o,_)),m(o,r,n)}function x(){return Math.random().toString(36).substr(2,R)}var C=v();function A(e){(0,r.Z)(H,e),H.length=n.length,C.notifyListeners(H.location,H.action)}function I(e){(function(e){return void 0===e.state&&-1===navigator.userAgent.indexOf("CriOS")})(e)||L(O(e.state))}function k(){L(O(S()))}var N=!1;function L(e){if(N)N=!1,A();else{C.confirmTransitionTo(e,"POP",g,(function(t){t?A({action:"POP",location:e}):function(e){var t=H.location,n=U.indexOf(t.key);-1===n&&(n=0);var r=U.indexOf(e.key);-1===r&&(r=0);var i=n-r;i&&(N=!0,M(i))}(e)}))}}var P=O(S()),U=[P.key];function D(e){return _+p(e)}function M(e){n.go(e)}var j=0;function B(e){1===(j+=e)&&1===e?(window.addEventListener(E,I),o&&window.addEventListener(w,k)):0===j&&(window.removeEventListener(E,I),o&&window.removeEventListener(w,k))}var F=!1;var H={length:n.length,action:"POP",location:P,createHref:D,push:function(e,t){var r="PUSH",o=m(e,t,x(),H.location);C.confirmTransitionTo(o,r,g,(function(e){if(e){var t=D(o),s=o.key,a=o.state;if(i)if(n.pushState({key:s,state:a},null,t),c)window.location.href=t;else{var u=U.indexOf(H.location.key),l=U.slice(0,u+1);l.push(o.key),U=l,A({action:r,location:o})}else window.location.href=t}}))},replace:function(e,t){var r="REPLACE",o=m(e,t,x(),H.location);C.confirmTransitionTo(o,r,g,(function(e){if(e){var t=D(o),s=o.key,a=o.state;if(i)if(n.replaceState({key:s,state:a},null,t),c)window.location.replace(t);else{var u=U.indexOf(H.location.key);-1!==u&&(U[u]=o.key),A({action:r,location:o})}else window.location.replace(t)}}))},go:M,goBack:function(){M(-1)},goForward:function(){M(1)},block:function(e){void 0===e&&(e=!1);var t=C.setPrompt(e);return F||(B(1),F=!0),function(){return F&&(F=!1,B(-1)),t()}},listen:function(e){var t=C.appendListener(e);return B(1),function(){B(-1),t()}}};return H}var R="hashchange",_={hashbang:{encodePath:function(e){return"!"===e.charAt(0)?e:"!/"+d(e)},decodePath:function(e){return"!"===e.charAt(0)?e.substr(1):e}},noslash:{encodePath:d,decodePath:l},slash:{encodePath:l,decodePath:l}};function O(e){var t=e.indexOf("#");return-1===t?e:e.slice(0,t)}function x(){var e=window.location.href,t=e.indexOf("#");return-1===t?"":e.substring(t+1)}function C(e){window.location.replace(O(window.location.href)+"#"+e)}function A(e){void 0===e&&(e={}),y||(0,u.Z)(!1);var t=window.history,n=(window.navigator.userAgent.indexOf("Firefox"),e),i=n.getUserConfirmation,o=void 0===i?b:i,s=n.hashType,a=void 0===s?"slash":s,c=e.basename?h(l(e.basename)):"",d=_[a],g=d.encodePath,E=d.decodePath;function w(){var e=E(x());return c&&(e=f(e,c)),m(e)}var S=v();function T(e){(0,r.Z)(F,e),F.length=t.length,S.notifyListeners(F.location,F.action)}var A=!1,I=null;function k(){var e,t,n=x(),r=g(n);if(n!==r)C(r);else{var i=w(),s=F.location;if(!A&&(t=i,(e=s).pathname===t.pathname&&e.search===t.search&&e.hash===t.hash))return;if(I===p(i))return;I=null,function(e){if(A)A=!1,T();else{var t="POP";S.confirmTransitionTo(e,t,o,(function(n){n?T({action:t,location:e}):function(e){var t=F.location,n=U.lastIndexOf(p(t));-1===n&&(n=0);var r=U.lastIndexOf(p(e));-1===r&&(r=0);var i=n-r;i&&(A=!0,D(i))}(e)}))}}(i)}}var N=x(),L=g(N);N!==L&&C(L);var P=w(),U=[p(P)];function D(e){t.go(e)}var M=0;function j(e){1===(M+=e)&&1===e?window.addEventListener(R,k):0===M&&window.removeEventListener(R,k)}var B=!1;var F={length:t.length,action:"POP",location:P,createHref:function(e){var t=document.querySelector("base"),n="";return t&&t.getAttribute("href")&&(n=O(window.location.href)),n+"#"+g(c+p(e))},push:function(e,t){var n="PUSH",r=m(e,void 0,void 0,F.location);S.confirmTransitionTo(r,n,o,(function(e){if(e){var t=p(r),i=g(c+t);if(x()!==i){I=t,function(e){window.location.hash=e}(i);var o=U.lastIndexOf(p(F.location)),s=U.slice(0,o+1);s.push(t),U=s,T({action:n,location:r})}else T()}}))},replace:function(e,t){var n="REPLACE",r=m(e,void 0,void 0,F.location);S.confirmTransitionTo(r,n,o,(function(e){if(e){var t=p(r),i=g(c+t);x()!==i&&(I=t,C(i));var o=U.indexOf(p(F.location));-1!==o&&(U[o]=t),T({action:n,location:r})}}))},go:D,goBack:function(){D(-1)},goForward:function(){D(1)},block:function(e){void 0===e&&(e=!1);var t=S.setPrompt(e);return B||(j(1),B=!0),function(){return B&&(B=!1,j(-1)),t()}},listen:function(e){var t=S.appendListener(e);return j(1),function(){j(-1),t()}}};return F}function I(e,t,n){return Math.min(Math.max(e,t),n)}function k(e){void 0===e&&(e={});var t=e,n=t.getUserConfirmation,i=t.initialEntries,o=void 0===i?["/"]:i,s=t.initialIndex,a=void 0===s?0:s,c=t.keyLength,u=void 0===c?6:c,l=v();function d(e){(0,r.Z)(E,e),E.length=E.entries.length,l.notifyListeners(E.location,E.action)}function f(){return Math.random().toString(36).substr(2,u)}var h=I(a,0,o.length-1),g=o.map((function(e){return m(e,void 0,"string"==typeof e?f():e.key||f())})),y=p;function b(e){var t=I(E.index+e,0,E.entries.length-1),r=E.entries[t];l.confirmTransitionTo(r,"POP",n,(function(e){e?d({action:"POP",location:r,index:t}):d()}))}var E={length:g.length,action:"POP",location:g[h],index:h,entries:g,createHref:y,push:function(e,t){var r="PUSH",i=m(e,t,f(),E.location);l.confirmTransitionTo(i,r,n,(function(e){if(e){var t=E.index+1,n=E.entries.slice(0);n.length>t?n.splice(t,n.length-t,i):n.push(i),d({action:r,location:i,index:t,entries:n})}}))},replace:function(e,t){var r="REPLACE",i=m(e,t,f(),E.location);l.confirmTransitionTo(i,r,n,(function(e){e&&(E.entries[E.index]=i,d({action:r,location:i}))}))},go:b,goBack:function(){b(-1)},goForward:function(){b(1)},canGo:function(e){var t=E.index+e;return t>=0&&t<E.entries.length},block:function(e){return void 0===e&&(e=!1),l.setPrompt(e)},listen:function(e){return l.appendListener(e)}};return E}},8679:function(e,t,n){var r=n(59864),i={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},o={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},s={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},a={};function c(e){return r.isMemo(e)?s:a[e.$$typeof]||i}a[r.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},a[r.Memo]=s;var u=Object.defineProperty,l=Object.getOwnPropertyNames,d=Object.getOwnPropertySymbols,f=Object.getOwnPropertyDescriptor,h=Object.getPrototypeOf,p=Object.prototype;e.exports=function e(t,n,r){if("string"!=typeof n){if(p){var i=h(n);i&&i!==p&&e(t,i,r)}var s=l(n);d&&(s=s.concat(d(n)));for(var a=c(t),m=c(n),g=0;g<s.length;++g){var v=s[g];if(!(o[v]||r&&r[v]||m&&m[v]||a&&a[v])){var y=f(n,v);try{u(t,v,y)}catch(b){}}}}return t}},5826:function(e){e.exports=Array.isArray||function(e){return"[object Array]"==Object.prototype.toString.call(e)}},88320:function(e,t,n){var r=9007199254740991,i="[object Arguments]",o="[object Function]",s="[object GeneratorFunction]",a="object"==typeof n.g&&n.g&&n.g.Object===Object&&n.g,c="object"==typeof self&&self&&self.Object===Object&&self,u=a||c||Function("return this")();function l(e,t){for(var n=-1,r=t.length,i=e.length;++n<r;)e[i+n]=t[n];return e}var d=Object.prototype,f=d.hasOwnProperty,h=d.toString,p=u.Symbol,m=d.propertyIsEnumerable,g=p?p.isConcatSpreadable:void 0,v=Math.max;function y(e,t,n,r,i){var o=-1,s=e.length;for(n||(n=b),i||(i=[]);++o<s;){var a=e[o];t>0&&n(a)?t>1?y(a,t-1,n,r,i):l(i,a):r||(i[i.length]=a)}return i}function b(e){return E(e)||function(e){return function(e){return function(e){return!!e&&"object"==typeof e}(e)&&function(e){return null!=e&&function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=r}(e.length)&&!function(e){var t=function(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}(e)?h.call(e):"";return t==o||t==s}(e)}(e)}(e)&&f.call(e,"callee")&&(!m.call(e,"callee")||h.call(e)==i)}(e)||!!(g&&e&&e[g])}var E=Array.isArray;var w,S,T,R=(w=!0,S=function(e){var t=(e=y(e,1)).length,n=t;for(w&&e.reverse();n--;)if("function"!=typeof e[n])throw new TypeError("Expected a function");return function(){for(var n=0,r=t?e[n].apply(this,arguments):arguments[0];++n<t;)r=e[n].call(this,r);return r}},T=v(void 0===T?S.length-1:T,0),function(){for(var e=arguments,t=-1,n=v(e.length-T,0),r=Array(n);++t<n;)r[t]=e[T+t];t=-1;for(var i=Array(T+1);++t<T;)i[t]=e[t];return i[T]=r,function(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}(S,this,i)});e.exports=R},37291:function(e,t,n){function r(e){return Object.prototype.toString.call(e).slice(8,-1)}function i(e){return"Undefined"===r(e)}function o(e){return"Null"===r(e)}function s(e){return"Object"===r(e)&&(e.constructor===Object&&Object.getPrototypeOf(e)===Object.prototype)}function a(e){return"Array"===r(e)}function c(e){return"Symbol"===r(e)}n.d(t,{TS:function(){return y},T1:function(){return b}});var u,l,d,f,h;u=o,l=i;function p(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),i=0;for(t=0;t<n;t++)for(var o=arguments[t],s=0,a=o.length;s<a;s++,i++)r[i]=o[s];return r}function m(e,t){return a(e)&&a(t)?e.concat(t):t}function g(e,t,n,r){var i={}.propertyIsEnumerable.call(r,t)?"enumerable":"nonenumerable";"enumerable"===i&&(e[t]=n),"nonenumerable"===i&&Object.defineProperty(e,t,{value:n,enumerable:!1,writable:!0,configurable:!0})}function v(e,t,n){if(!s(t))return t;var r={};s(e)&&(r=p(Object.getOwnPropertyNames(e),Object.getOwnPropertySymbols(e)).reduce((function(n,r){var i=e[r];return(!c(r)&&!Object.getOwnPropertyNames(t).includes(r)||c(r)&&!Object.getOwnPropertySymbols(t).includes(r))&&g(n,r,i,e),n}),{}));return p(Object.getOwnPropertyNames(t),Object.getOwnPropertySymbols(t)).reduce((function(r,i){var o=t[i],a=s(e)?e[i]:void 0;return void 0!==a&&s(o)&&(o=v(a,o,n)),g(r,i,n?n(a,o,i):o,t),r}),r)}function y(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];return t.reduce((function(e,t){return v(e,t)}),e)}function b(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];return t.reduce((function(e,t){return v(e,t,m)}),e)}},24523:function(e,t,n){var r=n(67294),i=n(51721),o=n(45697),s=n.n(o),a=1073741823,c="undefined"!=typeof globalThis?globalThis:window;var u=r.createContext||function(e,t){var n,o,u,l="__create-react-context-"+((c[u="__global_unique_id__"]=(c[u]||0)+1)+"__"),d=function(e){function n(){var t,n,r;return(t=e.apply(this,arguments)||this).emitter=(n=t.props.value,r=[],{on:function(e){r.push(e)},off:function(e){r=r.filter((function(t){return t!==e}))},get:function(){return n},set:function(e,t){n=e,r.forEach((function(e){return e(n,t)}))}}),t}(0,i.Z)(n,e);var r=n.prototype;return r.getChildContext=function(){var e;return(e={})[l]=this.emitter,e},r.componentWillReceiveProps=function(e){if(this.props.value!==e.value){var n,r=this.props.value,i=e.value;((o=r)===(s=i)?0!==o||1/o==1/s:o!=o&&s!=s)?n=0:(n="function"==typeof t?t(r,i):a,0!==(n|=0)&&this.emitter.set(e.value,n))}var o,s},r.render=function(){return this.props.children},n}(r.Component);d.childContextTypes=((n={})[l]=s().object.isRequired,n);var f=function(t){function n(){var e;return(e=t.apply(this,arguments)||this).state={value:e.getValue()},e.onUpdate=function(t,n){0!=((0|e.observedBits)&n)&&e.setState({value:e.getValue()})},e}(0,i.Z)(n,t);var r=n.prototype;return r.componentWillReceiveProps=function(e){var t=e.observedBits;this.observedBits=null==t?a:t},r.componentDidMount=function(){this.context[l]&&this.context[l].on(this.onUpdate);var e=this.props.observedBits;this.observedBits=null==e?a:e},r.componentWillUnmount=function(){this.context[l]&&this.context[l].off(this.onUpdate)},r.getValue=function(){return this.context[l]?this.context[l].get():e},r.render=function(){return(e=this.props.children,Array.isArray(e)?e[0]:e)(this.state.value);var e},n}(r.Component);return f.contextTypes=((o={})[l]=s().object,o),{Provider:d,Consumer:f}};t.Z=u},32834:function(e,t,n){n.d(t,{Ax:function(){return E},FY:function(){return a},Ot:function(){return s},Pi:function(){return m},Qj:function(){return v},hN:function(){return w}});var r=n(22188),i=n(67294);if(!i.useState)throw new Error("mobx-react-lite requires React with Hooks support");if(!r.spy)throw new Error("mobx-react-lite requires mobx at least version 4 to be available");var o=!1;function s(e){o=e}function a(){return o}var c=function(){return c=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},c.apply(this,arguments)};function u(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)s.push(r.value)}catch(a){i={error:a}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return s}function l(e){return e.current?(0,r.getDependencyTree)(e.current):"<unknown>"}var d=[];function f(){var e=u((0,i.useState)(0),2)[1];return(0,i.useCallback)((function(){e((function(e){return e+1}))}),[])}var h={};function p(e,t,n){if(void 0===t&&(t="observed"),void 0===n&&(n=h),a())return e();var o=(n.useForceUpdate||f)(),s=(0,i.useRef)(null);s.current||(s.current=new r.Reaction("observer("+t+")",(function(){o()})));var c,u,p=function(){s.current&&!s.current.isDisposed&&s.current.dispose()};if((0,i.useDebugValue)(s,l),function(e){(0,i.useEffect)((function(){return e}),d)}((function(){p()})),s.current.track((function(){try{c=e()}catch(t){u=t}})),u)throw p(),u;return c}function m(e,t){if(a())return e;var n,r,o,s=c({forwardRef:!1},t),u=e.displayName||e.name,l=function(t,n){return p((function(){return e(t,n)}),u)};return l.displayName=u,n=s.forwardRef?(0,i.memo)((0,i.forwardRef)(l)):(0,i.memo)(l),r=e,o=n,Object.keys(r).forEach((function(e){r.hasOwnProperty(e)&&!g[e]&&Object.defineProperty(o,e,Object.getOwnPropertyDescriptor(r,e))})),n.displayName=u,n}var g={$$typeof:!0,render:!0,compare:!0,type:!0};function v(e){var t=e.children,n=e.render,r=t||n;return"function"!=typeof r?null:p(r)}function y(e,t,n,r,i){var o="children"===t?"render":"children",s="function"==typeof e[t],a="function"==typeof e[o];return s&&a?new Error("MobX Observer: Do not use children and render in the same time in`"+n):s||a?null:new Error("Invalid prop `"+i+"` of type `"+typeof e[t]+"` supplied to `"+n+"`, expected `function`.")}function b(e,t){if(!t||void 0!==e){var n=u(i.useState((function(){return(0,r.observable)(e,{},{deep:!1})})),1)[0];return Object.assign(n,e),n}}function E(e){return b(e,!1)}function w(e,t){var n=b(t,!0);return i.useState((function(){var t=(0,r.observable)(e(n));return function(e){if(!e||"object"!=typeof e)return!1;var t=Object.getPrototypeOf(e);return!t||t===Object.prototype}(t)&&Object.keys(t).forEach((function(e){var n,i,o=t[e];"function"==typeof o&&(t[e]=(n=o,i=t,function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return(0,r.transaction)((function(){return n.apply(i,e)}))}))})),t}))[0]}v.propTypes={children:y,render:y},v.displayName="Observer"},27418:function(e){var t=Object.getOwnPropertySymbols,n=Object.prototype.hasOwnProperty,r=Object.prototype.propertyIsEnumerable;e.exports=function(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},n=0;n<10;n++)t["_"+String.fromCharCode(n)]=n;if("0123456789"!==Object.getOwnPropertyNames(t).map((function(e){return t[e]})).join(""))return!1;var r={};return"abcdefghijklmnopqrst".split("").forEach((function(e){r[e]=e})),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},r)).join("")}catch(i){return!1}}()?Object.assign:function(e,i){for(var o,s,a=function(e){if(null==e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}(e),c=1;c<arguments.length;c++){for(var u in o=Object(arguments[c]))n.call(o,u)&&(a[u]=o[u]);if(t){s=t(o);for(var l=0;l<s.length;l++)r.call(o,s[l])&&(a[s[l]]=o[s[l]])}}return a}},14779:function(e,t,n){var r=n(5826);e.exports=h,e.exports.parse=o,e.exports.compile=function(e,t){return a(o(e,t),t)},e.exports.tokensToFunction=a,e.exports.tokensToRegExp=f;var i=new RegExp(["(\\\\.)","([\\/.])?(?:(?:\\:(\\w+)(?:\\(((?:\\\\.|[^\\\\()])+)\\))?|\\(((?:\\\\.|[^\\\\()])+)\\))([+*?])?|(\\*))"].join("|"),"g");function o(e,t){for(var n,r=[],o=0,s=0,a="",l=t&&t.delimiter||"/";null!=(n=i.exec(e));){var d=n[0],f=n[1],h=n.index;if(a+=e.slice(s,h),s=h+d.length,f)a+=f[1];else{var p=e[s],m=n[2],g=n[3],v=n[4],y=n[5],b=n[6],E=n[7];a&&(r.push(a),a="");var w=null!=m&&null!=p&&p!==m,S="+"===b||"*"===b,T="?"===b||"*"===b,R=n[2]||l,_=v||y;r.push({name:g||o++,prefix:m||"",delimiter:R,optional:T,repeat:S,partial:w,asterisk:!!E,pattern:_?u(_):E?".*":"[^"+c(R)+"]+?"})}}return s<e.length&&(a+=e.substr(s)),a&&r.push(a),r}function s(e){return encodeURI(e).replace(/[\/?#]/g,(function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()}))}function a(e,t){for(var n=new Array(e.length),i=0;i<e.length;i++)"object"==typeof e[i]&&(n[i]=new RegExp("^(?:"+e[i].pattern+")$",d(t)));return function(t,i){for(var o="",a=t||{},c=(i||{}).pretty?s:encodeURIComponent,u=0;u<e.length;u++){var l=e[u];if("string"!=typeof l){var d,f=a[l.name];if(null==f){if(l.optional){l.partial&&(o+=l.prefix);continue}throw new TypeError('Expected "'+l.name+'" to be defined')}if(r(f)){if(!l.repeat)throw new TypeError('Expected "'+l.name+'" to not repeat, but received `'+JSON.stringify(f)+"`");if(0===f.length){if(l.optional)continue;throw new TypeError('Expected "'+l.name+'" to not be empty')}for(var h=0;h<f.length;h++){if(d=c(f[h]),!n[u].test(d))throw new TypeError('Expected all "'+l.name+'" to match "'+l.pattern+'", but received `'+JSON.stringify(d)+"`");o+=(0===h?l.prefix:l.delimiter)+d}}else{if(d=l.asterisk?encodeURI(f).replace(/[?#]/g,(function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()})):c(f),!n[u].test(d))throw new TypeError('Expected "'+l.name+'" to match "'+l.pattern+'", but received "'+d+'"');o+=l.prefix+d}}else o+=l}return o}}function c(e){return e.replace(/([.+*?=^!:${}()[\]|\/\\])/g,"\\$1")}function u(e){return e.replace(/([=!:$\/()])/g,"\\$1")}function l(e,t){return e.keys=t,e}function d(e){return e&&e.sensitive?"":"i"}function f(e,t,n){r(t)||(n=t||n,t=[]);for(var i=(n=n||{}).strict,o=!1!==n.end,s="",a=0;a<e.length;a++){var u=e[a];if("string"==typeof u)s+=c(u);else{var f=c(u.prefix),h="(?:"+u.pattern+")";t.push(u),u.repeat&&(h+="(?:"+f+h+")*"),s+=h=u.optional?u.partial?f+"("+h+")?":"(?:"+f+"("+h+"))?":f+"("+h+")"}}var p=c(n.delimiter||"/"),m=s.slice(-p.length)===p;return i||(s=(m?s.slice(0,-p.length):s)+"(?:"+p+"(?=$))?"),s+=o?"$":i&&m?"":"(?="+p+"|$)",l(new RegExp("^"+s,d(n)),t)}function h(e,t,n){return r(t)||(n=t||n,t=[]),n=n||{},e instanceof RegExp?function(e,t){var n=e.source.match(/\((?!\?)/g);if(n)for(var r=0;r<n.length;r++)t.push({name:r,prefix:null,delimiter:null,optional:!1,repeat:!1,partial:!1,asterisk:!1,pattern:null});return l(e,t)}(e,t):r(e)?function(e,t,n){for(var r=[],i=0;i<e.length;i++)r.push(h(e[i],t,n).source);return l(new RegExp("(?:"+r.join("|")+")",d(n)),t)}(e,t,n):function(e,t,n){return f(o(e,n),t,n)}(e,t,n)}},92703:function(e,t,n){var r=n(50414);function i(){}function o(){}o.resetWarningCache=i,e.exports=function(){function e(e,t,n,i,o,s){if(s!==r){var a=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw a.name="Invariant Violation",a}}function t(){return e}e.isRequired=e;var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:o,resetWarningCache:i};return n.PropTypes=n,n}},45697:function(e,t,n){e.exports=n(92703)()},50414:function(e){e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},17563:function(e,t,n){var r=n(70610),i=n(27418),o=n(44020);function s(e,t){return t.encode?t.strict?r(e):encodeURIComponent(e):e}function a(e){return Array.isArray(e)?e.sort():"object"==typeof e?a(Object.keys(e)).sort((function(e,t){return Number(e)-Number(t)})).map((function(t){return e[t]})):e}t.extract=function(e){var t=e.indexOf("?");return-1===t?"":e.slice(t+1)},t.parse=function(e,t){var n=function(e){var t;switch(e.arrayFormat){case"index":return function(e,n,r){t=/\[(\d*)\]$/.exec(e),e=e.replace(/\[\d*\]$/,""),t?(void 0===r[e]&&(r[e]={}),r[e][t[1]]=n):r[e]=n};case"bracket":return function(e,n,r){t=/(\[\])$/.exec(e),e=e.replace(/\[\]$/,""),t?void 0!==r[e]?r[e]=[].concat(r[e],n):r[e]=[n]:r[e]=n};default:return function(e,t,n){void 0!==n[e]?n[e]=[].concat(n[e],t):n[e]=t}}}(t=i({arrayFormat:"none"},t)),r=Object.create(null);return"string"!=typeof e?r:(e=e.trim().replace(/^[?#&]/,""))?(e.split("&").forEach((function(e){var t=e.replace(/\+/g," ").split("="),i=t.shift(),s=t.length>0?t.join("="):void 0;s=void 0===s?null:o(s),n(o(i),s,r)})),Object.keys(r).sort().reduce((function(e,t){var n=r[t];return Boolean(n)&&"object"==typeof n&&!Array.isArray(n)?e[t]=a(n):e[t]=n,e}),Object.create(null))):r},t.stringify=function(e,t){!1===(t=i({encode:!0,strict:!0,arrayFormat:"none"},t)).sort&&(t.sort=function(){});var n=function(e){switch(e.arrayFormat){case"index":return function(t,n,r){return null===n?[s(t,e),"[",r,"]"].join(""):[s(t,e),"[",s(r,e),"]=",s(n,e)].join("")};case"bracket":return function(t,n){return null===n?s(t,e):[s(t,e),"[]=",s(n,e)].join("")};default:return function(t,n){return null===n?s(t,e):[s(t,e),"=",s(n,e)].join("")}}}(t);return e?Object.keys(e).sort(t.sort).map((function(r){var i=e[r];if(void 0===i)return"";if(null===i)return s(r,t);if(Array.isArray(i)){var o=[];return i.slice().forEach((function(e){void 0!==e&&o.push(n(r,e,o.length))})),o.join("&")}return s(r,t)+"="+s(i,t)})).filter((function(e){return e.length>0})).join("&"):""},t.parseUrl=function(e,t){return{url:e.split("?")[0]||"",query:this.parse(this.extract(e),t)}}},69921:function(e,t){var n="function"==typeof Symbol&&Symbol.for,r=n?Symbol.for("react.element"):60103,i=n?Symbol.for("react.portal"):60106,o=n?Symbol.for("react.fragment"):60107,s=n?Symbol.for("react.strict_mode"):60108,a=n?Symbol.for("react.profiler"):60114,c=n?Symbol.for("react.provider"):60109,u=n?Symbol.for("react.context"):60110,l=n?Symbol.for("react.async_mode"):60111,d=n?Symbol.for("react.concurrent_mode"):60111,f=n?Symbol.for("react.forward_ref"):60112,h=n?Symbol.for("react.suspense"):60113,p=n?Symbol.for("react.suspense_list"):60120,m=n?Symbol.for("react.memo"):60115,g=n?Symbol.for("react.lazy"):60116,v=n?Symbol.for("react.block"):60121,y=n?Symbol.for("react.fundamental"):60117,b=n?Symbol.for("react.responder"):60118,E=n?Symbol.for("react.scope"):60119;function w(e){if("object"==typeof e&&null!==e){var t=e.$$typeof;switch(t){case r:switch(e=e.type){case l:case d:case o:case a:case s:case h:return e;default:switch(e=e&&e.$$typeof){case u:case f:case g:case m:case c:return e;default:return t}}case i:return t}}}function S(e){return w(e)===d}t.AsyncMode=l,t.ConcurrentMode=d,t.ContextConsumer=u,t.ContextProvider=c,t.Element=r,t.ForwardRef=f,t.Fragment=o,t.Lazy=g,t.Memo=m,t.Portal=i,t.Profiler=a,t.StrictMode=s,t.Suspense=h,t.isAsyncMode=function(e){return S(e)||w(e)===l},t.isConcurrentMode=S,t.isContextConsumer=function(e){return w(e)===u},t.isContextProvider=function(e){return w(e)===c},t.isElement=function(e){return"object"==typeof e&&null!==e&&e.$$typeof===r},t.isForwardRef=function(e){return w(e)===f},t.isFragment=function(e){return w(e)===o},t.isLazy=function(e){return w(e)===g},t.isMemo=function(e){return w(e)===m},t.isPortal=function(e){return w(e)===i},t.isProfiler=function(e){return w(e)===a},t.isStrictMode=function(e){return w(e)===s},t.isSuspense=function(e){return w(e)===h},t.isValidElementType=function(e){return"string"==typeof e||"function"==typeof e||e===o||e===d||e===a||e===s||e===h||e===p||"object"==typeof e&&null!==e&&(e.$$typeof===g||e.$$typeof===m||e.$$typeof===c||e.$$typeof===u||e.$$typeof===f||e.$$typeof===y||e.$$typeof===b||e.$$typeof===E||e.$$typeof===v)},t.typeOf=w},59864:function(e,t,n){e.exports=n(69921)},46871:function(e,t,n){function r(){var e=this.constructor.getDerivedStateFromProps(this.props,this.state);null!=e&&this.setState(e)}function i(e){this.setState(function(t){var n=this.constructor.getDerivedStateFromProps(e,t);return null!=n?n:null}.bind(this))}function o(e,t){try{var n=this.props,r=this.state;this.props=e,this.state=t,this.__reactInternalSnapshotFlag=!0,this.__reactInternalSnapshot=this.getSnapshotBeforeUpdate(n,r)}finally{this.props=n,this.state=r}}function s(e){var t=e.prototype;if(!t||!t.isReactComponent)throw new Error("Can only polyfill class components");if("function"!=typeof e.getDerivedStateFromProps&&"function"!=typeof t.getSnapshotBeforeUpdate)return e;var n=null,s=null,a=null;if("function"==typeof t.componentWillMount?n="componentWillMount":"function"==typeof t.UNSAFE_componentWillMount&&(n="UNSAFE_componentWillMount"),"function"==typeof t.componentWillReceiveProps?s="componentWillReceiveProps":"function"==typeof t.UNSAFE_componentWillReceiveProps&&(s="UNSAFE_componentWillReceiveProps"),"function"==typeof t.componentWillUpdate?a="componentWillUpdate":"function"==typeof t.UNSAFE_componentWillUpdate&&(a="UNSAFE_componentWillUpdate"),null!==n||null!==s||null!==a){var c=e.displayName||e.name,u="function"==typeof e.getDerivedStateFromProps?"getDerivedStateFromProps()":"getSnapshotBeforeUpdate()";throw Error("Unsafe legacy lifecycles will not be called for components using new component APIs.\n\n"+c+" uses "+u+" but also contains the following legacy lifecycles:"+(null!==n?"\n  "+n:"")+(null!==s?"\n  "+s:"")+(null!==a?"\n  "+a:"")+"\n\nThe above lifecycles should be removed. Learn more about this warning here:\nhttps://fb.me/react-async-component-lifecycle-hooks")}if("function"==typeof e.getDerivedStateFromProps&&(t.componentWillMount=r,t.componentWillReceiveProps=i),"function"==typeof t.getSnapshotBeforeUpdate){if("function"!=typeof t.componentDidUpdate)throw new Error("Cannot polyfill getSnapshotBeforeUpdate() for components that do not define componentDidUpdate() on the prototype");t.componentWillUpdate=o;var l=t.componentDidUpdate;t.componentDidUpdate=function(e,t,n){var r=this.__reactInternalSnapshotFlag?this.__reactInternalSnapshot:n;l.call(this,e,t,r)}}return e}n.r(t),n.d(t,{polyfill:function(){return s}}),r.__suppressDeprecationWarning=!0,i.__suppressDeprecationWarning=!0,o.__suppressDeprecationWarning=!0},80129:function(e,t,n){t.__esModule=!0,t.default=void 0;!function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}t.default=e}(n(45697));var r=a(n(98141)),i=a(n(10602)),o=a(n(67294)),s=a(n(60644));n(54726);function a(e){return e&&e.__esModule?e:{default:e}}function c(){return c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},c.apply(this,arguments)}var u=function(e,t){return e&&t&&t.split(" ").forEach((function(t){return(0,r.default)(e,t)}))},l=function(e,t){return e&&t&&t.split(" ").forEach((function(t){return(0,i.default)(e,t)}))},d=function(e){var t,n;function r(){for(var t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(t=e.call.apply(e,[this].concat(r))||this).onEnter=function(e,n){var r=t.getClassNames(n?"appear":"enter").className;t.removeClasses(e,"exit"),u(e,r),t.props.onEnter&&t.props.onEnter(e,n)},t.onEntering=function(e,n){var r=t.getClassNames(n?"appear":"enter").activeClassName;t.reflowAndAddClass(e,r),t.props.onEntering&&t.props.onEntering(e,n)},t.onEntered=function(e,n){var r=t.getClassNames("appear").doneClassName,i=t.getClassNames("enter").doneClassName,o=n?r+" "+i:i;t.removeClasses(e,n?"appear":"enter"),u(e,o),t.props.onEntered&&t.props.onEntered(e,n)},t.onExit=function(e){var n=t.getClassNames("exit").className;t.removeClasses(e,"appear"),t.removeClasses(e,"enter"),u(e,n),t.props.onExit&&t.props.onExit(e)},t.onExiting=function(e){var n=t.getClassNames("exit").activeClassName;t.reflowAndAddClass(e,n),t.props.onExiting&&t.props.onExiting(e)},t.onExited=function(e){var n=t.getClassNames("exit").doneClassName;t.removeClasses(e,"exit"),u(e,n),t.props.onExited&&t.props.onExited(e)},t.getClassNames=function(e){var n=t.props.classNames,r="string"==typeof n,i=r?(r&&n?n+"-":"")+e:n[e];return{className:i,activeClassName:r?i+"-active":n[e+"Active"],doneClassName:r?i+"-done":n[e+"Done"]}},t}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var i=r.prototype;return i.removeClasses=function(e,t){var n=this.getClassNames(t),r=n.className,i=n.activeClassName,o=n.doneClassName;r&&l(e,r),i&&l(e,i),o&&l(e,o)},i.reflowAndAddClass=function(e,t){t&&(e&&e.scrollTop,u(e,t))},i.render=function(){var e=c({},this.props);return delete e.classNames,o.default.createElement(s.default,c({},e,{onEnter:this.onEnter,onEntered:this.onEntered,onEntering:this.onEntering,onExit:this.onExit,onExiting:this.onExiting,onExited:this.onExited}))},r}(o.default.Component);d.defaultProps={classNames:""},d.propTypes={};var f=d;t.default=f,e.exports=t.default},26093:function(e,t,n){t.__esModule=!0,t.default=void 0;s(n(45697));var r=s(n(67294)),i=n(73935),o=s(n(92381));function s(e){return e&&e.__esModule?e:{default:e}}var a=function(e){var t,n;function s(){for(var t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(t=e.call.apply(e,[this].concat(r))||this).handleEnter=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return t.handleLifecycle("onEnter",0,n)},t.handleEntering=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return t.handleLifecycle("onEntering",0,n)},t.handleEntered=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return t.handleLifecycle("onEntered",0,n)},t.handleExit=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return t.handleLifecycle("onExit",1,n)},t.handleExiting=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return t.handleLifecycle("onExiting",1,n)},t.handleExited=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return t.handleLifecycle("onExited",1,n)},t}n=e,(t=s).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var a=s.prototype;return a.handleLifecycle=function(e,t,n){var o,s=this.props.children,a=r.default.Children.toArray(s)[t];a.props[e]&&(o=a.props)[e].apply(o,n),this.props[e]&&this.props[e]((0,i.findDOMNode)(this))},a.render=function(){var e=this.props,t=e.children,n=e.in,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,["children","in"]),s=r.default.Children.toArray(t),a=s[0],c=s[1];return delete i.onEnter,delete i.onEntering,delete i.onEntered,delete i.onExit,delete i.onExiting,delete i.onExited,r.default.createElement(o.default,i,n?r.default.cloneElement(a,{key:"first",onEnter:this.handleEnter,onEntering:this.handleEntering,onEntered:this.handleEntered}):r.default.cloneElement(c,{key:"second",onEnter:this.handleExit,onEntering:this.handleExiting,onEntered:this.handleExited}))},s}(r.default.Component);a.propTypes={};var c=a;t.default=c,e.exports=t.default},60644:function(e,t,n){t.__esModule=!0,t.default=t.EXITING=t.ENTERED=t.ENTERING=t.EXITED=t.UNMOUNTED=void 0;var r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(45697)),i=a(n(67294)),o=a(n(73935)),s=n(46871);n(54726);function a(e){return e&&e.__esModule?e:{default:e}}var c="unmounted";t.UNMOUNTED=c;var u="exited";t.EXITED=u;var l="entering";t.ENTERING=l;var d="entered";t.ENTERED=d;var f="exiting";t.EXITING=f;var h=function(e){var t,n;function r(t,n){var r;r=e.call(this,t,n)||this;var i,o=n.transitionGroup,s=o&&!o.isMounting?t.enter:t.appear;return r.appearStatus=null,t.in?s?(i=u,r.appearStatus=l):i=d:i=t.unmountOnExit||t.mountOnEnter?c:u,r.state={status:i},r.nextCallback=null,r}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var s=r.prototype;return s.getChildContext=function(){return{transitionGroup:null}},r.getDerivedStateFromProps=function(e,t){return e.in&&t.status===c?{status:u}:null},s.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},s.componentDidUpdate=function(e){var t=null;if(e!==this.props){var n=this.state.status;this.props.in?n!==l&&n!==d&&(t=l):n!==l&&n!==d||(t=f)}this.updateStatus(!1,t)},s.componentWillUnmount=function(){this.cancelNextCallback()},s.getTimeouts=function(){var e,t,n,r=this.props.timeout;return e=t=n=r,null!=r&&"number"!=typeof r&&(e=r.exit,t=r.enter,n=void 0!==r.appear?r.appear:t),{exit:e,enter:t,appear:n}},s.updateStatus=function(e,t){if(void 0===e&&(e=!1),null!==t){this.cancelNextCallback();var n=o.default.findDOMNode(this);t===l?this.performEnter(n,e):this.performExit(n)}else this.props.unmountOnExit&&this.state.status===u&&this.setState({status:c})},s.performEnter=function(e,t){var n=this,r=this.props.enter,i=this.context.transitionGroup?this.context.transitionGroup.isMounting:t,o=this.getTimeouts(),s=i?o.appear:o.enter;t||r?(this.props.onEnter(e,i),this.safeSetState({status:l},(function(){n.props.onEntering(e,i),n.onTransitionEnd(e,s,(function(){n.safeSetState({status:d},(function(){n.props.onEntered(e,i)}))}))}))):this.safeSetState({status:d},(function(){n.props.onEntered(e)}))},s.performExit=function(e){var t=this,n=this.props.exit,r=this.getTimeouts();n?(this.props.onExit(e),this.safeSetState({status:f},(function(){t.props.onExiting(e),t.onTransitionEnd(e,r.exit,(function(){t.safeSetState({status:u},(function(){t.props.onExited(e)}))}))}))):this.safeSetState({status:u},(function(){t.props.onExited(e)}))},s.cancelNextCallback=function(){null!==this.nextCallback&&(this.nextCallback.cancel(),this.nextCallback=null)},s.safeSetState=function(e,t){t=this.setNextCallback(t),this.setState(e,t)},s.setNextCallback=function(e){var t=this,n=!0;return this.nextCallback=function(r){n&&(n=!1,t.nextCallback=null,e(r))},this.nextCallback.cancel=function(){n=!1},this.nextCallback},s.onTransitionEnd=function(e,t,n){this.setNextCallback(n);var r=null==t&&!this.props.addEndListener;e&&!r?(this.props.addEndListener&&this.props.addEndListener(e,this.nextCallback),null!=t&&setTimeout(this.nextCallback,t)):setTimeout(this.nextCallback,0)},s.render=function(){var e=this.state.status;if(e===c)return null;var t=this.props,n=t.children,r=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(t,["children"]);if(delete r.in,delete r.mountOnEnter,delete r.unmountOnExit,delete r.appear,delete r.enter,delete r.exit,delete r.timeout,delete r.addEndListener,delete r.onEnter,delete r.onEntering,delete r.onEntered,delete r.onExit,delete r.onExiting,delete r.onExited,"function"==typeof n)return n(e,r);var o=i.default.Children.only(n);return i.default.cloneElement(o,r)},r}(i.default.Component);function p(){}h.contextTypes={transitionGroup:r.object},h.childContextTypes={transitionGroup:function(){}},h.propTypes={},h.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:p,onEntering:p,onEntered:p,onExit:p,onExiting:p,onExited:p},h.UNMOUNTED=0,h.EXITED=1,h.ENTERING=2,h.ENTERED=3,h.EXITING=4;var m=(0,s.polyfill)(h);t.default=m},92381:function(e,t,n){t.__esModule=!0,t.default=void 0;var r=a(n(45697)),i=a(n(67294)),o=n(46871),s=n(40537);function a(e){return e&&e.__esModule?e:{default:e}}function c(){return c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},c.apply(this,arguments)}function u(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var l=Object.values||function(e){return Object.keys(e).map((function(t){return e[t]}))},d=function(e){var t,n;function r(t,n){var r,i=(r=e.call(this,t,n)||this).handleExited.bind(u(u(r)));return r.state={handleExited:i,firstRender:!0},r}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var o=r.prototype;return o.getChildContext=function(){return{transitionGroup:{isMounting:!this.appeared}}},o.componentDidMount=function(){this.appeared=!0,this.mounted=!0},o.componentWillUnmount=function(){this.mounted=!1},r.getDerivedStateFromProps=function(e,t){var n=t.children,r=t.handleExited;return{children:t.firstRender?(0,s.getInitialChildMapping)(e,r):(0,s.getNextChildMapping)(e,n,r),firstRender:!1}},o.handleExited=function(e,t){var n=(0,s.getChildMapping)(this.props.children);e.key in n||(e.props.onExited&&e.props.onExited(t),this.mounted&&this.setState((function(t){var n=c({},t.children);return delete n[e.key],{children:n}})))},o.render=function(){var e=this.props,t=e.component,n=e.childFactory,r=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,["component","childFactory"]),o=l(this.state.children).map(n);return delete r.appear,delete r.enter,delete r.exit,null===t?o:i.default.createElement(t,r,o)},r}(i.default.Component);d.childContextTypes={transitionGroup:r.default.object.isRequired},d.propTypes={},d.defaultProps={component:"div",childFactory:function(e){return e}};var f=(0,o.polyfill)(d);t.default=f,e.exports=t.default},64317:function(e,t,n){var r=a(n(80129)),i=a(n(26093)),o=a(n(92381)),s=a(n(60644));function a(e){return e&&e.__esModule?e:{default:e}}e.exports={Transition:s.default,TransitionGroup:o.default,ReplaceTransition:i.default,CSSTransition:r.default}},40537:function(e,t,n){t.__esModule=!0,t.getChildMapping=i,t.mergeChildMappings=o,t.getInitialChildMapping=function(e,t){return i(e.children,(function(n){return(0,r.cloneElement)(n,{onExited:t.bind(null,n),in:!0,appear:s(n,"appear",e),enter:s(n,"enter",e),exit:s(n,"exit",e)})}))},t.getNextChildMapping=function(e,t,n){var a=i(e.children),c=o(t,a);return Object.keys(c).forEach((function(i){var o=c[i];if((0,r.isValidElement)(o)){var u=i in t,l=i in a,d=t[i],f=(0,r.isValidElement)(d)&&!d.props.in;!l||u&&!f?l||!u||f?l&&u&&(0,r.isValidElement)(d)&&(c[i]=(0,r.cloneElement)(o,{onExited:n.bind(null,o),in:d.props.in,exit:s(o,"exit",e),enter:s(o,"enter",e)})):c[i]=(0,r.cloneElement)(o,{in:!1}):c[i]=(0,r.cloneElement)(o,{onExited:n.bind(null,o),in:!0,exit:s(o,"exit",e),enter:s(o,"enter",e)})}})),c};var r=n(67294);function i(e,t){var n=Object.create(null);return e&&r.Children.map(e,(function(e){return e})).forEach((function(e){n[e.key]=function(e){return t&&(0,r.isValidElement)(e)?t(e):e}(e)})),n}function o(e,t){function n(n){return n in t?t[n]:e[n]}e=e||{},t=t||{};var r,i=Object.create(null),o=[];for(var s in e)s in t?o.length&&(i[s]=o,o=[]):o.push(s);var a={};for(var c in t){if(i[c])for(r=0;r<i[c].length;r++){var u=i[c][r];a[i[c][r]]=n(u)}a[c]=n(c)}for(r=0;r<o.length;r++)a[o[r]]=n(o[r]);return a}function s(e,t,n){return null!=n[t]?n[t]:e.props[t]}},54726:function(e,t,n){t.__esModule=!0,t.classNamesShape=t.timeoutsShape=void 0;var r;(r=n(45697))&&r.__esModule;t.timeoutsShape=null;t.classNamesShape=null},60053:function(e,t){var n,r,i,o;if("object"==typeof performance&&"function"==typeof performance.now){var s=performance;t.unstable_now=function(){return s.now()}}else{var a=Date,c=a.now();t.unstable_now=function(){return a.now()-c}}if("function"!=typeof MessageChannel){var u=null,l=null,d=function(){if(null!==u)try{var e=t.unstable_now();u(!0,e),u=null}catch(n){throw setTimeout(d,0),n}};n=function(e){null!==u?setTimeout(n,0,e):(u=e,setTimeout(d,0))},r=function(e,t){l=setTimeout(e,t)},i=function(){clearTimeout(l)},t.unstable_shouldYield=function(){return!1},o=t.unstable_forceFrameRate=function(){}}else{var f=window.setTimeout,h=window.clearTimeout;if("undefined"!=typeof console){var p=window.cancelAnimationFrame;"function"!=typeof window.requestAnimationFrame&&console.error("This browser doesn't support requestAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills"),"function"!=typeof p&&console.error("This browser doesn't support cancelAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills")}var m=!1,g=null,v=-1,y=5,b=0;t.unstable_shouldYield=function(){return t.unstable_now()>=b},o=function(){},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):y=0<e?Math.floor(1e3/e):5};var E=new MessageChannel,w=E.port2;E.port1.onmessage=function(){if(null!==g){var e=t.unstable_now();b=e+y;try{g(!0,e)?w.postMessage(null):(m=!1,g=null)}catch(n){throw w.postMessage(null),n}}else m=!1},n=function(e){g=e,m||(m=!0,w.postMessage(null))},r=function(e,n){v=f((function(){e(t.unstable_now())}),n)},i=function(){h(v),v=-1}}function S(e,t){var n=e.length;e.push(t);e:for(;;){var r=n-1>>>1,i=e[r];if(!(void 0!==i&&0<_(i,t)))break e;e[r]=t,e[n]=i,n=r}}function T(e){return void 0===(e=e[0])?null:e}function R(e){var t=e[0];if(void 0!==t){var n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length;r<i;){var o=2*(r+1)-1,s=e[o],a=o+1,c=e[a];if(void 0!==s&&0>_(s,n))void 0!==c&&0>_(c,s)?(e[r]=c,e[a]=n,r=a):(e[r]=s,e[o]=n,r=o);else{if(!(void 0!==c&&0>_(c,n)))break e;e[r]=c,e[a]=n,r=a}}}return t}return null}function _(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}var O=[],x=[],C=1,A=null,I=3,k=!1,N=!1,L=!1;function P(e){for(var t=T(x);null!==t;){if(null===t.callback)R(x);else{if(!(t.startTime<=e))break;R(x),t.sortIndex=t.expirationTime,S(O,t)}t=T(x)}}function U(e){if(L=!1,P(e),!N)if(null!==T(O))N=!0,n(D);else{var t=T(x);null!==t&&r(U,t.startTime-e)}}function D(e,n){N=!1,L&&(L=!1,i()),k=!0;var o=I;try{for(P(n),A=T(O);null!==A&&(!(A.expirationTime>n)||e&&!t.unstable_shouldYield());){var s=A.callback;if("function"==typeof s){A.callback=null,I=A.priorityLevel;var a=s(A.expirationTime<=n);n=t.unstable_now(),"function"==typeof a?A.callback=a:A===T(O)&&R(O),P(n)}else R(O);A=T(O)}if(null!==A)var c=!0;else{var u=T(x);null!==u&&r(U,u.startTime-n),c=!1}return c}finally{A=null,I=o,k=!1}}var M=o;t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){N||k||(N=!0,n(D))},t.unstable_getCurrentPriorityLevel=function(){return I},t.unstable_getFirstCallbackNode=function(){return T(O)},t.unstable_next=function(e){switch(I){case 1:case 2:case 3:var t=3;break;default:t=I}var n=I;I=t;try{return e()}finally{I=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=M,t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=I;I=e;try{return t()}finally{I=n}},t.unstable_scheduleCallback=function(e,o,s){var a=t.unstable_now();switch("object"==typeof s&&null!==s?s="number"==typeof(s=s.delay)&&0<s?a+s:a:s=a,e){case 1:var c=-1;break;case 2:c=250;break;case 5:c=1073741823;break;case 4:c=1e4;break;default:c=5e3}return e={id:C++,callback:o,priorityLevel:e,startTime:s,expirationTime:c=s+c,sortIndex:-1},s>a?(e.sortIndex=s,S(x,e),null===T(O)&&e===T(x)&&(L?i():L=!0,r(U,s-a))):(e.sortIndex=c,S(O,e),N||k||(N=!0,n(D))),e},t.unstable_wrapCallback=function(e){var t=I;return function(){var n=I;I=t;try{return e.apply(this,arguments)}finally{I=n}}}},63840:function(e,t,n){e.exports=n(60053)},70610:function(e){e.exports=function(e){return encodeURIComponent(e).replace(/[!'()*]/g,(function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()}))}},26657:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=n(46017);t.default=function(){return{name:"bernie-plugin-pendo",onBrowserHydrateRenderContext:function(e,t){var n=e.hydratedState;return(0,e.setAppData)({pendoInitData:n.pendoInitData,pendoSdkKey:n.pendoSdkKey}),t(e)},onBrowserWrapRootElement:function(e,t){var n=e.getAppData();return n.pendoInitData&&n.pendoSdkKey&&(0,r.addScriptToHead)(JSON.stringify(n.pendoInitData),n.pendoSdkKey),t(e)}}}},46017:function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.addScriptToHead=void 0,t.addScriptToHead=function(e,t){var n=document.querySelector("head"),r=document.createElement("script");r.setAttribute("type","text/javascript");var i="\n                      (function(apiKey){\n                        (function(p,e,n,d,o){var v,w,x,y,z;o=p[d]=p[d]||{};o._q=o._q||[];\n                        v=['initialize','identify','updateOptions','pageLoad','track'];for(w=0,x=v.length;w<x;++w)(function(m){\n                            o[m]=o[m]||function(){o._q[m===v[0]?'unshift':'push']([m].concat([].slice.call(arguments,0)));};})(v[w]);\n                            y=e.createElement(n);y.async=!0;y.src='https://cdn.pendo.io/agent/static/'+apiKey+'/pendo.js';\n                            z=e.getElementsByTagName(n)[0];z.parentNode.insertBefore(y,z);})(window,document,'script','pendo');\n                            pendo.initialize(".concat(e,");\n                    })('").concat(t,"');\n                ");r.appendChild(document.createTextNode(i)),n.appendChild(r)}},40342:function(e,t,n){function r(e,t,n,r){var i,o=!1,s=0;function a(){i&&clearTimeout(i)}function c(){for(var c=arguments.length,u=new Array(c),l=0;l<c;l++)u[l]=arguments[l];var d=this,f=Date.now()-s;function h(){s=Date.now(),n.apply(d,u)}o||(r&&!i&&h(),a(),void 0===r&&f>e?h():!0!==t&&(i=setTimeout(r?function(){i=void 0}:h,void 0===r?e-f:e)))}return"boolean"!=typeof t&&(r=n,n=t,t=void 0),c.cancel=function(){a(),o=!0},c}function i(e,t,n){return void 0===n?r(e,t,!1):r(e,n,!1!==t)}n.d(t,{D:function(){return i},P:function(){return r}})},70655:function(e,t,n){n.r(t),n.d(t,{__assign:function(){return o},__asyncDelegator:function(){return w},__asyncGenerator:function(){return E},__asyncValues:function(){return S},__await:function(){return b},__awaiter:function(){return l},__classPrivateFieldGet:function(){return x},__classPrivateFieldSet:function(){return C},__createBinding:function(){return f},__decorate:function(){return a},__exportStar:function(){return h},__extends:function(){return i},__generator:function(){return d},__importDefault:function(){return O},__importStar:function(){return _},__makeTemplateObject:function(){return T},__metadata:function(){return u},__param:function(){return c},__read:function(){return m},__rest:function(){return s},__spread:function(){return g},__spreadArray:function(){return y},__spreadArrays:function(){return v},__values:function(){return p}});var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)};function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var o=function(){return o=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},o.apply(this,arguments)};function s(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}function a(e,t,n,r){var i,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,n,s):i(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s}function c(e,t){return function(n,r){t(n,r,e)}}function u(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)}function l(e,t,n,r){return new(n||(n=Promise))((function(i,o){function s(e){try{c(r.next(e))}catch(t){o(t)}}function a(e){try{c(r.throw(e))}catch(t){o(t)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}c((r=r.apply(e,t||[])).next())}))}function d(e,t){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(i=s.trys,(i=i.length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=t.call(e,s)}catch(a){o=[6,a],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}}var f=Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]};function h(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||f(t,e,n)}function p(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function m(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)s.push(r.value)}catch(a){i={error:a}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return s}function g(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(m(arguments[t]));return e}function v(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),i=0;for(t=0;t<n;t++)for(var o=arguments[t],s=0,a=o.length;s<a;s++,i++)r[i]=o[s];return r}function y(e,t,n){if(n||2===arguments.length)for(var r,i=0,o=t.length;i<o;i++)!r&&i in t||(r||(r=Array.prototype.slice.call(t,0,i)),r[i]=t[i]);return e.concat(r||t)}function b(e){return this instanceof b?(this.v=e,this):new b(e)}function E(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r,i=n.apply(e,t||[]),o=[];return r={},s("next"),s("throw"),s("return"),r[Symbol.asyncIterator]=function(){return this},r;function s(e){i[e]&&(r[e]=function(t){return new Promise((function(n,r){o.push([e,t,n,r])>1||a(e,t)}))})}function a(e,t){try{(n=i[e](t)).value instanceof b?Promise.resolve(n.value.v).then(c,u):l(o[0][2],n)}catch(r){l(o[0][3],r)}var n}function c(e){a("next",e)}function u(e){a("throw",e)}function l(e,t){e(t),o.shift(),o.length&&a(o[0][0],o[0][1])}}function w(e){var t,n;return t={},r("next"),r("throw",(function(e){throw e})),r("return"),t[Symbol.iterator]=function(){return this},t;function r(r,i){t[r]=e[r]?function(t){return(n=!n)?{value:b(e[r](t)),done:"return"===r}:i?i(t):t}:i}}function S(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,n=e[Symbol.asyncIterator];return n?n.call(e):(e=p(e),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(n){t[n]=e[n]&&function(t){return new Promise((function(r,i){(function(e,t,n,r){Promise.resolve(r).then((function(t){e({value:t,done:n})}),t)})(r,i,(t=e[n](t)).done,t.value)}))}}}function T(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}var R=Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t};function _(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&f(t,e,n);return R(t,e),t}function O(e){return e&&e.__esModule?e:{default:e}}function x(e,t,n,r){if("a"===n&&!r)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!r:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?r:"a"===n?r.call(e):r?r.value:t.get(e)}function C(e,t,n,r,i){if("m"===r)throw new TypeError("Private method is not writable");if("a"===r&&!i)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===r?i.call(e,n):i?i.value=n:t.set(e,n),n}},28721:function(e,t,n){n.d(t,{Z:function(){return u}});var r={randomUUID:"undefined"!=typeof crypto&&crypto.randomUUID&&crypto.randomUUID.bind(crypto)};let i;const o=new Uint8Array(16);function s(){if(!i&&(i="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!i))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return i(o)}const a=[];for(let l=0;l<256;++l)a.push((l+256).toString(16).slice(1));function c(e,t=0){return(a[e[t+0]]+a[e[t+1]]+a[e[t+2]]+a[e[t+3]]+"-"+a[e[t+4]]+a[e[t+5]]+"-"+a[e[t+6]]+a[e[t+7]]+"-"+a[e[t+8]]+a[e[t+9]]+"-"+a[e[t+10]]+a[e[t+11]]+a[e[t+12]]+a[e[t+13]]+a[e[t+14]]+a[e[t+15]]).toLowerCase()}var u=function(e,t,n){if(r.randomUUID&&!t&&!e)return r.randomUUID();const i=(e=e||{}).random||(e.rng||s)();if(i[6]=15&i[6]|64,i[8]=63&i[8]|128,t){n=n||0;for(let e=0;e<16;++e)t[n+e]=i[e];return t}return c(i)}},12910:function(e){window,e.exports=function(e){var t={};function n(r){if(t[r])return t[r].exports;var i=t[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)n.d(r,i,function(t){return e[t]}.bind(null,i));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=4)}([function(e){e.exports=JSON.parse('{"image":{"intersectionRatio":0.5,"timeout":1000},"large-image":{"intersectionRatio":0.3,"timeout":1000},"video":{"intersectionRatio":0.5,"timeout":2000}}')},function(e,t,n){(function(t){e.exports=function(e){var t={};function n(r){if(t[r])return t[r].exports;var i=t[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)n.d(r,i,function(t){return e[t]}.bind(null,i));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=0)}([function(e,t,n){n.r(t),n.d(t,"createEventQueue",(function(){return o})),n.d(t,"QueuedEventHandler",(function(){return i})),n.d(t,"createPrioritizedEventQueue",(function(){return a})),n.d(t,"PrioritizedQueuedEventHandler",(function(){return s}));class r{constructor(){this.isLogger=!0,this._logs={error:[],warn:[],info:[]},this.info=this.info.bind(this),this.error=this.error.bind(this),this.warn=this.warn.bind(this)}info(e){this._logs.info.push(e)}error(e){this._logs.error.push(e)}warn(e){this._logs.warn.push(e)}get logs(){return this._logs}}class i{constructor(e,t=[]){if(!Array.isArray(t))throw new Error("Meso event queue requires an array.");this._callback=e,this._executedEvents=[],this._unExecutedEvents=t,this.isEventQueue=!0,this.logger=new r}push(...e){this._executedEvents.push(...e),this._callback(...e)}executeQueue(e=this._unExecutedEvents.length){for(;this._unExecutedEvents.length>0&&e>0;)this.push(this._unExecutedEvents.shift()),e-=1}history(){console.table(this._executedEvents)}get executedEvents(){return this._executedEvents}get unExecutedEvents(){return this._unExecutedEvents}}const o=(e,t=[],n={},r)=>{const o=new i(e,t);return void 0!==r&&(window.meso[r]=o),o.executeQueue(n.limit),n.observable&&(o.observe=(e,t,r)=>n.observable.observe(e,t,r)),o};class s extends i{constructor(e,t=[],n=[]){super(e,t),this._priorityOrder=n,this._invalidEvents=this._unExecutedEvents.filter((e=>!this._isValidEvent(e))),this._unExecutedEvents=this._unExecutedEvents.filter((e=>this._isValidEvent(e))),this._sortEvents()}executeQueue(e=this._unExecutedEvents.length){const t=[];this._priorityOrder.forEach((n=>{let r=e;const i=this._unExecutedEvents.filter((e=>e.type===n));for(;i.length>0&&r>0;)this.push(i.pop()),r-=1;t.concat(i)})),this._unExecutedEvents=t}_isValidEvent(e){return"object"==typeof e&&null!==e&&void 0!==e.type&&-1!==this._priorityOrder.indexOf(e.type)}_sortEvents(){this._unExecutedEvents.sort(((e,t)=>{const n=this._priorityOrder.indexOf(e.type),r=this._priorityOrder.indexOf(t.type);return-1===n||-1===r?0:n-r}))}get invalidEvents(){return this._invalidEvents}}const a=(e,t=[],n=[],r={})=>{const i=new s(e,t,n);return i.executeQueue(r.limit),r.observable&&(i.observe=(e,t,n)=>r.observable.observe(e,t,n)),i}}])}).call(this,n(3))},function(e,t,n){window,e.exports=function(e){var t={};function n(r){if(t[r])return t[r].exports;var i=t[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)n.d(r,i,function(t){return e[t]}.bind(null,i));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=2)}([function(e,t,n){(function(t){e.exports=function(e){var t={};function n(r){if(t[r])return t[r].exports;var i=t[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)n.d(r,i,function(t){return e[t]}.bind(null,i));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=0)}([function(e,t,n){n.r(t),n.d(t,"createEventQueue",(function(){return o})),n.d(t,"QueuedEventHandler",(function(){return i})),n.d(t,"createPrioritizedEventQueue",(function(){return a})),n.d(t,"PrioritizedQueuedEventHandler",(function(){return s}));class r{constructor(){this.isLogger=!0,this._logs={error:[],warn:[],info:[]},this.info=this.info.bind(this),this.error=this.error.bind(this),this.warn=this.warn.bind(this)}info(e){this._logs.info.push(e)}error(e){this._logs.error.push(e)}warn(e){this._logs.warn.push(e)}get logs(){return this._logs}}class i{constructor(e,t=[]){if(!Array.isArray(t))throw new Error("Meso event queue requires an array.");this._callback=e,this._executedEvents=[],this._unExecutedEvents=t,this.isEventQueue=!0,this.logger=new r}push(...e){this._executedEvents.push(...e),this._callback(...e)}executeQueue(e=this._unExecutedEvents.length){for(;this._unExecutedEvents.length>0&&e>0;)this.push(this._unExecutedEvents.shift()),e-=1}history(){console.table(this._executedEvents)}get executedEvents(){return this._executedEvents}get unExecutedEvents(){return this._unExecutedEvents}}const o=(e,t=[],n={},r)=>{const o=new i(e,t);return void 0!==r&&(window.meso[r]=o),o.executeQueue(n.limit),n.observable&&(o.observe=(e,t,r)=>n.observable.observe(e,t,r)),o};class s extends i{constructor(e,t=[],n=[]){super(e,t),this._priorityOrder=n,this._invalidEvents=this._unExecutedEvents.filter((e=>!this._isValidEvent(e))),this._unExecutedEvents=this._unExecutedEvents.filter((e=>this._isValidEvent(e))),this._sortEvents()}executeQueue(e=this._unExecutedEvents.length){const t=[];this._priorityOrder.forEach((n=>{let r=e;const i=this._unExecutedEvents.filter((e=>e.type===n));for(;i.length>0&&r>0;)this.push(i.pop()),r-=1;t.concat(i)})),this._unExecutedEvents=t}_isValidEvent(e){return"object"==typeof e&&null!==e&&void 0!==e.type&&-1!==this._priorityOrder.indexOf(e.type)}_sortEvents(){this._unExecutedEvents.sort(((e,t)=>{const n=this._priorityOrder.indexOf(e.type),r=this._priorityOrder.indexOf(t.type);return-1===n||-1===r?0:n-r}))}get invalidEvents(){return this._invalidEvents}}const a=(e,t=[],n=[],r={})=>{const i=new s(e,t,n);return i.executeQueue(r.limit),r.observable&&(i.observe=(e,t,n)=>r.observable.observe(e,t,n)),i}}])}).call(this,n(1))},function(e,t){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(e){n=window}e.exports=n},function(e,t,n){n.r(t),n.d(t,"initializeBeaconFramework",(function(){return a}));var r=n(0);const i=Object.freeze({URL:"URL",URLMAX:"URLMAX",UNKNOWN:"UNKNOWN"}),o=(e,t)=>{switch(((e,t)=>void 0===t?4096>e.length?i.URL:i.URLMAX:i.UNKNOWN)(e,t)){case i.UNKNOWN:throw new Error("Unsupported data type being sent to Beacon Framework.");case i.URLMAX:throw new Error("Query string data is bigger than max size allowed for type: URL.");default:if(navigator.sendBeacon(e,t))return!0}return((e,t)=>{((e,t={})=>{const n=t&&t.timeout||5e3;return Promise.race([fetch(e,t),new Promise(((e,t)=>setTimeout((()=>t(new Error("Timeout"))),n)))])})(e,{method:"POST",headers:{Accept:"application/x-www-form-urlencoded","Content-Type":"application/x-www-form-urlencoded"},body:JSON.stringify(t)}).then((e=>!(e&&e.errors&&e.errors.length>0)))})(e,t)},s=e=>{if("beacon"===e.type){const{url:t,data:n}=e;o(t,n)}},a=()=>{window.meso=window.meso||{},window.meso.beacons=window.meso.beacons||[],window.meso.beacons.isEventQueue||(window.meso.beacons=Object(r.createEventQueue)(s,window.meso.beacons,{},"beacons"))}}])},function(e,t){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(e){n=window}e.exports=n},function(e,t,n){n.r(t),n.d(t,"initializeViewability",(function(){return u}));var r=n(1),i=n(2),o=n(0);const s=new Map;class a{constructor(e){this._element=e.element,this._beacons=e.beacons||e.beacon,this._isViewable=!1,this._intersectionRatio=o[e.config].intersectionRatio,this._timeout=o[e.config].timeout,this._viewabilityTimeoutcb=()=>setTimeout((()=>{"true"!==this._element.getAttribute("data-meso-viewed")&&(this._element.setAttribute("data-meso-viewed","true"),this._impressionOccurred(e.beacon))}),this._timeout),this.registerSessionObserver()}get isViewable(){return this._isViewable}deregisterSessionObserver(){this._sessionObserver.disconnect()}registerSessionObserver(){this._sessionObserver=new IntersectionObserver((e=>{for(const t of e){const{width:e,height:n}=t.boundingClientRect;!t.target.hidden&&e>0&&n>0&&t.intersectionRatio>=this._intersectionRatio?(this.timeoutId=this._viewabilityTimeoutcb(),this._element.setAttribute("data-meso-inview",""),this._isViewable=!0):(clearTimeout(this.timeoutId),this._element.removeAttribute("data-meso-inview"),this._isViewable=!1)}}),{threshold:[this._intersectionRatio]}),this._sessionObserver.observe(this._element)}_isValidURL(e){try{new URL(e)}catch(e){return!1}return!0}_impressionOccurred(){(Array.isArray(this._beacons)?this._beacons:[this._beacons]).forEach((e=>this._sendBeacon(e)))}_sendBeacon(e){this._isValidURL(e)?window.meso.beacons.push({type:"beacon",url:e}):window.meso.viewability.logger.info({methodName:"_sendBeacon",info:"beacon not found or invalid; beacon url: "+e})}}const c=e=>{if(null!==e&&"object"==typeof e)switch(e.type){case"clear":(()=>{for(const e of s.values())e.forEach((e=>{e.deregisterSessionObserver()}));s.clear()})();break;case"deregister":(({element:e})=>{e?s.has(e)?(s.get(e).forEach((e=>{e.deregisterSessionObserver()})),s.delete(e)):window.meso.viewability.logger.info({methodName:"unsetSlotElement",description:"Could not find element to deregister"}):window.meso.viewability.logger.warn({description:"Error reading element from payload",methodName:"unsetSlotElement"})})(e);break;case"register":(e=>{const{element:t}=e;t&&t.nodeType&&1===t.nodeType?s.set(t,[...s.get(t)||[],new a(e)]):window.meso.viewability.logger.warn({description:"Error reading element from payload",methodName:"setSlotElement"})})(e)}},u=()=>{window.meso=window.meso||{},window.meso.viewability=window.meso.viewability||[],window.meso.viewability.isEventQueue||(Object(i.initializeBeaconFramework)(),window.meso.viewability=Object(r.createPrioritizedEventQueue)(c,window.meso.viewability,["clear","deregister","register"],{}))}}])},57147:function(e,t,n){n.r(t),n.d(t,{DOMException:function(){return w},Headers:function(){return l},Request:function(){return v},Response:function(){return b},fetch:function(){return S}});var r="undefined"!=typeof globalThis&&globalThis||"undefined"!=typeof self&&self||void 0!==n.g&&n.g||{},i={searchParams:"URLSearchParams"in r,iterable:"Symbol"in r&&"iterator"in Symbol,blob:"FileReader"in r&&"Blob"in r&&function(){try{return new Blob,!0}catch(e){return!1}}(),formData:"FormData"in r,arrayBuffer:"ArrayBuffer"in r};if(i.arrayBuffer)var o=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],s=ArrayBuffer.isView||function(e){return e&&o.indexOf(Object.prototype.toString.call(e))>-1};function a(e){if("string"!=typeof e&&(e=String(e)),/[^a-z0-9\-#$%&'*+.^_`|~!]/i.test(e)||""===e)throw new TypeError('Invalid character in header field name: "'+e+'"');return e.toLowerCase()}function c(e){return"string"!=typeof e&&(e=String(e)),e}function u(e){var t={next:function(){var t=e.shift();return{done:void 0===t,value:t}}};return i.iterable&&(t[Symbol.iterator]=function(){return t}),t}function l(e){this.map={},e instanceof l?e.forEach((function(e,t){this.append(t,e)}),this):Array.isArray(e)?e.forEach((function(e){if(2!=e.length)throw new TypeError("Headers constructor: expected name/value pair to be length 2, found"+e.length);this.append(e[0],e[1])}),this):e&&Object.getOwnPropertyNames(e).forEach((function(t){this.append(t,e[t])}),this)}function d(e){if(!e._noBody)return e.bodyUsed?Promise.reject(new TypeError("Already read")):void(e.bodyUsed=!0)}function f(e){return new Promise((function(t,n){e.onload=function(){t(e.result)},e.onerror=function(){n(e.error)}}))}function h(e){var t=new FileReader,n=f(t);return t.readAsArrayBuffer(e),n}function p(e){if(e.slice)return e.slice(0);var t=new Uint8Array(e.byteLength);return t.set(new Uint8Array(e)),t.buffer}function m(){return this.bodyUsed=!1,this._initBody=function(e){var t;this.bodyUsed=this.bodyUsed,this._bodyInit=e,e?"string"==typeof e?this._bodyText=e:i.blob&&Blob.prototype.isPrototypeOf(e)?this._bodyBlob=e:i.formData&&FormData.prototype.isPrototypeOf(e)?this._bodyFormData=e:i.searchParams&&URLSearchParams.prototype.isPrototypeOf(e)?this._bodyText=e.toString():i.arrayBuffer&&i.blob&&((t=e)&&DataView.prototype.isPrototypeOf(t))?(this._bodyArrayBuffer=p(e.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):i.arrayBuffer&&(ArrayBuffer.prototype.isPrototypeOf(e)||s(e))?this._bodyArrayBuffer=p(e):this._bodyText=e=Object.prototype.toString.call(e):(this._noBody=!0,this._bodyText=""),this.headers.get("content-type")||("string"==typeof e?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):i.searchParams&&URLSearchParams.prototype.isPrototypeOf(e)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},i.blob&&(this.blob=function(){var e=d(this);if(e)return e;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))}),this.arrayBuffer=function(){if(this._bodyArrayBuffer){var e=d(this);return e||(ArrayBuffer.isView(this._bodyArrayBuffer)?Promise.resolve(this._bodyArrayBuffer.buffer.slice(this._bodyArrayBuffer.byteOffset,this._bodyArrayBuffer.byteOffset+this._bodyArrayBuffer.byteLength)):Promise.resolve(this._bodyArrayBuffer))}if(i.blob)return this.blob().then(h);throw new Error("could not read as ArrayBuffer")},this.text=function(){var e,t,n,r,i,o=d(this);if(o)return o;if(this._bodyBlob)return e=this._bodyBlob,t=new FileReader,n=f(t),r=/charset=([A-Za-z0-9_-]+)/.exec(e.type),i=r?r[1]:"utf-8",t.readAsText(e,i),n;if(this._bodyArrayBuffer)return Promise.resolve(function(e){for(var t=new Uint8Array(e),n=new Array(t.length),r=0;r<t.length;r++)n[r]=String.fromCharCode(t[r]);return n.join("")}(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},i.formData&&(this.formData=function(){return this.text().then(y)}),this.json=function(){return this.text().then(JSON.parse)},this}l.prototype.append=function(e,t){e=a(e),t=c(t);var n=this.map[e];this.map[e]=n?n+", "+t:t},l.prototype.delete=function(e){delete this.map[a(e)]},l.prototype.get=function(e){return e=a(e),this.has(e)?this.map[e]:null},l.prototype.has=function(e){return this.map.hasOwnProperty(a(e))},l.prototype.set=function(e,t){this.map[a(e)]=c(t)},l.prototype.forEach=function(e,t){for(var n in this.map)this.map.hasOwnProperty(n)&&e.call(t,this.map[n],n,this)},l.prototype.keys=function(){var e=[];return this.forEach((function(t,n){e.push(n)})),u(e)},l.prototype.values=function(){var e=[];return this.forEach((function(t){e.push(t)})),u(e)},l.prototype.entries=function(){var e=[];return this.forEach((function(t,n){e.push([n,t])})),u(e)},i.iterable&&(l.prototype[Symbol.iterator]=l.prototype.entries);var g=["CONNECT","DELETE","GET","HEAD","OPTIONS","PATCH","POST","PUT","TRACE"];function v(e,t){if(!(this instanceof v))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');var n,i,o=(t=t||{}).body;if(e instanceof v){if(e.bodyUsed)throw new TypeError("Already read");this.url=e.url,this.credentials=e.credentials,t.headers||(this.headers=new l(e.headers)),this.method=e.method,this.mode=e.mode,this.signal=e.signal,o||null==e._bodyInit||(o=e._bodyInit,e.bodyUsed=!0)}else this.url=String(e);if(this.credentials=t.credentials||this.credentials||"same-origin",!t.headers&&this.headers||(this.headers=new l(t.headers)),this.method=(n=t.method||this.method||"GET",i=n.toUpperCase(),g.indexOf(i)>-1?i:n),this.mode=t.mode||this.mode||null,this.signal=t.signal||this.signal||function(){if("AbortController"in r)return(new AbortController).signal}(),this.referrer=null,("GET"===this.method||"HEAD"===this.method)&&o)throw new TypeError("Body not allowed for GET or HEAD requests");if(this._initBody(o),!("GET"!==this.method&&"HEAD"!==this.method||"no-store"!==t.cache&&"no-cache"!==t.cache)){var s=/([?&])_=[^&]*/;if(s.test(this.url))this.url=this.url.replace(s,"$1_="+(new Date).getTime());else{this.url+=(/\?/.test(this.url)?"&":"?")+"_="+(new Date).getTime()}}}function y(e){var t=new FormData;return e.trim().split("&").forEach((function(e){if(e){var n=e.split("="),r=n.shift().replace(/\+/g," "),i=n.join("=").replace(/\+/g," ");t.append(decodeURIComponent(r),decodeURIComponent(i))}})),t}function b(e,t){if(!(this instanceof b))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');if(t||(t={}),this.type="default",this.status=void 0===t.status?200:t.status,this.status<200||this.status>599)throw new RangeError("Failed to construct 'Response': The status provided (0) is outside the range [200, 599].");this.ok=this.status>=200&&this.status<300,this.statusText=void 0===t.statusText?"":""+t.statusText,this.headers=new l(t.headers),this.url=t.url||"",this._initBody(e)}v.prototype.clone=function(){return new v(this,{body:this._bodyInit})},m.call(v.prototype),m.call(b.prototype),b.prototype.clone=function(){return new b(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new l(this.headers),url:this.url})},b.error=function(){var e=new b(null,{status:200,statusText:""});return e.ok=!1,e.status=0,e.type="error",e};var E=[301,302,303,307,308];b.redirect=function(e,t){if(-1===E.indexOf(t))throw new RangeError("Invalid status code");return new b(null,{status:t,headers:{location:e}})};var w=r.DOMException;try{new w}catch(T){(w=function(e,t){this.message=e,this.name=t;var n=Error(e);this.stack=n.stack}).prototype=Object.create(Error.prototype),w.prototype.constructor=w}function S(e,t){return new Promise((function(n,o){var s=new v(e,t);if(s.signal&&s.signal.aborted)return o(new w("Aborted","AbortError"));var u=new XMLHttpRequest;function d(){u.abort()}if(u.onload=function(){var e,t,r={statusText:u.statusText,headers:(e=u.getAllResponseHeaders()||"",t=new l,e.replace(/\r?\n[\t ]+/g," ").split("\r").map((function(e){return 0===e.indexOf("\n")?e.substr(1,e.length):e})).forEach((function(e){var n=e.split(":"),r=n.shift().trim();if(r){var i=n.join(":").trim();try{t.append(r,i)}catch(o){console.warn("Response "+o.message)}}})),t)};0===s.url.indexOf("file://")&&(u.status<200||u.status>599)?r.status=200:r.status=u.status,r.url="responseURL"in u?u.responseURL:r.headers.get("X-Request-URL");var i="response"in u?u.response:u.responseText;setTimeout((function(){n(new b(i,r))}),0)},u.onerror=function(){setTimeout((function(){o(new TypeError("Network request failed"))}),0)},u.ontimeout=function(){setTimeout((function(){o(new TypeError("Network request timed out"))}),0)},u.onabort=function(){setTimeout((function(){o(new w("Aborted","AbortError"))}),0)},u.open(s.method,function(e){try{return""===e&&r.location.href?r.location.href:e}catch(t){return e}}(s.url),!0),"include"===s.credentials?u.withCredentials=!0:"omit"===s.credentials&&(u.withCredentials=!1),"responseType"in u&&(i.blob?u.responseType="blob":i.arrayBuffer&&(u.responseType="arraybuffer")),t&&"object"==typeof t.headers&&!(t.headers instanceof l||r.Headers&&t.headers instanceof r.Headers)){var f=[];Object.getOwnPropertyNames(t.headers).forEach((function(e){f.push(a(e)),u.setRequestHeader(e,c(t.headers[e]))})),s.headers.forEach((function(e,t){-1===f.indexOf(t)&&u.setRequestHeader(t,e)}))}else s.headers.forEach((function(e,t){u.setRequestHeader(t,e)}));s.signal&&(s.signal.addEventListener("abort",d),u.onreadystatechange=function(){4===u.readyState&&s.signal.removeEventListener("abort",d)}),u.send(void 0===s._bodyInit?null:s._bodyInit)}))}S.polyfill=!0,r.fetch||(r.fetch=S,r.Headers=l,r.Request=v,r.Response=b)},64836:function(e){e.exports=function(e){return e&&e.__esModule?e:{default:e}},e.exports.__esModule=!0,e.exports.default=e.exports},87462:function(e,t,n){function r(){return r=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},r.apply(this,arguments)}n.d(t,{Z:function(){return r}})},51721:function(e,t,n){function r(e,t){return r=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},r(e,t)}function i(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,r(e,t)}n.d(t,{Z:function(){return i}})},63366:function(e,t,n){function r(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}n.d(t,{Z:function(){return r}})},82455:function(e,t,n){n.d(t,{g7:function(){return u}});let r=null;const i={};let o=1;function s(e){try{return e()}catch(t){}}const a="@wry/context:Slot",c=s((()=>globalThis))||s((()=>global))||Object.create(null),u=c[a]||Array[a]||function(e){try{Object.defineProperty(c,a,{value:e,enumerable:!1,writable:!1,configurable:!0})}finally{return e}}(class{constructor(){this.id=["slot",o++,Date.now(),Math.random().toString(36).slice(2)].join(":")}hasValue(){for(let e=r;e;e=e.parent)if(this.id in e.slots){const t=e.slots[this.id];if(t===i)break;return e!==r&&(r.slots[this.id]=t),!0}return r&&(r.slots[this.id]=i),!1}getValue(){if(this.hasValue())return r.slots[this.id]}withValue(e,t,n,i){const o={__proto__:null,[this.id]:e},s=r;r={parent:s,slots:o};try{return t.apply(i,n)}finally{r=s}}static bind(e){const t=r;return function(){const n=r;try{return r=t,e.apply(this,arguments)}finally{r=n}}}static noContext(e,t,n){if(!r)return e.apply(n,t);{const i=r;try{return r=null,e.apply(n,t)}finally{r=i}}}}),{bind:l,noContext:d}=u},30020:function(e,t,n){n.d(t,{D:function(){return a}});const{toString:r,hasOwnProperty:i}=Object.prototype,o=Function.prototype.toString,s=new Map;function a(e,t){try{return c(e,t)}finally{s.clear()}}function c(e,t){if(e===t)return!0;const n=r.call(e);if(n!==r.call(t))return!1;switch(n){case"[object Array]":if(e.length!==t.length)return!1;case"[object Object]":{if(f(e,t))return!0;const n=u(e),r=u(t),o=n.length;if(o!==r.length)return!1;for(let e=0;e<o;++e)if(!i.call(t,n[e]))return!1;for(let i=0;i<o;++i){const r=n[i];if(!c(e[r],t[r]))return!1}return!0}case"[object Error]":return e.name===t.name&&e.message===t.message;case"[object Number]":if(e!=e)return t!=t;case"[object Boolean]":case"[object Date]":return+e==+t;case"[object RegExp]":case"[object String]":return e==`${t}`;case"[object Map]":case"[object Set]":{if(e.size!==t.size)return!1;if(f(e,t))return!0;const r=e.entries(),i="[object Map]"===n;for(;;){const e=r.next();if(e.done)break;const[n,o]=e.value;if(!t.has(n))return!1;if(i&&!c(o,t.get(n)))return!1}return!0}case"[object Uint16Array]":case"[object Uint8Array]":case"[object Uint32Array]":case"[object Int32Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object ArrayBuffer]":e=new Uint8Array(e),t=new Uint8Array(t);case"[object DataView]":{let n=e.byteLength;if(n===t.byteLength)for(;n--&&e[n]===t[n];);return-1===n}case"[object AsyncFunction]":case"[object GeneratorFunction]":case"[object AsyncGeneratorFunction]":case"[object Function]":{const n=o.call(e);return n===o.call(t)&&!function(e,t){const n=e.length-t.length;return n>=0&&e.indexOf(t,n)===n}(n,d)}}return!1}function u(e){return Object.keys(e).filter(l,e)}function l(e){return void 0!==this[e]}t.Z=a;const d="{ [native code] }";function f(e,t){let n=s.get(e);if(n){if(n.has(t))return!0}else s.set(e,n=new Set);return n.add(t),!1}},75028:function(e,t,n){n.d(t,{B:function(){return a}});const r=()=>Object.create(null),{forEach:i,slice:o}=Array.prototype,{hasOwnProperty:s}=Object.prototype;class a{constructor(e=!0,t=r){this.weakness=e,this.makeData=t}lookup(...e){return this.lookupArray(e)}lookupArray(e){let t=this;return i.call(e,(e=>t=t.getChildTrie(e))),s.call(t,"data")?t.data:t.data=this.makeData(o.call(e))}peek(...e){return this.peekArray(e)}peekArray(e){let t=this;for(let n=0,r=e.length;t&&n<r;++n){const r=this.weakness&&c(e[n])?t.weak:t.strong;t=r&&r.get(e[n])}return t&&t.data}getChildTrie(e){const t=this.weakness&&c(e)?this.weak||(this.weak=new WeakMap):this.strong||(this.strong=new Map);let n=t.get(e);return n||t.set(e,n=new a(this.weakness,this.makeData)),n}}function c(e){switch(typeof e){case"object":if(null===e)break;case"function":return!0}return!1}},9964:function(e,t,n){n.d(t,{dP:function(){return x},re:function(){return k}});var r=n(75028);function i(){}class o{constructor(e=1/0,t=i){this.max=e,this.dispose=t,this.map=new Map,this.newest=null,this.oldest=null}has(e){return this.map.has(e)}get(e){const t=this.getNode(e);return t&&t.value}getNode(e){const t=this.map.get(e);if(t&&t!==this.newest){const{older:e,newer:n}=t;n&&(n.older=e),e&&(e.newer=n),t.older=this.newest,t.older.newer=t,t.newer=null,this.newest=t,t===this.oldest&&(this.oldest=n)}return t}set(e,t){let n=this.getNode(e);return n?n.value=t:(n={key:e,value:t,newer:null,older:this.newest},this.newest&&(this.newest.newer=n),this.newest=n,this.oldest=this.oldest||n,this.map.set(e,n),n.value)}clean(){for(;this.oldest&&this.map.size>this.max;)this.delete(this.oldest.key)}delete(e){const t=this.map.get(e);return!!t&&(t===this.newest&&(this.newest=t.older),t===this.oldest&&(this.oldest=t.newer),t.newer&&(t.newer.older=t.older),t.older&&(t.older.newer=t.newer),this.map.delete(e),this.dispose(t.value,e),!0)}}const s=new(n(82455).g7);const{hasOwnProperty:a}=Object.prototype,c=Array.from||function(e){const t=[];return e.forEach((e=>t.push(e))),t};function u(e){const{unsubscribe:t}=e;"function"==typeof t&&(e.unsubscribe=void 0,t())}const l=[],d=100;function f(e,t){if(!e)throw new Error(t||"assertion failure")}function h(e){switch(e.length){case 0:throw new Error("unknown value");case 1:return e[0];case 2:throw e[1]}}class p{constructor(e){this.fn=e,this.parents=new Set,this.childValues=new Map,this.dirtyChildren=null,this.dirty=!0,this.recomputing=!1,this.value=[],this.deps=null,++p.count}peek(){if(1===this.value.length&&!v(this))return m(this),this.value[0]}recompute(e){return f(!this.recomputing,"already recomputing"),m(this),v(this)?function(e,t){R(e),s.withValue(e,g,[e,t]),function(e,t){if("function"==typeof e.subscribe)try{u(e),e.unsubscribe=e.subscribe.apply(null,t)}catch(n){return e.setDirty(),!1}return!0}(e,t)&&function(e){if(e.dirty=!1,v(e))return;b(e)}(e);return h(e.value)}(this,e):h(this.value)}setDirty(){this.dirty||(this.dirty=!0,this.value.length=0,y(this),u(this))}dispose(){this.setDirty(),R(this),E(this,((e,t)=>{e.setDirty(),_(e,this)}))}forget(){this.dispose()}dependOn(e){e.add(this),this.deps||(this.deps=l.pop()||new Set),this.deps.add(e)}forgetDeps(){this.deps&&(c(this.deps).forEach((e=>e.delete(this))),this.deps.clear(),l.push(this.deps),this.deps=null)}}function m(e){const t=s.getValue();if(t)return e.parents.add(t),t.childValues.has(e)||t.childValues.set(e,[]),v(e)?w(t,e):S(t,e),t}function g(e,t){e.recomputing=!0,e.value.length=0;try{e.value[0]=e.fn.apply(null,t)}catch(n){e.value[1]=n}e.recomputing=!1}function v(e){return e.dirty||!(!e.dirtyChildren||!e.dirtyChildren.size)}function y(e){E(e,w)}function b(e){E(e,S)}function E(e,t){const n=e.parents.size;if(n){const r=c(e.parents);for(let i=0;i<n;++i)t(r[i],e)}}function w(e,t){f(e.childValues.has(t)),f(v(t));const n=!v(e);if(e.dirtyChildren){if(e.dirtyChildren.has(t))return}else e.dirtyChildren=l.pop()||new Set;e.dirtyChildren.add(t),n&&y(e)}function S(e,t){f(e.childValues.has(t)),f(!v(t));const n=e.childValues.get(t);0===n.length?e.childValues.set(t,t.value.slice(0)):function(e,t){const n=e.length;return n>0&&n===t.length&&e[n-1]===t[n-1]}(n,t.value)||e.setDirty(),T(e,t),v(e)||b(e)}function T(e,t){const n=e.dirtyChildren;n&&(n.delete(t),0===n.size&&(l.length<d&&l.push(n),e.dirtyChildren=null))}function R(e){e.childValues.size>0&&e.childValues.forEach(((t,n)=>{_(e,n)})),e.forgetDeps(),f(null===e.dirtyChildren)}function _(e,t){t.parents.delete(e),e.childValues.delete(t),T(e,t)}p.count=0;const O={setDirty:!0,dispose:!0,forget:!0};function x(e){const t=new Map,n=e&&e.subscribe;function r(e){const r=s.getValue();if(r){let i=t.get(e);i||t.set(e,i=new Set),r.dependOn(i),"function"==typeof n&&(u(i),i.unsubscribe=n(e))}}return r.dirty=function(e,n){const r=t.get(e);if(r){const i=n&&a.call(O,n)?n:"setDirty";c(r).forEach((e=>e[i]())),t.delete(e),u(r)}},r}let C;function A(...e){return(C||(C=new r.B("function"==typeof WeakMap))).lookupArray(e)}const I=new Set;function k(e,{max:t=Math.pow(2,16),makeCacheKey:n=A,keyArgs:r,subscribe:i}=Object.create(null)){const a=new o(t,(e=>e.dispose())),c=function(){const t=n.apply(null,r?r.apply(null,arguments):arguments);if(void 0===t)return e.apply(null,arguments);let o=a.get(t);o||(a.set(t,o=new p(e)),o.subscribe=i,o.forget=()=>a.delete(t));const c=o.recompute(Array.prototype.slice.call(arguments));return a.set(t,o),I.add(a),s.hasValue()||(I.forEach((e=>e.clean())),I.clear()),c};function u(e){const t=a.get(e);t&&t.setDirty()}function l(e){const t=a.get(e);if(t)return t.peek()}function d(e){return a.delete(e)}return Object.defineProperty(c,"size",{get(){return a.map.size},configurable:!1,enumerable:!1}),Object.freeze(c.options={max:t,makeCacheKey:n,keyArgs:r,subscribe:i}),c.dirtyKey=u,c.dirty=function(){u(n.apply(null,arguments))},c.peekKey=l,c.peek=function(){return l(n.apply(null,arguments))},c.forgetKey=d,c.forget=function(){return d(n.apply(null,arguments))},c.makeCacheKey=n,c.getKey=r?function(){return n.apply(null,r.apply(null,arguments))}:n,Object.freeze(c)}},38776:function(e,t,n){n.d(t,{Z:function(){return o}});var r=!0,i="Invariant failed";function o(e,t){if(!e){if(r)throw new Error(i);var n="function"==typeof t?t():t,o=n?"".concat(i,": ").concat(n):i;throw new Error(o)}}},48216:function(e,t,n){function r(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(n)return(n=n.call(e)).next.bind(n);if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return i(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return i(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0;return function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function i(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function o(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function s(e,t,n){return t&&o(e.prototype,t),n&&o(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}n.d(t,{y:function(){return R}});var a=function(){return"function"==typeof Symbol},c=function(e){return a()&&Boolean(Symbol[e])},u=function(e){return c(e)?Symbol[e]:"@@"+e};a()&&!c("observable")&&(Symbol.observable=Symbol("observable"));var l=u("iterator"),d=u("observable"),f=u("species");function h(e,t){var n=e[t];if(null!=n){if("function"!=typeof n)throw new TypeError(n+" is not a function");return n}}function p(e){var t=e.constructor;return void 0!==t&&null===(t=t[f])&&(t=void 0),void 0!==t?t:R}function m(e){return e instanceof R}function g(e){g.log?g.log(e):setTimeout((function(){throw e}))}function v(e){Promise.resolve().then((function(){try{e()}catch(t){g(t)}}))}function y(e){var t=e._cleanup;if(void 0!==t&&(e._cleanup=void 0,t))try{if("function"==typeof t)t();else{var n=h(t,"unsubscribe");n&&n.call(t)}}catch(r){g(r)}}function b(e){e._observer=void 0,e._queue=void 0,e._state="closed"}function E(e,t,n){e._state="running";var r=e._observer;try{var i=h(r,t);switch(t){case"next":i&&i.call(r,n);break;case"error":if(b(e),!i)throw n;i.call(r,n);break;case"complete":b(e),i&&i.call(r)}}catch(o){g(o)}"closed"===e._state?y(e):"running"===e._state&&(e._state="ready")}function w(e,t,n){if("closed"!==e._state){if("buffering"!==e._state)return"ready"!==e._state?(e._state="buffering",e._queue=[{type:t,value:n}],void v((function(){return function(e){var t=e._queue;if(t){e._queue=void 0,e._state="ready";for(var n=0;n<t.length&&(E(e,t[n].type,t[n].value),"closed"!==e._state);++n);}}(e)}))):void E(e,t,n);e._queue.push({type:t,value:n})}}var S=function(){function e(e,t){this._cleanup=void 0,this._observer=e,this._queue=void 0,this._state="initializing";var n=new T(this);try{this._cleanup=t.call(void 0,n)}catch(r){n.error(r)}"initializing"===this._state&&(this._state="ready")}return e.prototype.unsubscribe=function(){"closed"!==this._state&&(b(this),y(this))},s(e,[{key:"closed",get:function(){return"closed"===this._state}}]),e}(),T=function(){function e(e){this._subscription=e}var t=e.prototype;return t.next=function(e){w(this._subscription,"next",e)},t.error=function(e){w(this._subscription,"error",e)},t.complete=function(){w(this._subscription,"complete")},s(e,[{key:"closed",get:function(){return"closed"===this._subscription._state}}]),e}(),R=function(){function e(t){if(!(this instanceof e))throw new TypeError("Observable cannot be called as a function");if("function"!=typeof t)throw new TypeError("Observable initializer must be a function");this._subscriber=t}var t=e.prototype;return t.subscribe=function(e){return"object"==typeof e&&null!==e||(e={next:e,error:arguments[1],complete:arguments[2]}),new S(e,this._subscriber)},t.forEach=function(e){var t=this;return new Promise((function(n,r){if("function"==typeof e)var i=t.subscribe({next:function(t){try{e(t,o)}catch(n){r(n),i.unsubscribe()}},error:r,complete:n});else r(new TypeError(e+" is not a function"));function o(){i.unsubscribe(),n()}}))},t.map=function(e){var t=this;if("function"!=typeof e)throw new TypeError(e+" is not a function");return new(p(this))((function(n){return t.subscribe({next:function(t){try{t=e(t)}catch(r){return n.error(r)}n.next(t)},error:function(e){n.error(e)},complete:function(){n.complete()}})}))},t.filter=function(e){var t=this;if("function"!=typeof e)throw new TypeError(e+" is not a function");return new(p(this))((function(n){return t.subscribe({next:function(t){try{if(!e(t))return}catch(r){return n.error(r)}n.next(t)},error:function(e){n.error(e)},complete:function(){n.complete()}})}))},t.reduce=function(e){var t=this;if("function"!=typeof e)throw new TypeError(e+" is not a function");var n=p(this),r=arguments.length>1,i=!1,o=arguments[1];return new n((function(n){return t.subscribe({next:function(t){var s=!i;if(i=!0,!s||r)try{o=e(o,t)}catch(a){return n.error(a)}else o=t},error:function(e){n.error(e)},complete:function(){if(!i&&!r)return n.error(new TypeError("Cannot reduce an empty sequence"));n.next(o),n.complete()}})}))},t.concat=function(){for(var e=this,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=p(this);return new i((function(t){var r,o=0;return function e(s){r=s.subscribe({next:function(e){t.next(e)},error:function(e){t.error(e)},complete:function(){o===n.length?(r=void 0,t.complete()):e(i.from(n[o++]))}})}(e),function(){r&&(r.unsubscribe(),r=void 0)}}))},t.flatMap=function(e){var t=this;if("function"!=typeof e)throw new TypeError(e+" is not a function");var n=p(this);return new n((function(r){var i=[],o=t.subscribe({next:function(t){if(e)try{t=e(t)}catch(a){return r.error(a)}var o=n.from(t).subscribe({next:function(e){r.next(e)},error:function(e){r.error(e)},complete:function(){var e=i.indexOf(o);e>=0&&i.splice(e,1),s()}});i.push(o)},error:function(e){r.error(e)},complete:function(){s()}});function s(){o.closed&&0===i.length&&r.complete()}return function(){i.forEach((function(e){return e.unsubscribe()})),o.unsubscribe()}}))},t[d]=function(){return this},e.from=function(t){var n="function"==typeof this?this:e;if(null==t)throw new TypeError(t+" is not an object");var i=h(t,d);if(i){var o=i.call(t);if(Object(o)!==o)throw new TypeError(o+" is not an object");return m(o)&&o.constructor===n?o:new n((function(e){return o.subscribe(e)}))}if(c("iterator")&&(i=h(t,l)))return new n((function(e){v((function(){if(!e.closed){for(var n,o=r(i.call(t));!(n=o()).done;){var s=n.value;if(e.next(s),e.closed)return}e.complete()}}))}));if(Array.isArray(t))return new n((function(e){v((function(){if(!e.closed){for(var n=0;n<t.length;++n)if(e.next(t[n]),e.closed)return;e.complete()}}))}));throw new TypeError(t+" is not observable")},e.of=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return new("function"==typeof this?this:e)((function(e){v((function(){if(!e.closed){for(var t=0;t<n.length;++t)if(e.next(n[t]),e.closed)return;e.complete()}}))}))},s(e,null,[{key:f,get:function(){return this}}]),e}();a()&&Object.defineProperty(R,Symbol("extensions"),{value:{symbol:d,hostReportError:g},configurable:!0})}}]);
//# sourceMappingURL=vendor.d47d3930ef727bf9ae73.js.map
/*@license For license information please refer to shared-ui-retail-multi-item-installment-plan.licenses.txt*/
(self.__LOADABLE_LOADED_CHUNKS__=self.__LOADABLE_LOADED_CHUNKS__||[]).push([[2383],{89431:function(e,n,t){t.d(n,{i:function(){return re}});var r=t(67294),a=t(69430),i=t(71641),l=t(95878),o=t(98250),c=t(23984),u=t(91233),s=t(93351),m=t(30300),f=t(46605),d=t(91410),p=t(35957),g=t(10333),v=t(23236),y=t(85213),E=t(29097),b=t(78987);function h(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,r=new Array(n);t<n;t++)r[t]=e[t];return r}function k(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function I(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{},r=Object.keys(t);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(t).filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})))),r.forEach((function(n){k(e,n,t[n])}))}return e}function A(e,n){return n=null!=n?n:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):function(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})),e}function D(e,n){return function(e){if(Array.isArray(e))return e}(e)||function(e,n){var t=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=t){var r,a,i=[],l=!0,o=!1;try{for(t=t.call(e);!(l=(r=t.next()).done)&&(i.push(r.value),!n||i.length!==n);l=!0);}catch(c){o=!0,a=c}finally{try{l||null==t.return||t.return()}finally{if(o)throw a}}return i}}(e,n)||function(e,n){if(!e)return;if("string"==typeof e)return h(e,n);var t=Object.prototype.toString.call(e).slice(8,-1);"Object"===t&&e.constructor&&(t=e.constructor.name);if("Map"===t||"Set"===t)return Array.from(t);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return h(e,n)}(e,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function P(e,n){return n||(n=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(n)}}))}function O(){var e=P(["\n  fragment EGDSStylizedTextFragment on EGDSStylizedText {\n    text\n    theme\n    weight\n    decorative\n  }\n"]);return O=function(){return e},e}function S(){var e=P(["\n  fragment EGDSIconFragment on Icon {\n    description\n    id\n    size\n    theme\n    title\n    withBackground\n  }\n"]);return S=function(){return e},e}function _(){var e=P(["\n  fragment EGDSIllustrationFragment on Illustration {\n    description\n    link: url\n  }\n"]);return _=function(){return e},e}function j(){var e=P(["\n  fragment EGDSMarkFragment on Mark {\n    description\n    id\n    url {\n      value\n    }\n  }\n"]);return j=function(){return e},e}function w(){var e=P(["\n  fragment UIGraphicFragment on UIGraphic {\n    ...EGDSIconFragment\n    ...EGDSMarkFragment\n    ...EGDSIllustrationFragment\n  }\n\n  ","\n  ","\n  ","\n"]);return w=function(){return e},e}function N(){var e=P(["\n  fragment AffirmContentDetailsFragment on AffirmContentDetails {\n    elementAttributes {\n      key\n      value\n    }\n    link {\n      analytics {\n        linkName\n        referrerId\n      }\n      label\n    }\n    text {\n      ...EGDSStylizedTextFragment\n    }\n    logo {\n      ...UIGraphicFragment\n    }\n  }\n\n  ","\n  ","\n"]);return N=function(){return e},e}function x(){var e=P(["\n  fragment AffirmDetailsFragment on AffirmDetails {\n    elementAttributes {\n      key\n      value\n    }\n    analytics {\n      linkName\n      referrerId\n    }\n  }\n"]);return x=function(){return e},e}function C(){var e=P(["\n  fragment KlarnaDetailsFragment on KlarnaDetails {\n    elementAttributes {\n      key\n      value\n    }\n    scriptAttributes {\n      ...InstallmentPlanAttributeFragment\n    }\n    analytics {\n      linkName\n      referrerId\n    }\n  }\n\n  fragment InstallmentPlanAttributeFragment on InstallmentPlanAttribute {\n    key\n    value\n  }\n"]);return C=function(){return e},e}function z(){var e=P(["\n  query InstallmentPlanQuery($context: ContextInput!, $multiItemSessionId: String, $amount: String) {\n    installmentPlan(context: $context, multiItemSessionId: $multiItemSessionId, installmentPriceAmount: $amount) {\n      installmentPlanDetails {\n        ...KlarnaDetailsFragment\n        ...AffirmDetailsFragment\n        ...AffirmContentDetailsFragment\n      }\n      impressionAnalytics {\n        linkName\n        referrerId\n      }\n    }\n  }\n\n  ","\n  ","\n  ","\n"]);return z=function(){return e},e}var F,G,T=(0,a.Ps)(O()),M=(k(F={},"LOYALTY","loyalty"),k(F,"NEGATIVE","negative"),k(F,"POSITIVE","positive"),k(F,"EMPHASIS","emphasis"),k(F,"PRIMARY","emphasis"),k(F,"SECONDARY","default"),k(F,"INVERSE","inverse"),F),L=(k(G={},"BOLD","bold"),k(G,"MEDIUM","medium"),k(G,"REGULAR","regular"),G),R=function(e){var n,t,a,i,l,o,c,u,s=e.data,f=e.textProps,d=s.text,p=s.theme,g=s.weight,v=s.decorative,y=p?M[p]:void 0,E=g?L[g]:void 0;return"LINE_THROUGH"===v?r.createElement("s",null,r.createElement(m.b,{size:null===(n=f)||void 0===n?void 0:n.size,theme:null!==(i=null===(t=f)||void 0===t?void 0:t.theme)&&void 0!==i?i:y,weight:E,inline:null===(a=f)||void 0===a?void 0:a.inline},d)):r.createElement(m.b,{size:null===(l=f)||void 0===l?void 0:l.size,theme:null!==(u=null===(o=f)||void 0===o?void 0:o.theme)&&void 0!==u?u:y,weight:E,inline:null===(c=f)||void 0===c?void 0:c.inline},d)};R.fragment=T,R.displayName="EGDSStylizedText";var B=(0,a.Ps)(S()),U=function(e){var n=e.data,t=e.defaultIconSize,a=e.defaultIconTheme,i=n.description,l=n.id,o=n.size,c=n.title,u=n.theme,s=n.withBackground;return r.createElement(f.fR,{description:i,id:l,name:l,size:o?f.eZ[o]:t,title:null!=c?c:void 0,theme:null!=u?u:a,shadow:Boolean(s)})};U.displayName="EGDSIcon",U.fragment=B;var K=(0,a.Ps)(_()),H=function(e){var n=e.data;return r.createElement(d.a,{alt:n.description,url:n.link})};H.displayName="EGDSIllustration",H.fragment=K;var $=(0,a.Ps)(j()),V=function(e){var n,t=e.data,a=e.size;return t.url||t.id?r.createElement(p.F,{description:t.description,id:t.id,name:t.id,size:a,url:null===(n=t.url)||void 0===n?void 0:n.value}):null};V.displayName="EGDSMark",V.fragment=$;var Y=(0,a.Ps)(w(),U.fragment,V.fragment,H.fragment),q=function(e){var n=e.data,t=e.markProps,a=e.iconProps;switch(n.__typename){case"Icon":return r.createElement(U,I({data:n},a));case"Mark":return r.createElement(V,I({data:n},t));case"Illustration":return r.createElement(H,{data:n});default:return null}};q.displayName="UIGraphic",q.fragment=Y;var Q=(0,a.Ps)(N(),R.fragment,q.fragment),W=function(e){var n=e.data,t=n.elementAttributes,a=n.link,i=a.analytics,l=a.label,m=n.text,f=n.logo,d=(0,o.useClickTracker)(),p=Object.fromEntries(t.map((function(e){return[e.key,e.value]})));return r.createElement(c.v,{alignItems:"start",space:"one",justifyContent:"start",style:{blockSize:"12px"}},r.createElement(u.t,null,r.createElement(R,{data:m,textProps:{size:200}})),r.createElement(u.t,null,r.createElement(q,{data:f,markProps:{size:v.j.EXTRA_SMALL}})),r.createElement(u.t,null,r.createElement(s.l,{margin:{inlinestart:"one"}},r.createElement(g.M,{inline:!0,onClick:function(){d(i.referrerId,i.linkName)},size:"small"},r.createElement("button",{type:"button"},r.createElement("div",I({},p),l))))))};W.fragment=Q,W.displayName="AffirmContentDetails";var X=(0,a.Ps)(x()),Z=function(e){var n=e.data,t=n.elementAttributes,a=n.analytics,i=(0,o.useClickTracker)(),l=Object.fromEntries(t.map((function(e){return[e.key,e.value]})));return r.createElement(m.b,{size:100,weight:"regular"},r.createElement("div",A(I({},l),{onClick:function(){i(a.referrerId,a.linkName)},"aria-hidden":"true",role:"link"})))};Z.fragment=X,Z.displayName="AffirmDetails";var J=(0,a.Ps)(C()),ee=function(e){var n=e.data,t=n.elementAttributes,a=n.analytics,i=(0,o.useClickTracker)(),l=Object.fromEntries(t.map((function(e){return[e.key,e.value]})));return r.createElement("klarna-placement",A(I({},l),{onClick:function(){i(a.referrerId,a.linkName)}}))};ee.fragment=J,ee.displayName="KlarnaDetails";var ne=function(e){var n=e.legalTextAlignment,t=e.secondPlaceholderRequired,a=e.margin;return t?r.createElement(y.a,{space:"half",justifyItems:null!=n?n:"start"},r.createElement(E.P,null,r.createElement(s.l,{margin:null!=a?a:{blockstart:"one",blockend:"half"}},r.createElement(b.H,null))),r.createElement(E.P,null,r.createElement(b.H,{type:"secondary"}))):r.createElement(s.l,{margin:null!=a?a:{blockstart:"one",blockend:"half"}},r.createElement(b.H,null))},te=(0,a.Ps)(z(),ee.fragment,Z.fragment,W.fragment),re=function(e){var n,t=e.inputs,a=e.skipSsr,m=e.margin,f=e.placeholderMargin,d=e.alignment,p=e.legalText,g=e.minWidth,v=(0,l.v)().context,y=D((0,r.useState)(!0),2),E=y[0],b=y[1],h=A(I({},t),{context:v}),k=(0,i.a)(te,{variables:h,ssr:!a}),P=k.data,O=k.error,S=k.loading,_=null===(n=P)||void 0===n?void 0:n.installmentPlan,j=function(){b(!1)};if((0,r.useEffect)((function(){var e,n,t,r,a,i,l,o=window.affirm,c=window.Klarna;if("KlarnaDetails"===(null===(e=_)||void 0===e?void 0:e.installmentPlanDetails.__typename))a=_.installmentPlanDetails.scriptAttributes,i=j,(l=document.createElement("script")).type="text/javascript",l.onload=i,document.head.appendChild(l),l.src="https://osm.klarnaservices.com/lib.js",l.async=!0,a.map((function(e){var n=e.key,t=e.value;return l.setAttribute(n,t)})),l.crossOrigin="anonymous",null===(r=c)||void 0===r||r.OnsiteMessaging.refresh();else if("AffirmContentDetails"===(null===(n=_)||void 0===n?void 0:n.installmentPlanDetails.__typename)||"AffirmDetails"===(null===(t=_)||void 0===t?void 0:t.installmentPlanDetails.__typename)){var u;!function(e){if(document.getElementById("affirm-script"))e();else{var n="affirm-external-script",t=document.createElement("script");t.type="text/javascript";var r=document.createTextNode('_affirm_config = {\n    public_api_key:  "QIMSOFSMVEEZ1CXA",\n    script:          "https://cdn1.affirm.com/js/v2/affirm.js",\n    id: "'.concat(n,'"\n  };\n(function(l,g,m,e,a,f,b,p){var d,c=l[m]||{},h=document.createElement(f),n=document.getElementsByTagName(f)[0],k=function(a,b,c){return function(){a[b]._.push([c,arguments])}};c[e]=k(c,e,"set");d=c[e];c[a]={};c[a]._=[];d._=[];c[a][b]=k(c,a,b);a=0;for(b="set add save post open empty reset on off trigger ready setProduct".split(" ");a<b.length;a++)d[b[a]]=k(c,e,b[a]);a=0;for(b=["get","token","url","items"];a<b.length;a++)d[b[a]]=function(){};h.async=!0;h.src=g[f];h.id=g[p];n.parentNode.insertBefore(h,n);delete g[f];d(g);l[m]=c})(window,_affirm_config,"affirm","checkout","ui","script","ready", "id");'));t.appendChild(r),document.head.appendChild(t),t.setAttribute("data-stid","affirm-script"),t.setAttribute("id","affirm-script");var a=document.getElementById(n);a&&(a.onload=function(){e()})}}(j),null===(u=o)||void 0===u||u.ui.ready((function(){b(!1),o.ui.refresh()}))}else b(!1)}),[_]),S||E)return r.createElement(ne,{legalTextAlignment:d,secondPlaceholderRequired:p,margin:f});if(O||!_)return null;var w=_.installmentPlanDetails;return r.createElement(s.l,{margin:m},r.createElement(c.v,{direction:"column"},r.createElement(u.t,{minWidth:null!=g?g:"4x__half"},r.createElement(o.IntersectionTracker,{trackOnce:!0,referrerId:_.impressionAnalytics.referrerId,linkName:_.impressionAnalytics.linkName},r.createElement("div",null,function(){switch(w.__typename){case"AffirmContentDetails":return r.createElement(W,{data:w});case"AffirmDetails":return r.createElement(Z,{data:w});case"KlarnaDetails":return r.createElement(ee,{data:w});default:return null}}())))))};re.displayName="sharedui-InstallmentPlan"}}]);
//# sourceMappingURL=shared-ui-retail-multi-item-installment-plan.51aee7722894e0c48b93.js.map
/*@license For license information please refer to shared-ui-search-tools-lodging.licenses.txt*/
(self.__LOADABLE_LOADED_CHUNKS__=self.__LOADABLE_LOADED_CHUNKS__||[]).push([[5031],{29339:function(e,n,t){t.d(n,{F2:function(){return Pl},Kp:function(){return Vl},UI:function(){return Zl},V2:function(){return ei},fr:function(){return Hl},jd:function(){return Xl},qJ:function(){return ni}});var a=t(67294),r=t(69430),l=t(71641),i=t(95878),o=t(85395),c=t(55202),u=t(78987),d=t(93351),s=t(19633),m=t(98250),v=t(64418),p=t(29892),f=t(39711),E=t(70094),g=t(13413),y=t(46605),S=t(57876),_=t(77844),h=t(36115),D=t(20402),T=t(30881),C=t(5868),b=t(41849),I=t(35397),k=t(55316),G=t(60756),A=t(23984),F=t(91233),R=t(85213),x=t(29097),L=t(5419),P=t(87862),N=t(15389),O=t(73803),B=t(66547),w=t(58850),M=t(73030),U=t(19346),W=t(12108),V=t(80463),H=t(24499),z=t(8315),Y=t(18397),j=t(38325),$=t(66020),K=t(45638),Q=t(30300),q=t(10333),X=t(54552),Z=t(34778),J=t(95032),ee=t(19719),ne=t(41913),te=t(34353),ae=t(49349),re=t(79221),le=t(30082),ie=t(511),oe=t(49790),ce=t(78060);function ue(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,a=new Array(n);t<n;t++)a[t]=e[t];return a}function de(e,n,t,a,r,l,i){try{var o=e[l](i),c=o.value}catch(u){return void t(u)}o.done?n(c):Promise.resolve(c).then(a,r)}function se(e){return function(){var n=this,t=arguments;return new Promise((function(a,r){var l=e.apply(n,t);function i(e){de(l,a,r,i,o,"next",e)}function o(e){de(l,a,r,i,o,"throw",e)}i(void 0)}))}}function me(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function ve(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{},a=Object.keys(t);"function"==typeof Object.getOwnPropertySymbols&&(a=a.concat(Object.getOwnPropertySymbols(t).filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})))),a.forEach((function(n){me(e,n,t[n])}))}return e}function pe(e,n){return n=null!=n?n:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):function(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);n&&(a=a.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,a)}return t}(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})),e}function fe(e,n){return function(e){if(Array.isArray(e))return e}(e)||function(e,n){var t=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=t){var a,r,l=[],i=!0,o=!1;try{for(t=t.call(e);!(i=(a=t.next()).done)&&(l.push(a.value),!n||l.length!==n);i=!0);}catch(c){o=!0,r=c}finally{try{i||null==t.return||t.return()}finally{if(o)throw r}}return l}}(e,n)||ye(e,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ee(e,n){return n||(n=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(n)}}))}function ge(e){return function(e){if(Array.isArray(e))return ue(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||ye(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ye(e,n){if(e){if("string"==typeof e)return ue(e,n);var t=Object.prototype.toString.call(e).slice(8,-1);return"Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t?Array.from(t):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?ue(e,n):void 0}}function Se(e,n){var t,a,r,l,i={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return l={next:o(0),throw:o(1),return:o(2)},"function"==typeof Symbol&&(l[Symbol.iterator]=function(){return this}),l;function o(l){return function(o){return function(l){if(t)throw new TypeError("Generator is already executing.");for(;i;)try{if(t=1,a&&(r=2&l[0]?a.return:l[0]?a.throw||((r=a.return)&&r.call(a),0):a.next)&&!(r=r.call(a,l[1])).done)return r;switch(a=0,r&&(l=[2&l[0],r.value]),l[0]){case 0:case 1:r=l;break;case 4:return i.label++,{value:l[1],done:!1};case 5:i.label++,a=l[1],l=[0];continue;case 7:l=i.ops.pop(),i.trys.pop();continue;default:if(!(r=i.trys,(r=r.length>0&&r[r.length-1])||6!==l[0]&&2!==l[0])){i=0;continue}if(3===l[0]&&(!r||l[1]>r[0]&&l[1]<r[3])){i.label=l[1];break}if(6===l[0]&&i.label<r[1]){i.label=r[1],r=l;break}if(r&&i.label<r[2]){i.label=r[2],i.ops.push(l);break}r[2]&&i.ops.pop(),i.trys.pop();continue}l=n.call(e,i)}catch(o){l=[6,o],a=0}finally{t=r=0}if(5&l[0])throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}([l,o])}}}function _e(){var e=Ee(["\n  fragment EGDSErrorSummaryFragment on EGDSErrorSummary {\n    egdsElementId\n    goToErrorLinkText\n    goToFirstErrorLinkText\n    heading\n    body {\n      text\n    }\n    analytics {\n      linkName\n      referrerId\n    }\n    impressionAnalytics {\n      linkName\n      referrerId\n    }\n    headingTemplate {\n      ... on EGDSCardinalLocalizedText {\n        models {\n          key\n          source\n        }\n        templates {\n          category\n          template\n        }\n      }\n    }\n  }\n"]);return _e=function(){return e},e}function he(){var e=Ee(["\n  fragment EGDSButtonFragment on EGDSButton {\n    primary\n    disabled\n    accessibility\n    icon {\n      id\n      description\n      token\n      title\n    }\n    analytics {\n      linkName\n      referrerId\n    }\n    action {\n      accessibility\n    }\n  }\n"]);return he=function(){return e},e}function De(){var e=Ee(["\n  fragment EGDSSearchFormButtonFragment on EGDSSearchFormButton {\n    egdsElementId\n    ...EGDSButtonFragment\n    onClick {\n      ...EGDSSubmitSearchFormActionFragment\n    }\n  }\n\n  fragment EGDSSubmitSearchFormActionFragment on EGDSSubmitSearchFormAction {\n    analytics {\n      linkName\n      referrerId\n    }\n  }\n  ","\n"]);return De=function(){return e},e}function Te(){var e=Ee(["\n  fragment IconFragment on Icon {\n    id\n    title\n    token\n    description\n    size\n  }\n"]);return Te=function(){return e},e}function Ce(){var e=Ee(["\n  fragment EGDSBasicPillFragment on EGDSBasicPill {\n    accessibility\n    disabled\n    name\n    primary\n    selected\n    selectedText\n    value\n    icon {\n      ...IconFragment\n    }\n    selectAnalytics {\n      ...AnalyticsFragment\n    }\n    deselectAnalytics {\n      ...AnalyticsFragment\n    }\n  }\n\n  fragment AnalyticsFragment on ClientSideAnalytics {\n    linkName\n    referrerId\n  }\n\n  ","\n"]);return Ce=function(){return e},e}function be(){var e=Ee(["\n  fragment EGDSDatePickerFlexibilityCalendarContentFragment on EGDSDatePickerFlexibilityCalendarContent {\n    __typename\n    flexibleDateOptions {\n      ...EGDSBasicPillFragment\n    }\n    formElementId\n    title {\n      text\n      accessibility\n    }\n  }\n  ","\n"]);return be=function(){return e},e}function Ie(){var e=Ee(["\n  fragment EGDSBasicTabsFragment on EGDSBasicTabs {\n    __typename\n    egdsElementId\n    selectedTabId\n    tabs {\n      ... on EGDSBasicTab {\n        __typename\n        accessibility\n        clickAnalytics {\n          linkName\n          referrerId\n        }\n        label\n        tabId\n      }\n    }\n  }\n"]);return Ie=function(){return e},e}function ke(){var e=Ee(["\n  fragment EGDSToggleButtonFragment on EGDSToggleButton {\n    __typename\n    egdsElementId\n    primary\n    subText\n    name\n    selectedAnalytics {\n      linkName\n      referrerId\n    }\n    unselectedAnalytics {\n      linkName\n      referrerId\n    }\n    icon {\n      ... on Icon {\n        id\n        size\n      }\n    }\n    selected\n    disabled\n  }\n"]);return ke=function(){return e},e}function Ge(){var e=Ee(["\n  fragment EGDSToggleButtonGroupFragment on EGDSToggleButtonGroup {\n    __typename\n    options {\n      ...EGDSToggleButtonFragment\n    }\n  }\n\n  ","\n"]);return Ge=function(){return e},e}function Ae(){var e=Ee(["\n  fragment EGDSDatePickerFlexibleMonthsFragment on EGDSDatePickerFlexibleMonths {\n    heading\n    subHeading\n    options {\n      ...EGDSToggleButtonGroupFragment\n    }\n  }\n  ","\n"]);return Ae=function(){return e},e}function Fe(){var e=Ee(["\n  fragment EGDSBasicCheckBoxFragment on EGDSBasicCheckBox {\n    egdsElementId\n    description\n    enabled\n    checkedAnalytics {\n      linkName\n      referrerId\n    }\n    uncheckedAnalytics {\n      linkName\n      referrerId\n    }\n    label {\n      text\n    }\n    name\n    required\n    state\n  }\n"]);return Fe=function(){return e},e}function Re(){var e=Ee(["\n  fragment EGDSCheckBoxFragment on EGDSCheckBox {\n    __typename\n\n    ...EGDSBasicCheckBoxFragment\n  }\n\n  ","\n"]);return Re=function(){return e},e}function xe(){var e=Ee(["\n  fragment EGDSBasicRemovablePillFragment on EGDSBasicRemovablePill {\n    primary\n    name\n    accessibility\n    id\n    removeAnalytics {\n      referrerId\n      linkName\n    }\n  }\n"]);return xe=function(){return e},e}function Le(){var e=Ee(["\n  fragment EGDSBasicTriggerPillFragment on EGDSBasicTriggerPill {\n    id\n    disabled\n    primary\n    selected\n    icon {\n      ...IconFragment\n    }\n    selectAnalytics {\n      ...AnalyticsFragment\n    }\n    deselectAnalytics {\n      ...AnalyticsFragment\n    }\n    accessibility\n  }\n\n  fragment AnalyticsFragment on ClientSideAnalytics {\n    linkName\n    referrerId\n  }\n\n  ","\n"]);return Le=function(){return e},e}function Pe(){var e=Ee(["\n  fragment EGDSPillFragment on EGDSPill {\n    __typename\n\n    ...EGDSBasicPillFragment\n    ...EGDSBasicTriggerPillFragment\n    ...EGDSBasicRemovablePillFragment\n  }\n\n  ","\n  ","\n  ","\n"]);return Pe=function(){return e},e}function Ne(){var e=Ee(["\n  fragment EGDSDatePickerFlexibleNightsFragment on EGDSDatePickerFlexibleNights {\n    heading\n    includeWeekend {\n      ...EGDSCheckBoxFragment\n    }\n    options {\n      ...EGDSPillFragment\n    }\n  }\n  ","\n  ","\n"]);return Ne=function(){return e},e}function Oe(){var e=Ee(["\n  fragment EGDSDatePickerFlexibilityDatesContentFragment on EGDSDatePickerFlexibilityDatesContent {\n    __typename\n    nightsSelection {\n      ...EGDSDatePickerFlexibleNightsFragment\n    }\n    monthsSelection {\n      ...EGDSDatePickerFlexibleMonthsFragment\n    }\n  }\n  ","\n  ","\n"]);return Oe=function(){return e},e}function Be(){var e=Ee(["\n  fragment EGDSDatePickerFlexibilityContentFragment on EGDSDatePickerFlexibilityContent {\n    __typename\n    calendarContent {\n      ...EGDSDatePickerFlexibilityCalendarContentFragment\n    }\n    contentSelector {\n      ...EGDSBasicTabsFragment\n    }\n    flexibleDatesContent {\n      ...EGDSDatePickerFlexibilityDatesContentFragment\n    }\n    flexibilityLabel {\n      templates {\n        template\n        category\n      }\n      models {\n        key\n      }\n    }\n  }\n  ","\n  ","\n  ","\n"]);return Be=function(){return e},e}function we(){var e=Ee(["\n  fragment EGDSDateRangePickerFragment on EGDSDateRangePicker {\n    buttonText\n    buttonTextTemplate {\n      ... on EGDSCardinalLocalizedText {\n        text\n        models {\n          key\n          source\n          __typename\n        }\n        templates {\n          category\n          template\n          __typename\n        }\n        __typename\n      }\n    }\n    clearButtonText\n    firstDayOfWeek\n    maxNumberOfDaysSelected\n    sameDaySelectionAllowed\n    selectedStartDate {\n      ...DateFragment\n    }\n    startDatePlaceholderText\n    selectedEndDate {\n      ...DateFragment\n    }\n    endDatePlaceholderText\n    validDaysLowerBoundInclusive {\n      ...DateFragment\n    }\n    validDaysUpperBoundInclusive {\n      ...DateFragment\n    }\n    submitButtonAnalytics {\n      linkName\n      referrerId\n    }\n    nextButtonAnalytics {\n      linkName\n      referrerId\n    }\n    previousButtonAnalytics {\n      linkName\n      referrerId\n    }\n    startDateButtonAnalytics {\n      linkName\n      referrerId\n    }\n    endDateButtonAnalytics {\n      linkName\n      referrerId\n    }\n    clearDatesButtonAnalytics {\n      linkName\n      referrerId\n    }\n    showClearDatesButton\n\n    flexibleDateContent {\n      ...EGDSDatePickerFlexibilityContentFragment\n    }\n  }\n\n  fragment DateFragment on Date {\n    day\n    month\n    year\n  }\n\n  ","\n"]);return we=function(){return e},e}function Me(){var e=Ee(["\n  fragment EGDSSingleDatePickerFragment on EGDSSingleDatePicker {\n    buttonText\n    selectedStartDate {\n      ...DateFragment\n    }\n    validDaysLowerBoundInclusive {\n      ...DateFragment\n    }\n    validDaysUpperBoundInclusive {\n      ...DateFragment\n    }\n    submitButtonAnalytics {\n      linkName\n      referrerId\n    }\n    startDateButtonAnalytics {\n      linkName\n      referrerId\n    }\n    firstDayOfWeek\n  }\n\n  fragment DateFragment on Date {\n    day\n    month\n    year\n  }\n"]);return Me=function(){return e},e}function Ue(){var e=Ee(["\n  fragment EGDSSearchFormDatePickerFieldFragment on EGDSSearchFormDatePickerField {\n    egdsElementId\n    label\n    labelTemplate {\n      ... on EGDSBasicLocalizedText {\n        text\n      }\n    }\n    placeholder\n    errorMessage\n    validations {\n      ... on EGDSMaxLengthInputValidation {\n        errorMessage\n      }\n    }\n    action {\n      ...EGDSOpenDatePickerActionFragment\n    }\n  }\n\n  fragment EGDSOpenDatePickerActionFragment on EGDSOpenDatePickerAction {\n    accessibility\n    analytics {\n      linkName\n      referrerId\n    }\n    datePicker {\n      ...EGDSDateRangePickerFragment\n      ...EGDSSingleDatePickerFragment\n    }\n  }\n\n  ","\n  ","\n"]);return Ue=function(){return e},e}function We(){var e=Ee(["\n  fragment EGDSSearchFormLocationFieldFragment on EGDSSearchFormLocationField {\n    __typename\n    egdsElementId\n    label\n    placeholder\n    value\n    errorMessage\n    regionId\n    required\n    leftIcon {\n      title\n    }\n    action {\n      ...OpenTypeaheadActionFragment\n    }\n    closeAnalytics {\n      linkName\n      referrerId\n    }\n    changeAnalytics {\n      linkName\n      referrerId\n    }\n    multiLocations {\n      text\n      value\n    }\n    validations {\n      ... on EGDSInputValidation {\n        errorMessage\n        __typename\n      }\n    }\n    debounceRate\n  }\n\n  fragment OpenTypeaheadActionFragment on OpenTypeaheadAction {\n    accessibility\n    analytics {\n      linkName\n      referrerId\n    }\n    info {\n      ...TypeaheadInfoFragment\n    }\n    emptyResultsPlaceholder\n    categorize\n    allowExactMatch\n    listTitle\n    selectedItemHeading\n    clearAllText\n    dismissButtonText\n  }\n\n  fragment TypeaheadInfoFragment on TypeaheadInfo {\n    client\n    drivable\n    isDestination\n    lineOfBusiness\n    maxNumberOfResults\n    packageType\n    personalize\n    regionType\n    typeaheadFeatures\n    isMultiLocation\n    domain\n    regionId\n    showCurrentLocation\n    subLob\n    expUserId\n  }\n"]);return We=function(){return e},e}function Ve(){var e=Ee(["\n  fragment EGDSPrimaryButtonFragment on UIPrimaryButton {\n    egdsElementId\n    ...EGDSButtonFragment\n  }\n\n  ","\n"]);return Ve=function(){return e},e}function He(){var e=Ee(["\n  fragment EGDSTertiaryButtonFragment on UITertiaryButton {\n    egdsElementId\n    ...EGDSButtonFragment\n  }\n\n  ","\n"]);return He=function(){return e},e}function ze(){var e=Ee(["\n  fragment EGDSBasicOptionFragment on EGDSBasicOption {\n    label\n    value\n    egdsElementId\n    changeAnalytics {\n      linkName\n      referrerId\n    }\n  }\n"]);return ze=function(){return e},e}function Ye(){var e=Ee(["\n  fragment EGDSTravelerChildAgeSelectFragment on EGDSTravelerChildAgeSelect {\n    labelTemplate {\n      ... on EGDSBasicLocalizedText {\n        models {\n          key\n          source\n        }\n        template\n      }\n    }\n    options {\n      ...EGDSBasicOptionFragment\n    }\n    egdsElementId\n    value\n  }\n\n  ","\n"]);return Ye=function(){return e},e}function je(){var e=Ee(["\n  fragment TemplateModelFragment on TemplateModel {\n    key\n    source\n  }\n"]);return je=function(){return e},e}function $e(){var e=Ee(["\n  fragment EGDSBasicLocalizedTextFragment on EGDSBasicLocalizedText {\n    template\n    models {\n      ...TemplateModelFragment\n    }\n  }\n\n  ","\n"]);return $e=function(){return e},e}function Ke(){var e=Ee(["\n  fragment EGDSCardinalLocalizedTextFragment on EGDSCardinalLocalizedText {\n    egdsElementId\n    text\n    models {\n      ...TemplateModelFragment\n    }\n    templates {\n      ...CardinalTemplateFragment\n    }\n  }\n\n  fragment CardinalTemplateFragment on CardinalTemplate {\n    template\n    category\n  }\n\n  ","\n"]);return Ke=function(){return e},e}function Qe(){var e=Ee(["\n  fragment EGDSCompositeLocalizedTextFragment on EGDSCompositeLocalizedText {\n    egdsElementId\n    text\n    template\n    models {\n      ...CompositeLocalizedTextModelFragment\n    }\n  }\n\n  fragment CompositeLocalizedTextModelFragment on CompositeLocalizedTextModel {\n    key\n    models {\n      ...EGDSTemplateModelsFragment\n    }\n  }\n\n  fragment EGDSTemplateModelsFragment on EGDSTemplateModels {\n    models {\n      ...TemplateModelFragment\n    }\n  }\n\n  ","\n"]);return Qe=function(){return e},e}function qe(){var e=Ee(["\n  fragment EGDSLocalizedTextFragment on EGDSLocalizedText {\n    ...EGDSBasicLocalizedTextFragment\n    ...EGDSCardinalLocalizedTextFragment\n    ...EGDSCompositeLocalizedTextFragment\n  }\n\n  ","\n  ","\n  ","\n"]);return qe=function(){return e},e}function Xe(){var e=Ee(["\n  fragment EGDSTravelerStepInputFragment on EGDSStepInput {\n    ... on EGDSTravelerStepInput {\n      decreaseAnalytics {\n        linkName\n        referrerId\n      }\n      increaseAnalytics {\n        linkName\n        referrerId\n      }\n      decreaseText\n      decreaseTextTemplate {\n        ...EGDSBasicLocalizedTextFragment\n      }\n      increaseText\n      increaseTextTemplate {\n        ...EGDSBasicLocalizedTextFragment\n      }\n      egdsElementId\n    }\n    label\n    max\n    min\n    step\n    subLabel\n    value\n  }\n\n  ","\n"]);return Xe=function(){return e},e}function Ze(){var e=Ee(["\n  fragment EGDSTravelerChildrenFragment on EGDSTraveler {\n    count {\n      ...EGDSTravelerStepInputFragment\n    }\n    ... on EGDSBasicTraveler {\n      type\n    }\n    ... on EGDSTravelerChildren {\n      ages {\n        ...EGDSTravelerChildAgeSelectFragment\n      }\n      ageTemplate {\n        ...EGDSTravelerChildAgeSelectFragment\n      }\n    }\n    ... on EGDSTravelerInfant {\n      ages {\n        ...EGDSTravelerChildAgeSelectFragment\n      }\n      ageTemplate {\n        ...EGDSTravelerChildAgeSelectFragment\n      }\n    }\n  }\n\n  ","\n  ","\n"]);return Ze=function(){return e},e}function Je(){var e=Ee(["\n  fragment EGDSTravelersFragment on EGDSTravelers {\n    adults {\n      ...EGDSTravelerStepInputFragment\n    }\n    children {\n      ...EGDSTravelerChildrenFragment\n    }\n    infantsInSeat {\n      ...EGDSTravelerChildrenFragment\n    }\n    infantsOnLap {\n      ...EGDSTravelerChildrenFragment\n    }\n    pets {\n      ...EGDSBasicCheckBoxFragment\n    }\n  }\n\n  ","\n  ","\n  ","\n"]);return Je=function(){return e},e}function en(){var e=Ee(["\n  fragment EGDSBasicTravelerSelectorFragment on EGDSBasicTravelerSelector {\n    closeButton {\n      ...EGDSPrimaryButtonFragment\n      ...EGDSTertiaryButtonFragment\n    }\n    doneButton {\n      ...EGDSPrimaryButtonFragment\n    }\n    title\n    travelers {\n      ...EGDSTravelersFragment\n    }\n    validations {\n      ... on EGDSTravelersInputValidation {\n        errorMessage\n        maxCount\n        type\n        infantsInSeatPerAdult\n        errorSummary {\n          ...EGDSErrorSummaryFragment\n        }\n      }\n    }\n  }\n\n  ","\n  ","\n  ","\n  ","\n"]);return en=function(){return e},e}function nn(){var e=Ee(["\n  fragment EGDSStandardLinkFragment on EGDSStandardLink {\n    text\n    egdsElementId\n    action {\n      accessibility\n      target\n      resource {\n        value\n      }\n      analytics {\n        linkName\n        referrerId\n      }\n    }\n    icon {\n      id\n    }\n    iconPosition\n  }\n"]);return nn=function(){return e},e}function tn(){var e=Ee(["\n  fragment EGDSTravelerInfantSeatSelectFragment on EGDSTravelerInfantSeatSelection {\n    airlineAgeRule {\n      ...EGDSStandardLinkFragment\n    }\n    groupName\n    labelTemplate {\n      ... on EGDSCardinalLocalizedText {\n        text\n        models {\n          key\n          source\n        }\n        templates {\n          category\n          template\n        }\n      }\n    }\n    options {\n      label\n      value\n    }\n    selected\n  }\n  ","\n"]);return tn=function(){return e},e}function an(){var e=Ee(["\n  fragment EGDSTravelerSelectorRoomFragment on EGDSTravelerSelectorRoom {\n    label {\n      ... on EGDSBasicLocalizedText {\n        models {\n          key\n          source\n        }\n        template\n      }\n    }\n    adults {\n      ...EGDSTravelerStepInputFragment\n    }\n    children {\n      ...EGDSTravelerChildrenFragment\n    }\n    infants {\n      ...EGDSTravelerChildrenFragment\n    }\n    removeRoomButton {\n      ...EGDSTertiaryButtonFragment\n    }\n  }\n\n  ","\n  ","\n  ","\n"]);return an=function(){return e},e}function rn(){var e=Ee(["\n  fragment EGDSRoomsTravelerSelectorFragment on EGDSRoomsTravelerSelector {\n    addAnotherRoomButton {\n      ...EGDSTertiaryButtonFragment\n    }\n    closeButton {\n      ...EGDSPrimaryButtonFragment\n      ...EGDSTertiaryButtonFragment\n    }\n    doneButton {\n      ...EGDSPrimaryButtonFragment\n    }\n    infantSeatSelection {\n      ...EGDSTravelerInfantSeatSelectFragment\n    }\n    maxRoomCount\n    rooms {\n      ...EGDSTravelerSelectorRoomFragment\n    }\n    title\n    validations {\n      ... on EGDSTravelersInputValidation {\n        errorMessage\n        maxCount\n        type\n        infantsInSeatPerAdult\n        errorSummary {\n          ...EGDSErrorSummaryFragment\n        }\n      }\n    }\n  }\n\n  ","\n  ","\n  ","\n  ","\n  ","\n"]);return rn=function(){return e},e}function ln(){var e=Ee(["\n  fragment EGDSSearchFormTravelersFieldFragment on EGDSSearchFormTravelersField {\n    action {\n      ... on EGDSOpenTravelerSelectorAction {\n        analytics {\n          linkName\n          referrerId\n        }\n        travelerSelector {\n          ...EGDSBasicTravelerSelectorFragment\n          ...EGDSRoomsTravelerSelectorFragment\n        }\n      }\n    }\n    label\n    labelTemplate {\n      ... on EGDSCardinalLocalizedText {\n        models {\n          key\n          source\n        }\n        templates {\n          category\n          template\n        }\n        secondaryTemplates {\n          category\n          template\n        }\n        text\n      }\n      ... on EGDSCompositeLocalizedText {\n        models {\n          key\n          models {\n            ... on EGDSCardinalLocalizedText {\n              models {\n                key\n                source\n              }\n              templates {\n                category\n                template\n              }\n            }\n          }\n        }\n        template\n        text\n      }\n    }\n    leftIcon {\n      id\n    }\n    readOnly\n  }\n\n  ","\n  ","\n"]);return ln=function(){return e},e}function on(){var e=Ee(["\n  fragment EGDSSearchPlaybackFragment on EGDSSearchPlayback {\n    primary {\n      text\n    }\n    primaryTemplate {\n      ... on EGDSBasicLocalizedText {\n        text\n      }\n    }\n    secondaries {\n      ... on EGDSPlainText {\n        text\n        accessibility\n      }\n      ... on EGDSBasicLocalizedText {\n        text\n        template\n        accessibilityTemplate\n        models {\n          key\n          source\n        }\n        egdsElementId\n      }\n      ... on EGDSCardinalLocalizedText {\n        text\n        accessibilityText\n        egdsElementId\n        models {\n          key\n          source\n        }\n        templates {\n          category\n          template\n        }\n      }\n    }\n    showAction {\n      ... on EGDSShowSearchFormAction {\n        accessibility\n        analytics {\n          linkName\n          referrerId\n        }\n        icon {\n          id\n          size\n        }\n        resource {\n          value\n        }\n      }\n    }\n    hideButton {\n      ...EGDSTertiaryButtonFragment\n    }\n  }\n\n  ","\n"]);return on=function(){return e},e}function cn(){var e=Ee(["\n  fragment SoftPackagesFragment on SoftPackages {\n    actionURL\n    addCar {\n      ...EGDSCheckBoxFragment\n    }\n    addFlight {\n      ...EGDSCheckBoxFragment\n    }\n    addHotel {\n      ...EGDSCheckBoxFragment\n    }\n    origin {\n      ...EGDSSearchFormLocationFieldFragment\n    }\n    maxBookableTravelers\n    maxTravelersErrorMessage\n    validDaysUpperBoundInclusive {\n      day\n      month\n      year\n    }\n  }\n\n  ","\n  ","\n"]);return cn=function(){return e},e}function un(){var e=Ee(["\n  fragment EGUisMicroMessageFragment on EGUisMicroMessage {\n    schemaName\n    messageContent\n  }\n"]);return un=function(){return e},e}function dn(){var e=Ee(["\n  fragment AdaptexTrackingSuccessFragment on SearchFormAdaptExSuccessEvent {\n    __typename\n    datePrefill {\n      ...EGUisMicroMessageFragment\n    }\n  }\n\n  ","\n"]);return dn=function(){return e},e}function sn(){var e=Ee(["\n  fragment LodgingSearchFormFragment on LodgingSearchForm {\n    __typename\n    egdsElementId\n    actionURL\n    errorSummary {\n      ...EGDSErrorSummaryFragment\n    }\n    elements {\n      __typename\n      ...EGDSSearchFormLocationFieldFragment\n      ...EGDSSearchFormDatePickerFieldFragment\n      ...EGDSSearchFormTravelersFieldFragment\n    }\n    search {\n      ...EGDSSearchFormButtonFragment\n    }\n\n    playback @include(if: $includePlayback) {\n      ...EGDSSearchPlaybackFragment\n    }\n\n    softPackages {\n      ...SoftPackagesFragment\n    }\n\n    adaptExSuccessEvent {\n      ...AdaptexTrackingSuccessFragment\n    }\n  }\n\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n"]);return sn=function(){return e},e}function mn(){var e=Ee(["\n  query LodgingSearchFormQuery(\n    $context: ContextInput!\n    $propertySearchCriteriaInput: PropertySearchCriteriaInput\n    $includePlayback: Boolean = false\n    $features: [String!]\n  ) {\n    searchForm(context: $context) {\n      lodging(propertySearchCriteria: $propertySearchCriteriaInput, features: $features) {\n        __typename\n        ...LodgingSearchFormFragment\n      }\n    }\n  }\n\n  ","\n"]);return mn=function(){return e},e}var vn=function(e){var n=e.rows;return a.createElement(a.Fragment,null,n.map((function(e,n){var t=e.type;return a.createElement(d.l,{key:n,padding:0===n?void 0:{blockstart:"three"}},a.createElement("div",null,a.createElement(u.H,{animation:!0,type:t})))})))},pn=function(e){return e.LOWER="LOWER",e.UPPER="UPPER",e}(pn||{}),fn=function(e){return e.DAY="DAY",e.MONTH="MONTH",e.WEEK="WEEK",e.WEEKEND="WEEKEND",e}(fn||{}),En={egdsElementId:"search_form_error_summary",goToErrorLinkText:"Go to the error",goToFirstErrorLinkText:"Go to the first error",heading:"",body:null,analytics:{linkName:"Error summary link clicked on search form",referrerId:"Web.Hotels.Search.Error.Summary",__typename:"ClientSideAnalytics"},impressionAnalytics:{linkName:"Error summary displayed on search form",referrerId:"Web.Hotels.Search.Error.Summary.Displayed",__typename:"ClientSideImpressionEventAnalytics"},headingTemplate:{models:[{key:"errorCount",source:"errorCount",__typename:"TemplateModel"}],templates:[{category:"ZERO",template:"To continue, please correct the ${errorCount} errors below.",__typename:"CardinalTemplate"},{category:"ONE",template:"To continue, please correct the error below.",__typename:"CardinalTemplate"},{category:"TWO",template:"To continue, please correct the ${errorCount} errors below.",__typename:"CardinalTemplate"},{category:"FEW",template:"To continue, please correct the ${errorCount} errors below.",__typename:"CardinalTemplate"},{category:"MANY",template:"To continue, please correct the ${errorCount} errors below.",__typename:"CardinalTemplate"},{category:"OTHER",template:"To continue, please correct the ${errorCount} errors below.",__typename:"CardinalTemplate"}],__typename:"EGDSCardinalLocalizedText"},__typename:"EGDSErrorSummary"},gn={__typename:"EGDSSearchFormLocationField",egdsElementId:"destination_form_field",label:"Going to",placeholder:"Going to",value:null,errorMessage:"Please select a destination",validations:[{errorMessage:"Please select a destination",__typename:"EGDSRequiredInputValidation"},{errorMessage:"Please make sure your departure and arrival cities are different",__typename:"EGDSSameValueInputValidation"}],required:!1,leftIcon:{title:null,__typename:"Icon"},closeAnalytics:{linkName:"Location selection",referrerId:"Web.Hotels.Location.Open",__typename:"ClientSideAnalytics"},action:{accessibility:null,analytics:{linkName:"Location selection",referrerId:"Web.Hotels.Location.Open",__typename:"ClientSideAnalytics"},info:{client:"Homepage",drivable:!0,isDestination:!0,lineOfBusiness:"HOTELS",maxNumberOfResults:8,packageType:null,personalize:!0,regionType:2047,typeaheadFeatures:"ta_hierarchy|postal_code|google|consistent_display",isMultiLocation:null,domain:null,regionId:null,showCurrentLocation:null,__typename:"TypeaheadInfo",subLob:null,expUserId:"-1"},emptyResultsPlaceholder:"Search by destination, accommodations, or landmark",categorize:!1,allowExactMatch:!0,listTitle:!1,selectedItemHeading:null,clearAllText:null,dismissButtonText:null,__typename:"OpenTypeaheadAction"},multiLocations:null,changeAnalytics:null,regionId:null,debounceRate:null},yn=new Date,Sn=new Date(yn.getFullYear(),yn.getMonth(),yn.getDate()+14),_n=new Date(Sn.getFullYear(),Sn.getMonth(),Sn.getDate()+1),hn=Sn.getMonth()+1,Dn=_n.getMonth()+1,Tn={__typename:"EGDSSearchFormDatePickerField",egdsElementId:"date_form_field",label:"Dates",labelTemplate:{text:"${startDate} (tonight) - ${endDate}",__typename:"EGDSBasicLocalizedText"},placeholder:"Dates",errorMessage:"Check-out date must be after check-in date",validations:[{errorMessage:"Check out date must be within 29 days of check in date",__typename:"EGDSMaxLengthInputValidation"},{__typename:"EGDSRequiredInputValidation"}],action:{accessibility:null,analytics:{linkName:"Calendar selection",referrerId:"Web.Hotels.Calendar.Open",__typename:"ClientSideAnalytics"},datePicker:{flexibleDateContent:null,nextButtonAnalytics:null,previousButtonAnalytics:null,buttonText:"Done",clearButtonText:"Clear dates",firstDayOfWeek:"SUN",maxNumberOfDaysSelected:29,sameDaySelectionAllowed:!1,selectedStartDate:{day:Sn.getDate(),month:hn,year:Sn.getFullYear(),__typename:"Date"},startDatePlaceholderText:"Check-in",selectedEndDate:{day:_n.getDate(),month:Dn,year:_n.getFullYear(),__typename:"Date"},endDatePlaceholderText:"Check-out",validDaysLowerBoundInclusive:{day:yn.getDate(),month:yn.getMonth(),year:yn.getFullYear(),__typename:"Date"},validDaysUpperBoundInclusive:{day:yn.getDate(),month:yn.getMonth()+4,year:yn.getFullYear()+1,__typename:"Date"},submitButtonAnalytics:{__typename:"ClientSideAnalytics",referrerId:"date picker submit",linkName:"date.picker.submit"},startDateButtonAnalytics:{__typename:"ClientSideAnalytics",linkName:"date picker start date",referrerId:"date.picker.start.date"},endDateButtonAnalytics:{__typename:"ClientSideAnalytics",linkName:"date picker end date",referrerId:"date.picker.end.date"},showClearDatesButton:!1,buttonTextTemplate:null,clearDatesButtonAnalytics:null,__typename:"EGDSDateRangePicker"},__typename:"EGDSOpenDatePickerAction"}},Cn={__typename:"EGDSSearchFormTravelersField",readOnly:!1,action:{analytics:{linkName:"Guests selection",referrerId:"Web.Hotels.Traveler.GuestPicker.Open",__typename:"ClientSideAnalytics"},travelerSelector:{addAnotherRoomButton:{egdsElementId:"traveler_selector_add_room",primary:"Add another room",disabled:!1,accessibility:null,icon:null,analytics:null,action:null,__typename:"UITertiaryButton"},closeButton:{egdsElementId:"traveler_selector_close_button",primary:null,disabled:!1,accessibility:null,icon:{id:"close",description:"close",token:"icon__close",title:"",__typename:"Icon"},analytics:{linkName:"Travelers results not updated",referrerId:"Web.Hotels.Traveler.Close",__typename:"ClientSideAnalytics"},action:null,__typename:"UIPrimaryButton"},doneButton:{egdsElementId:"traveler_selector_done_button",primary:"Done",disabled:!1,accessibility:null,icon:null,analytics:{linkName:"Travelers results updated",referrerId:"Web.Hotels.Traveler.Done",__typename:"ClientSideAnalytics"},action:null,__typename:"UIPrimaryButton"},maxRoomCount:8,rooms:[{label:{models:[{key:"roomNumber",source:"roomNumber",__typename:"TemplateModel"}],template:"Room ${roomNumber}",__typename:"EGDSBasicLocalizedText"},adults:{decreaseAnalytics:{linkName:"Adult traveler removed",referrerId:"Web.Hotels.Traveler.Remove.Adult",__typename:"ClientSideAnalytics"},increaseAnalytics:{linkName:"Adult traveler added",referrerId:"Web.Hotels.Traveler.Add.Adult",__typename:"ClientSideAnalytics"},decreaseText:"Decrease the number of adults",decreaseTextTemplate:{models:[{key:"roomNumber",source:"roomNumber",__typename:"TemplateModel"}],template:"Decrease the number of adults in room ${roomNumber}",__typename:"EGDSBasicLocalizedText"},increaseText:"Increase the number of adults",increaseTextTemplate:{models:[{key:"roomNumber",source:"roomNumber",__typename:"TemplateModel"}],template:"Increase the number of adults in room ${roomNumber}",__typename:"EGDSBasicLocalizedText"},egdsElementId:"traveler_selector_adult_step_input",__typename:"EGDSTravelerStepInput",label:"Adults",max:14,min:1,step:1,subLabel:null,value:2},children:{count:{decreaseAnalytics:{linkName:"Child traveler removed",referrerId:"Web.Hotels.Traveler.Remove.Child",__typename:"ClientSideAnalytics"},increaseAnalytics:{linkName:"Child traveler added",referrerId:"Web.Hotels.Traveler.Add.Child",__typename:"ClientSideAnalytics"},decreaseText:"Decrease the number of children",decreaseTextTemplate:{models:[{key:"roomNumber",source:"roomNumber",__typename:"TemplateModel"}],template:"Decrease the number of children in room ${roomNumber}",__typename:"EGDSBasicLocalizedText"},increaseText:"Increase the number of children",increaseTextTemplate:{models:[{key:"roomNumber",source:"roomNumber",__typename:"TemplateModel"}],template:"Increase the number of children in room ${roomNumber}",__typename:"EGDSBasicLocalizedText"},egdsElementId:"traveler_selector_children_step_input",__typename:"EGDSTravelerStepInput",label:"Children",max:6,min:0,step:1,subLabel:"Ages 0 to 17",value:0},ages:[],ageTemplate:{labelTemplate:{models:[{key:"childNumber",source:"childNumber",__typename:"TemplateModel"}],template:"Child ${childNumber} age",__typename:"EGDSBasicLocalizedText"},options:[{changeAnalytics:null,label:"Select age",value:"",egdsElementId:"children_age_option",__typename:"EGDSBasicOption"},{changeAnalytics:null,label:"Under 1",value:"0",egdsElementId:"children_age_option_0",__typename:"EGDSBasicOption"},{changeAnalytics:null,label:"1",value:"1",egdsElementId:"children_age_option_1",__typename:"EGDSBasicOption"},{changeAnalytics:null,label:"2",value:"2",egdsElementId:"children_age_option_2",__typename:"EGDSBasicOption"},{changeAnalytics:null,label:"3",value:"3",egdsElementId:"children_age_option_3",__typename:"EGDSBasicOption"},{changeAnalytics:null,label:"4",value:"4",egdsElementId:"children_age_option_4",__typename:"EGDSBasicOption"},{changeAnalytics:null,label:"5",value:"5",egdsElementId:"children_age_option_5",__typename:"EGDSBasicOption"},{changeAnalytics:null,label:"6",value:"6",egdsElementId:"children_age_option_6",__typename:"EGDSBasicOption"},{changeAnalytics:null,label:"7",value:"7",egdsElementId:"children_age_option_7",__typename:"EGDSBasicOption"},{changeAnalytics:null,label:"8",value:"8",egdsElementId:"children_age_option_8",__typename:"EGDSBasicOption"},{changeAnalytics:null,label:"9",value:"9",egdsElementId:"children_age_option_9",__typename:"EGDSBasicOption"},{changeAnalytics:null,label:"10",value:"10",egdsElementId:"children_age_option_10",__typename:"EGDSBasicOption"},{changeAnalytics:null,label:"11",value:"11",egdsElementId:"children_age_option_11",__typename:"EGDSBasicOption"},{changeAnalytics:null,label:"12",value:"12",egdsElementId:"children_age_option_12",__typename:"EGDSBasicOption"},{changeAnalytics:null,label:"13",value:"13",egdsElementId:"children_age_option_13",__typename:"EGDSBasicOption"},{changeAnalytics:null,label:"14",value:"14",egdsElementId:"children_age_option_14",__typename:"EGDSBasicOption"},{changeAnalytics:null,label:"15",value:"15",egdsElementId:"children_age_option_15",__typename:"EGDSBasicOption"},{changeAnalytics:null,label:"16",value:"16",egdsElementId:"children_age_option_16",__typename:"EGDSBasicOption"},{changeAnalytics:null,label:"17",value:"17",egdsElementId:"children_age_option_17",__typename:"EGDSBasicOption"}],egdsElementId:"traveler_selector_children_age_selector",value:null,__typename:"EGDSTravelerChildAgeSelect"},__typename:"EGDSTravelerChildren"},infants:null,removeRoomButton:{egdsElementId:"traveler_selector_remove_room",primary:"Remove room",disabled:!1,accessibility:null,icon:null,analytics:null,action:null,__typename:"UITertiaryButton"},__typename:"EGDSTravelerSelectorRoom"}],infantSeatSelection:null,title:"Travelers",validations:[{errorMessage:"We allow up to 20 travelers per booking.",maxCount:20,type:"MAX_TRAVELERS",infantsInSeatPerAdult:null,errorSummary:{egdsElementId:"traveler_selector_error_summary",goToErrorLinkText:null,goToFirstErrorLinkText:null,heading:"We allow up to 20 travelers per booking.",body:null,analytics:null,impressionAnalytics:{linkName:"Error summary displayed on travelers",referrerId:"Web.Traveler.Error.Summary.Displayed",__typename:"ClientSideImpressionEventAnalytics"},headingTemplate:null,__typename:"EGDSErrorSummary"},__typename:"EGDSTravelersInputValidation"},{errorMessage:"Provide the age of the child.",maxCount:null,type:"CHILD_AGE_REQUIRED",infantsInSeatPerAdult:null,errorSummary:{egdsElementId:"traveler_selector_error_summary",goToErrorLinkText:"Go to the error",goToFirstErrorLinkText:"Go to the first error",heading:"",body:null,analytics:{linkName:"Error summary link clicked on travelers",referrerId:"Web.Hotels.Traveler.Error.Summary",__typename:"ClientSideAnalytics"},impressionAnalytics:{linkName:"Error summary displayed on travelers",referrerId:"Web.Hotels.Traveler.Error.Summary.Displayed",__typename:"ClientSideImpressionEventAnalytics"},headingTemplate:{models:[{key:"errorCount",source:"errorCount",__typename:"TemplateModel"}],templates:[{category:"ZERO",template:"To continue, please correct the ${errorCount} errors below.",__typename:"CardinalTemplate"},{category:"ONE",template:"To continue, please correct the error below.",__typename:"CardinalTemplate"},{category:"TWO",template:"To continue, please correct the ${errorCount} errors below.",__typename:"CardinalTemplate"},{category:"FEW",template:"To continue, please correct the ${errorCount} errors below.",__typename:"CardinalTemplate"},{category:"MANY",template:"To continue, please correct the ${errorCount} errors below.",__typename:"CardinalTemplate"},{category:"OTHER",template:"To continue, please correct the ${errorCount} errors below.",__typename:"CardinalTemplate"}],__typename:"EGDSCardinalLocalizedText"},__typename:"EGDSErrorSummary"},__typename:"EGDSTravelersInputValidation"}],__typename:"EGDSRoomsTravelerSelector"},__typename:"EGDSOpenTravelerSelectorAction"},label:"Travelers",labelTemplate:{models:[{key:"rooms",models:{models:[{key:"roomCount",source:"roomCount",__typename:"TemplateModel"}],templates:[{category:"ZERO",template:"${roomCount} rooms",__typename:"CardinalTemplate"},{category:"ONE",template:"${roomCount} room",__typename:"CardinalTemplate"},{category:"TWO",template:"${roomCount} rooms",__typename:"CardinalTemplate"},{category:"FEW",template:"${roomCount} rooms",__typename:"CardinalTemplate"},{category:"MANY",template:"${roomCount} rooms",__typename:"CardinalTemplate"},{category:"OTHER",template:"${roomCount} rooms",__typename:"CardinalTemplate"}],__typename:"EGDSCardinalLocalizedText"},__typename:"CompositeLocalizedTextModel"},{key:"travelers",models:{models:[{key:"travelerCount",source:"travelerCount",__typename:"TemplateModel"}],templates:[{category:"ZERO",template:"${travelerCount} travelers",__typename:"CardinalTemplate"},{category:"ONE",template:"${travelerCount} traveler",__typename:"CardinalTemplate"},{category:"TWO",template:"${travelerCount} travelers",__typename:"CardinalTemplate"},{category:"FEW",template:"${travelerCount} travelers",__typename:"CardinalTemplate"},{category:"MANY",template:"${travelerCount} travelers",__typename:"CardinalTemplate"},{category:"OTHER",template:"${travelerCount} travelers",__typename:"CardinalTemplate"}],__typename:"EGDSCardinalLocalizedText"},__typename:"CompositeLocalizedTextModel"}],template:"${travelers}, ${rooms}",text:"2 travelers, 1 room",__typename:"EGDSCompositeLocalizedText"},leftIcon:{id:"person",__typename:"Icon"}},bn={egdsElementId:"submit_button",primary:"Search",disabled:!1,accessibility:null,icon:null,analytics:null,action:null,__typename:"EGDSSearchFormButton",onClick:{analytics:{linkName:"Search button clicked",referrerId:"Web.Hotels.Search.Button.Clicked",__typename:"ClientSideAnalytics"},__typename:"EGDSSubmitSearchFormAction"}};function In(e,n,t){return e.replace("${".concat(n,"}"),t)}var kn=(0,r.Ps)(_e()),Gn=function(e){var n,t,r,l,i,o=e.errorCount,c=void 0===o?0:o,u=e.inputErrorRef,d=e.linkClickFocusId,s=e.data,v=a.createRef(),p=(0,m.useClickTracker)(),E=s.body,g=s.goToErrorLinkText,y=s.goToFirstErrorLinkText,S=s.heading,_=s.analytics,h=s.impressionAnalytics,D=s.headingTemplate,T=1===c;if(0===c)return null;var C,b,I,k=T?g:y;return a.createElement(m.IntersectionTracker,{referrerId:null!==(C=null===(n=h)||void 0===n?void 0:n.referrerId)&&void 0!==C?C:"",linkName:null!==(b=null===(t=h)||void 0===t?void 0:t.linkName)&&void 0!==b?b:""},a.createElement(f.a,{heading:S.trim()?S:function(e){var n;if("EGDSCardinalLocalizedText"===(null===(n=D)||void 0===n?void 0:n.__typename)){var t=D.templates.slice(1,3),a=T?"":D.models[0].key;return In(T?t[0].template:t[1].template,a,e.toString())}return""}(c),description:null===(r=E)||void 0===r?void 0:r.text,link:null!=k?k:"",linkClickFocus:u,linkClickFocusId:null!=d?d:null===(i=u)||void 0===i||null===(l=i.current)||void 0===l?void 0:l.id,handleUpdate:function(){var e,n;return null===(n=v)||void 0===n||null===(e=n.current)||void 0===e?void 0:e.focus()},domRef:v,analytics:_?{id:"".concat(_.referrerId,T?".One.Error":".Many.Errors"),description:null!==(I=_.linkName)&&void 0!==I?I:"",callback:function(e,n){return p(e,n)}}:void 0}))};Gn.displayName="EGDSErrorSummaryFragment",Gn.fragment=kn;var An=(0,r.Ps)(he()),Fn=(0,r.Ps)(De(),An),Rn=function(e){var n=e.children,t=e.submitButtonProps,r=e.primary,l=e.isFullWidth,i=void 0!==l&&l;return a.createElement(E.Y,pe(ve({},t),{size:g.xY.LARGE,"aria-label":null!=r?r:"",isFullWidth:i}),n)},xn=function(e){var n,t,r,l,i,o=e.data,c=(0,m.useClickTracker)(),u=o.egdsElementId,d=o.primary,v=o.disabled,p=o.onClick,f=o.icon,E={id:null!=u?u:"search_form_submit_button",disabled:v,onClick:a.useCallback((function(){if(p&&"EGDSSubmitSearchFormAction"===p.__typename){var e=p.analytics,n=e.referrerId,t=e.linkName;c(n,t)}}),[p,c]),type:"submit"};return a.createElement(s.Viewport,null,a.createElement(s.ViewSmall,null,a.createElement(Rn,{isFullWidth:!0,submitButtonProps:E,primary:d},d)),a.createElement(s.ViewMedium,null,f?a.createElement(Rn,{submitButtonProps:E,primary:d},a.createElement(y.fR,{name:null!==(l=null===(n=f)||void 0===n?void 0:n.token)&&void 0!==l?l:"search",title:null!==(i=null===(t=f)||void 0===t?void 0:t.title)&&void 0!==i?i:"",id:null===(r=f)||void 0===r?void 0:r.id})):a.createElement(Rn,{submitButtonProps:E,primary:d},d)))};xn.displayName="EGDSSearchFormButton",xn.fragment=Fn;var Ln,Pn=function(e,n,t){var a=new CustomEvent("change"),r=document.createElement("input");t&&(r.type=t),r.value=e;var l=function(e){n(e)};r.addEventListener("change",l),r.dispatchEvent(a),r.removeEventListener("change",l)},Nn=function(e){return 0===e?"ZERO":1===e?"ONE":2===e?"TWO":e>2&&e<5?"FEW":e>=5&&e<10?"MANY":"OTHER"},On=function(e){var n=864e5*e;return new Date((new Date).getTime()+n)},Bn=function(e){return Math.ceil(e/1e3/60/60/24)},wn=function(e){var n=e.year,t=e.month,a=e.day;return new Date(n,t-1,a)},Mn=function(e){return function(n){return a.createElement(e,null,n)}},Un=function(e){return a.createElement(a.Fragment,null,e)},Wn=(me(Ln={},"SUN",D.Co.SUN),me(Ln,"MON",D.Co.MON),me(Ln,"TUE",D.Co.TUE),me(Ln,"WED",D.Co.WED),me(Ln,"THU",D.Co.THU),me(Ln,"FRI",D.Co.FRI),me(Ln,"SAT",D.Co.SAT),Ln),Vn=function(e,n){var t=e.templates.find((function(e){return e.category===Nn(n)}));return t?In(t.template,e.models[0].key,n.toString()):""},Hn=function(e){var n,t;return!!(null===(t=e)||void 0===t||null===(n=t.value)||void 0===n?void 0:n.startsWith("0"))},zn=function(e,n,t){var a=new Date(e.year,e.month,e.day);return!e.isPast&&(n&&t?a>=n&&a<=t:n&&!t?a>=n:!(!n&&t)||a<=t)},Yn=function(e){var n=new Date;return n.getDate()===e.getDate()&&n.getMonth()===e.getMonth()&&n.getFullYear()===e.getFullYear()},jn=function(e){return new Date("".concat(e,"T00:00:00"))},$n=function(e){var n=e.day,t=e.dayData,r=void 0===t?{}:t,l=r.validStartDate,i=r.validEndDate,o=!zn(n,l,i),c=a.useMemo((function(){return n.isPast?"muted":n.isToday?"today":"default"}),[n.isPast,n.isToday]);return a.createElement(h.y,{theme:c,disabled:o},n.day)},Kn=function(e,n){return zn(n,e.validStartDate,e.validEndDate)};$n.canClick=Kn,$n.canSpan=Kn,$n.getAriaLabel=function(e,n,t){var a=n.localeDateString;return zn(n,e.validStartDate,e.validEndDate)?a:t.formatText("calendar.unavailable.a11yLabel",a)};var Qn,qn=(0,r.Ps)(Te()),Xn=(me(Qn={},"EXTRA_SMALL",y.eZ.EXTRA_SMALL),me(Qn,"SMALL",y.eZ.SMALL),me(Qn,"MEDIUM",y.eZ.MEDIUM),me(Qn,"MEDIUM_LARGE",y.eZ.MEDIUM),me(Qn,"LARGE",y.eZ.LARGE),me(Qn,"XLARGE",y.eZ.XLARGE),Qn),Zn=function(e){var n=e.data,t=n.id,r=n.title,l=n.description,i=n.size,o=Xn[null!=i?i:"LARGE"];return a.createElement(y.fR,{id:t,name:t,title:null!=r?r:l,description:l,size:o})};Zn.displayName="Icon",Zn.fragment=qn;var Jn=(0,r.Ps)(Ce(),Zn.fragment),et=function(e){var n,t=e.data,r=e.onChange,l=e.triggerPill,i=e.onClick,o=e.active,c=t.accessibility,u=t.name,d=t.primary,s=t.selected,v=t.value,p=t.disabled,f=t.icon,E=t.selectAnalytics,g=t.deselectAnalytics,y=t.selectedText,S=(0,m.useClickTracker)(),h=null!=u?u:"egds-basic-pill",D=fe(a.useState(s),2),T=D[0],I=D[1],k=(0,a.useRef)(!1),G=y||d,A=(0,_.i)(h,(function(e){var n=e.currentTarget.checked;if(I(n),k.current||(k.current=!0),r&&r(e),E&&n){var t=E.linkName,a=E.referrerId;return S(a,t),e}if(g&&!n){var l=g.linkName,i=g.referrerId;S(i,l)}return e}));return a.useEffect((function(){k.current&&(0,b.liveAnnounce)(null!=c?c:void 0,b.Level.POLITE)}),[c]),a.useEffect((function(){I(s)}),[s]),a.createElement(C.i,{checked:T,active:o,disabled:p,icon:"Icon"===(null===(n=f)||void 0===n?void 0:n.__typename)?f.token:"",id:h,name:"".concat("EGDSBasicPill","-").concat(u),onChange:A,value:null!=v?v:"",altText:null!=c?c:"",triggerPill:l,onClick:function(){i&&i()}},T?G:d)};et.displayName="EGDSBasicPill",(et.fragment=Jn).__typename="EGDSBasicPill";var nt=(0,r.Ps)(be(),et.fragment),tt="EGDSDatePickerFlexibilityCalendarContent",at="".concat(tt,"-SelectedOption"),rt=function(e){var n,t,r,l,i,o,c=e.data,u=e.onSelect,s=e.currentlySelectedPillValue,m=e.className,v=null!==(o=null===(n=c)||void 0===n?void 0:n.flexibleDateOptions.map((function(e){return{selected:e.value===s,checked:e.value===s,text:null!==(t=e.primary)&&void 0!==t?t:"",disabled:e.disabled,value:null!==(r=e.value)&&void 0!==r?r:"",id:null!==(l=e.value)&&void 0!==l?l:"",altText:null!==(i=e.accessibility)&&void 0!==i?i:void 0}})))&&void 0!==o?o:[];return a.createElement(d.l,{margin:{medium:{inlinestart:"two",blockend:"three",blockstart:"one"},small:{inlinestart:"two",blockend:"three",blockstart:"one"}}},a.createElement("div",{className:m},a.createElement(T.hI,{data:v,handleSelectedPill:function(e){u(e)}})))};rt.displayName=tt,rt.fragment=nt;var lt=(0,r.Ps)(Ie()),it=function(e){var n=e.data,t=e.onTabSelected,r=e.backgroundColor,l=e.tabsType,i=n.tabs,o=n.selectedTabId,c=(0,m.useClickTracker)(),u=o?i.findIndex((function(e){return"EGDSBasicTab"===e.__typename?e.tabId===o:0})):0,d=fe((0,a.useState)(u),2),v=d[0],p=d[1],f=(0,s.useMediaQueries)({viewSizes:s.defaultViewSizes})<=s.defaultViewSizes.SMALL,E=f?I.zv.EQUAL_WIDTH:I.zv.NATURAL,g={selectedTab:-1!==v?v:0,onTabSelect:function(e){p(e);var n=i[e];if("EGDSBasicTab"===n.__typename){var a=n.clickAnalytics,r=n.tabId;!function(e){var n;if(e&&"ClientSideAnalytics"===(null===(n=e)||void 0===n?void 0:n.__typename)){var t=e.linkName,a=e.referrerId;c(a,t)}}(a),t&&t(r)}},tabsType:null!=l?l:E,backgroundColor:null!=r?r:I.ax.PRIMARY};return a.createElement(I.HH,ve({},g),i.map((function(e){var n="EGDSBasicTab"===e.__typename?e.tabId:"",t="EGDSBasicTab"===e.__typename?e.label:"";return a.createElement(k.D,{id:n,key:n,name:t,targetURI:"#EGDSBasicTabSearchForm_".concat(n)})})))};it.fragment=lt,it.displayName="EGDSBasicTabs";var ot=(0,r.Ps)(ke()),ct=function(e){var n,t=e.data,r=e.onChange,l=t.primary,i=t.subText,o=t.icon,c=t.disabled,u=t.selected,d=t.name,s=t.selectedAnalytics,v=t.unselectedAnalytics,p=(0,m.useClickTracker)();return a.createElement(N.A,{id:null!=d?d:"",icon:"Icon"===(null===(n=o)||void 0===n?void 0:n.__typename)?o.id:"",labelText:null!=l?l:"",altText:"".concat(l," ").concat(i),subLabelText:null!=i?i:"",name:null!=d?d:"",onChange:function(e){r&&r(e),function(e){var n,t=e?s:v;if("ClientSideAnalytics"===(null===(n=t)||void 0===n?void 0:n.__typename)){var a=t.linkName,r=t.referrerId;p(r,a)}}(!u)},disabled:c,checked:u,iconSize:y.eZ.SMALL,stacked:!0})};ct.displayName="EGDSToggleButton",ct.fragment=ot;var ut=(0,r.Ps)(Ge(),ct.fragment),dt=function(e){var n=e.data.options,t=fe(a.useState(n),2),r=t[0],l=t[1],i=function(e){l((function(n){return n.map((function(n){return n.name===e.target.name?pe(ve({},n),{selected:!n.selected}):n}))}))};return a.createElement(O.E,{wrapButtons:!0},r.map((function(e,n){return a.createElement(ct,{key:n,data:e,onChange:i})})))};dt.displayName="EGDSToggleButtonGroup",dt.fragment=ut;var st=(0,r.Ps)(Ae(),dt.fragment),mt="EGDSDatePickerFlexibleMonths",vt="".concat(mt,"-Options"),pt=function(e){var n=e.data,t=e.monthsSelectionToggleButtons,r=e.onMonthSelectionToggle,l=n.heading,i=n.subHeading,o=(0,s.useMediaQueries)({viewSizes:s.defaultViewSizes}),c=o<=s.defaultViewSizes.MEDIUM,u=o<=s.defaultViewSizes.SMALL,m={grow:1,maxWidth:u||c?void 0:"twenty_four",minWidth:u||c?"quarter_width":void 0};return a.createElement("div",null,a.createElement(A.v,{alignItems:"center",direction:"column",space:"three"},a.createElement(F.t,null,a.createElement("div",null,a.createElement(L.y,{size:6,align:"center"},l),a.createElement(P.w,null,i)))),t&&a.createElement(s.Viewport,null,a.createElement(s.ViewSmall,null,a.createElement(d.l,{padding:{blockstart:"four"}},a.createElement(A.v,{direction:"row",justifyContent:"space-around",wrap:"wrap",space:"three"},t.options.map((function(e,n){return a.createElement(F.t,pe(ve({},m),{key:n}),a.createElement("div",null,a.createElement(ct,{data:e,onChange:r})))}))))),a.createElement(s.ViewLarge,null,a.createElement(d.l,{padding:{blockstart:"four"}},a.createElement(R.a,{columns:6,space:"three"},t.options.map((function(e,n){return a.createElement(x.P,pe(ve({},m),{key:n}),a.createElement("div",null,a.createElement(ct,{data:e,onChange:r})))})))))))};pt.displayName=mt,pt.fragment=st;var ft=(0,r.Ps)(Fe()),Et=function(e){var n,t=e.data,r=e.checked,l=e.onChange,i=t.egdsElementId,o=t.description,c=t.enabled,u=t.name,d=t.required,s=t.label,v=t.checkedAnalytics,p=t.uncheckedAnalytics,f=t.state,E=fe(a.useState(null!=r?r:"CHECKED"===f),2),g=E[0],y=E[1];a.useEffect((function(){y(null!=r?r:"CHECKED"===f)}),[r,f]);var S=(0,m.useClickTracker)(),_=a.useCallback((function(e){var n;if(y(e.currentTarget.checked),v&&!g){var t=v.referrerId,a=v.linkName;S(t,a)}if(p&&g){var r=p.referrerId,i=p.linkName;S(r,i)}null===(n=l)||void 0===n||n(e)}),[v,g,l,S,p]);return a.createElement(B.R,{id:null!=i?i:"",checked:g,description:null!=o?o:void 0,disabled:!c,name:null!=u?u:void 0,onChange:_,required:d},null===(n=s)||void 0===n?void 0:n.text)};Et.displayName="EGDSBasicCheckBoxFragment",(Et.fragment=ft).__typename="EGDSBasicCheckBox";var gt=(0,r.Ps)(Re(),Et.fragment),yt=function(e){var n=e.data,t=e.onChange;return"EGDSBasicCheckBox"===n.__typename?a.createElement(Et,{onChange:t,data:n}):null};yt.displayName="EGDSCheckBox",yt.fragment=gt;var St=(0,r.Ps)(xe()),_t=function(e){var n,t=e.data,r=e.onClick,l=t.id,i=t.primary,o=t.accessibility,c=t.removeAnalytics,u=t.name,d=null!==(n=null!=l?l:u)&&void 0!==n?n:"egds-basic-removable-pill",s=(0,m.useClickTracker)();return a.createElement(w.p,{id:d,onClick:function(){if(r&&r(),c){var e=c.referrerId,n=c.linkName;s(e,n)}},a11yRemoveText:o||""},i)};_t.displayName="EGDSBasicRemovablePill",_t.fragment=St;var ht=(0,r.Ps)(Le(),Zn.fragment),Dt=function(e){var n,t=e.data,r=e.onChange,l=e.triggerPill,i=e.onClick,o=e.domRef,c=e.active,u=t.id,d=t.primary,s=t.selected,v=t.disabled,p=t.icon,f=t.selectAnalytics,E=t.deselectAnalytics,g=t.accessibility,y=(0,m.useClickTracker)(),S=null!=u?u:"egds-basic-pill",h=fe(a.useState(c||s),2),D=h[0],T=h[1];a.useEffect((function(){T(null!=c&&c)}),[c]);var b=(0,_.i)(S,(function(e){if(T(!D),r&&r(e),i&&i(),f&&D){var n=f.linkName,t=f.referrerId;return y(t,n),e}if(E&&!D){var a=E.linkName,l=E.referrerId;y(l,a)}return e}));return a.createElement(C.i,{checked:D,active:D,selected:s,disabled:v,icon:"Icon"===(null===(n=p)||void 0===n?void 0:n.__typename)?p.token:"",id:S,name:"".concat("EGDSBasicTriggerPill","-").concat(S),triggerPill:l,onClick:b,altText:null!=g?g:"",domRef:o},d)};Dt.displayName="EGDSBasicTriggerPillFragment",Dt.fragment=ht;var Tt=(0,r.Ps)(Pe(),et.fragment,Dt.fragment,_t.fragment),Ct=function(e){var n=e.data;switch(n.__typename){case"EGDSBasicPill":return a.createElement(et,pe(ve({},e),{data:n}));case"EGDSBasicTriggerPill":return a.createElement(Dt,pe(ve({},e),{data:n}));case"EGDSBasicRemovablePill":return a.createElement(_t,pe(ve({},e),{data:n}));default:return null}};Ct.displayName="EGDSPill",Ct.fragment=Tt;var bt=(0,r.Ps)(Ne(),Ct.fragment,yt.fragment),It="EGDSDatePickerFlexibleNights",kt="".concat(It,"-Options"),Gt="".concat(It,"-Weekend"),At=function(e){var n=e.data,t=e.onNightSelectionPillChange,r=e.nightsSelectionPills,l=e.onIncludeWeekendCheck,i=e.includeWeekendCheckbox,o=n.heading;return a.createElement("div",null,a.createElement(A.v,{alignItems:"center",direction:"column",space:"three"},a.createElement(F.t,null,a.createElement(L.y,{size:6},o)),a.createElement(F.t,null,a.createElement(T.hI,{data:r,handleSelectedPill:t}),";"),i&&a.createElement(F.t,null,a.createElement(yt,{data:i,onChange:l}))))};At.displayName=It,At.fragment=bt;var Ft=(0,r.Ps)(Oe(),pt.fragment,At.fragment),Rt=function(e){var n=e.data,t=e.className,r=e.onNightSelectionPillChange,l=e.nightsSelectionPills,i=e.onIncludeWeekendCheck,o=e.includeWeekendCheckbox,c=e.monthsSelectionToggleButtons,u=e.onMonthSelectionToggle,s=n.nightsSelection,m=n.monthsSelection;return a.createElement(d.l,{padding:"four"},a.createElement("div",{className:t},s&&a.createElement(At,{data:s,onNightSelectionPillChange:r,nightsSelectionPills:l,onIncludeWeekendCheck:i,includeWeekendCheckbox:o}),a.createElement(G.B,{blockMargin:"six"}),m&&a.createElement(pt,{data:m,monthsSelectionToggleButtons:c,onMonthSelectionToggle:u})))};Rt.displayName="EGDSDatePickerFlexibilityDatesContent",Rt.fragment=Ft;var xt=(0,r.Ps)(Be(),it.fragment,rt.fragment,Rt.fragment),Lt=function(e){var n,t,r=e.data,l=e.children,i=e.className,o=e.onContentSelectorSelection,c=e.onNightSelectionPillChange,u=e.nightsSelectionPills,d=e.onIncludeWeekendCheck,s=e.includeWeekendCheckbox,m=e.monthsSelectionToggleButtons,v=e.onMonthSelectionToggle,p=e.contentSelector,f=r.flexibleDatesContent,E="EGDSBasicTabs"===(null===(n=p)||void 0===n?void 0:n.__typename)?p.selectedTabId:"",g={calendarTabId:"calendar-tab",flexibleTabId:"flexible-dates-tab"},y=function(){var e;if("EGDSBasicTabs"===(null===(e=p)||void 0===e?void 0:e.__typename)){var n=p.tabs;return"EGDSBasicTab"===n[0].__typename&&"EGDSBasicTab"===n[1].__typename?{calendarTabId:n[0].tabId,flexibleTabId:n[1].tabId}:g}return g}(),S=y.calendarTabId,_=y.flexibleTabId;return a.createElement("div",{className:i},"EGDSBasicTabs"===(null===(t=p)||void 0===t?void 0:t.__typename)&&a.createElement(it,{data:p,onTabSelected:o,backgroundColor:I.ax.SECONDARY,tabsType:I.zv.EQUAL_WIDTH}),E===S&&l,E===_&&f&&a.createElement(Rt,{data:f,onNightSelectionPillChange:c,nightsSelectionPills:u,onIncludeWeekendCheck:d,includeWeekendCheckbox:s,monthsSelectionToggleButtons:m,onMonthSelectionToggle:v}))};Lt.displayName="EGDSDatePickerFlexibilityContent",Lt.fragment=xt;var Pt="on_submit",Nt="on_close",Ot=function(e){var n,t,r,l,o,c,u,d,v,f,E,g,y,h,D,T,C,b,I,k,G,A,F,R,x,L,P,N,O,B,w,M,U,W,V,H,z,Y,j,$,K,Q=e.autoOpen,q=e.startDate,X=e.endDate,Z=e.enableSameDayDateRange,J=e.buttonText,ee=e.clearButtonText,ne=e.inputLabel1,te=e.inputLabel2,ae=e.allowClearDates,re=e.validDaysLowerBoundInclusive,le=e.validDaysUpperBoundInclusive,ie=e.skipQuery,oe=e.typename,ce=e.errorMessage,ue=e.labelTemplate,de=e.buttonTextTemplate,se=e.onClearDates,me=e.onSelectEndDate,Ee=e.onSelectStartDate,ye=e.onChangeEndDate,Se=e.onChangeStartDate,_e=e.onClose,he=e.onOpen,De=e.setFieldRefByTypename,Te=e.onNextCalendarClick,Ce=e.onPreviousCalendarClick,be=e.flexibleDateContent,Ie=e.flexibleContentConfig,ke=e.dialogId,Ge=e.startDateString,Ae=e.endDateString,Fe=e.showCalendar,Re=e.toggleCalendar,xe=e.showStartDateEndDateHiddenInputs,Le=e.tonightSameDayDateExperiment,Pe=(0,i.v)().context,Ne=Pe.locale?function(e){return e.replace("_","-")}(Pe.locale):"en-US",Oe=(0,m.useClickTracker)(),Be=(0,p.useLocalization)().formatDateString,we=a.useRef(null),Me=function(e,n){var t=null!=e?e:n?wn(n):"";return t?Be(t,{raw:"yyyy-MM-dd"}):null};Q&&he&&he();var Ue,We,Ve=Me(Ge,q),He=Me(Ae,X),ze=fe(a.useState(Ve),2),Ye=ze[0],je=ze[1],$e=fe(a.useState(He),2),Ke=$e[0],Qe=$e[1],qe=fe(a.useState(Ve),2),Xe=qe[0],Ze=qe[1],Je=fe(a.useState(He),2),en=Je[0],nn=Je[1],tn=fe(a.useState(500),2),an=tn[0],rn=tn[1],ln=fe(a.useState(!1),2),on=ln[0],cn=ln[1],un="boolean"==typeof Fe&&Re,dn=fe(a.useState(un?Fe:null!=Q&&Q),2),sn=dn[0],mn=dn[1],vn=fe(a.useState(!1),2),pn=vn[0],fn=vn[1],En=fe(a.useState("EGDSCardinalLocalizedText"===(null===(n=de)||void 0===n?void 0:n.__typename)?de.text:J),2),gn=En[0],yn=En[1],Sn=null===(r=be)||void 0===r||null===(t=r.calendarContent)||void 0===t?void 0:t.flexibleDateOptions,_n=a.useRef(null!==(Ue=null===(o=Sn)||void 0===o||null===(l=o.find((function(e){return Xe&&en?e.selected:Hn(e)})))||void 0===l?void 0:l.value)&&void 0!==Ue?Ue:""),hn=fe(a.useState(_n.current||""),2),Dn=hn[0],Tn=hn[1],Cn=(0,s.useMediaQueries)({viewSizes:s.defaultViewSizes})>=s.defaultViewSizes.LARGE,bn=fe(a.useState(null===(c=be)||void 0===c?void 0:c.contentSelector),2),kn=bn[0],Gn=bn[1],An="EGDSBasicTabs"===(null===(u=kn)||void 0===u?void 0:u.__typename)?kn.tabs:null,Fn=An&&"EGDSBasicTab"===An[0].__typename?An[0].tabId:"calendar-tab",Rn="EGDSBasicTabs"!==(null===(d=kn)||void 0===d?void 0:d.__typename)||kn.selectedTabId===Fn,xn=null!==(We=(null===(v=Ie)||void 0===v?void 0:v.includeFlexibleDatesContent)&&!Rn)&&void 0!==We&&We,Ln=fe(a.useState(),2),Nn=Ln[0],Mn=Ln[1],Un=fe(a.useState(),2),Wn=Un[0],zn=Un[1],Kn=fe(a.useState(),2),Qn=Kn[0],qn=Kn[1],Xn=function(e,n){var t,a=null===(t=ue)||void 0===t?void 0:t.text,r="${startDate}",l="${endDate}";if(e&&n&&""!==e&&""!==n&&a&&a.includes(r)&&a.includes(l)){var i=jn(e),o=jn(n);if(Yn(i)&&Le&&1===Le.exposure.bucket){var c=Be(i,{skeleton:"MMMd"}),u=Be(o,{skeleton:"MMMd"});return a.replace(r,c).replace(l,u)}}},Zn=fe(a.useState(Xn(Xe,en)),2),Jn=Zn[0],et=Zn[1],nt=(0,_.i)(xn?"".concat(oe,"-Flexible"):Jn?"".concat(oe,"-TemplateValue"):oe,(function(e){return e})),tt=fe(a.useState(),2),lt=tt[0],it=tt[1];a.useEffect((function(){var e,n;!(null===(e=lt)||void 0===e?void 0:e.includes(Nt))||(null===(n=lt)||void 0===n?void 0:n.includes(Pt))||Cn?it(null):(aa&&(At(),It()),ct())}),[lt]),a.useEffect((function(){var e,n,t,a,r,l,i;Mn({months:null===(t=be)||void 0===t||null===(n=t.flexibleDatesContent)||void 0===n||null===(e=n.monthsSelection)||void 0===e?void 0:e.options,nights:zt,weekend:null===(l=be)||void 0===l||null===(r=l.flexibleDatesContent)||void 0===r||null===(a=r.nightsSelection)||void 0===a?void 0:a.includeWeekend}),zn("EGDSBasicTabs"===(null===(i=kn)||void 0===i?void 0:i.__typename)?kn.selectedTabId:Fn)}),[]),a.useEffect((function(){if(on){cn(!1);var e="";if(Xe&&en&&(e=null!=Jn?Jn:"".concat(Xe," - ").concat(en),Yn(jn(Xe))&&Le))try{Le.logExperiment(Le.exposure)}catch(n){}Pn(Rn?e:null!=Qn?Qn:"",nt)}}),[on]),a.useEffect((function(){if(ie||(Ve&&(Ze(Ve),je(Ve)),He&&(nn(He),Qe(He)),Ve||He||(Ze(""),nn(""))),le){var e=wn(le).getTime()-(new Date).getTime();rn(Bn(e))}}),[He,Ve,ie,re,le]),a.useEffect((function(){De("EGDSSearchFormDatePickerField",we)}),[]);var ot=a.useCallback((function(){var e,n,t;sn&&(null!==(t=null===(n=we)||void 0===n||null===(e=n.current)||void 0===e?void 0:e.getBoundingClientRect().top)&&void 0!==t?t:20)<=20&&(mn(!1),document.body.click())}),[sn]);a.useEffect((function(){if(sn)return window.addEventListener("scroll",ot),function(){return window.removeEventListener("scroll",ot)}}),[sn,ot]),a.useEffect((function(){var e;un&&(Fe?null===(e=we.current)||void 0===e||e.click():document.body.click())}),[Fe,Re]);var ct=function(){et(Xn(Ye,Ke)),Ze(Ye),nn(Ke)},ut=function(e){if(e){var n,t,a,r=null!==(a=null===(t=Sn)||void 0===t||null===(n=t.find((function(e){return Hn(e)})))||void 0===n?void 0:n.value)&&void 0!==a?a:"";_n.current=r,Tn(r)}else _n.current=Dn},dt=function(){var e,n,t,a,r=null===(n=be)||void 0===n||null===(e=n.flexibilityLabel)||void 0===e?void 0:e.templates,l=null===(t=Zt)||void 0===t?void 0:t.text,i=null===(a=Jt)||void 0===a?void 0:a.map((function(e){return e.shortMonthName})),o=i&&i.length>0,c=o&&i.length>6?5:i.length-1,u=o&&r?r[c].template:"",d=o?[l].concat(ge(i)):[],s=u;return d.forEach((function(e,n){var t,a,r,l=null===(r=be)||void 0===r||null===(a=r.flexibilityLabel)||void 0===a||null===(t=a.models[n])||void 0===t?void 0:t.key;s=In(s,null!=l?l:"",null!=e?e:"")})),s};a.useEffect((function(){xn&&qn(dt)}),[]);var st,mt,pt,ft,Et,gt,yt,St,_t,ht,Dt,Tt,Ct,bt,It=function(){if(Nn){var e=Nn.months,n=Nn.nights,t=Nn.weekend;e&&qt(e),n&&$t(n),t&&Ut(t)}},At=function(){Gn((function(e){var n;return e?pe(ve({},e),{selectedTabId:null!=Wn?Wn:"EGDSBasicTabs"===(null===(n=kn)||void 0===n?void 0:n.__typename)?kn.selectedTabId:""}):null}))},Ft=function(){if(xn){var e,n,t,a,r,l,i=dt();qn(i);var o=null!==(l=null===(e=Qt)||void 0===e?void 0:e.options.some((function(e){return e.selected})))&&void 0!==l&&l,c=function(){if(Qt){var e=Qt.options.map((function(e,n){return 0===n||1===n?pe(ve({},e),{selected:!e.selected}):e}));return pe(ve({},Qt),{options:e})}return null}();!o&&c&&qt(c);var u=o?Qt:null!=c?c:Qt,d=(null===(n=Nn)||void 0===n?void 0:n.nights)!==jt||(null===(a=Nn)||void 0===a||null===(t=a.weekend)||void 0===t?void 0:t.state)!==(null===(r=Mt)||void 0===r?void 0:r.state)||Nn.months!==u;Mn({months:u,nights:jt,weekend:Mt}),cn(d)}if(aa){var s,m="EGDSBasicTabs"===(null===(s=kn)||void 0===s?void 0:s.__typename)?kn.selectedTabId:"";zn(m),Wn!==m&&cn(!0)}},Rt=a.useMemo((function(){var e,n,t=null===(e=Sn)||void 0===e?void 0:e.find((function(e){return e.value===_n.current}));if((null===(n=t)||void 0===n?void 0:n.primary)&&!Hn(t))return"(".concat(t.primary,")")}),[Sn,_n.current]),xt=a.useMemo((function(){return le?wn(le):On(an)}),[an,le]),Ot=a.useMemo((function(){return re?wn(re):void 0}),[re]),Bt=a.useMemo((function(){return{defaults:{validStartDate:Ot,validEndDate:xt}}}),[Ot,xt]),wt=fe(a.useState(null!==(st=null===(g=be)||void 0===g||null===(E=g.flexibleDatesContent)||void 0===E||null===(f=E.nightsSelection)||void 0===f?void 0:f.includeWeekend)&&void 0!==st?st:null),2),Mt=wt[0],Ut=wt[1],Wt=fe(a.useState(null!==(mt=null===(D=be)||void 0===D||null===(h=D.flexibleDatesContent)||void 0===h||null===(y=h.nightsSelection)||void 0===y?void 0:y.includeWeekend.state)&&void 0!==mt?mt:"UNCHECKED"),2),Vt=Wt[0],Ht=Wt[1],zt=null!==(pt=null===(b=be)||void 0===b||null===(C=b.flexibleDatesContent)||void 0===C||null===(T=C.nightsSelection)||void 0===T?void 0:T.options.map((function(e){var n,t,a;return{selected:e.selected,checked:!1,text:null!==(n=e.primary)&&void 0!==n?n:"",disabled:e.disabled,value:null!==(t=e.value)&&void 0!==t?t:"",id:null!==(a=e.name)&&void 0!==a?a:"",altText:""}})))&&void 0!==pt?pt:[],Yt=fe(a.useState(zt),2),jt=Yt[0],$t=Yt[1],Kt=fe(a.useState(null!==(ft=null===(G=be)||void 0===G||null===(k=G.flexibleDatesContent)||void 0===k||null===(I=k.monthsSelection)||void 0===I?void 0:I.options)&&void 0!==ft?ft:null),2),Qt=Kt[0],qt=Kt[1],Xt=xn?(Dt=jt.find((function(e){return!0===e.selected})),Tt=Qt?[null===(Et=Qt)||void 0===Et?void 0:Et.options[0],null===(gt=Qt)||void 0===gt?void 0:gt.options[1]]:[],Ct=null===(yt=Qt)||void 0===yt?void 0:yt.options.filter((function(e){return e.selected})),{selectedFlexibleDatesNights:Dt,selectedFlexibleDatesMonths:(_t=Ct&&(null===(St=Ct)||void 0===St?void 0:St.length)>0?Ct:Tt,null===(ht=_t)||void 0===ht?void 0:ht.map((function(e){var n,t,a,r=null===(n=e.name)||void 0===n?void 0:n.split("_"),l=null!==(a=null===(t=r)||void 0===t?void 0:t.splice(r.length-2,r.length).join("_"))&&void 0!==a?a:"";return{shortMonthName:r?r[r.length-1]:"",monthsDate:l}})).filter((function(e){return!!e.monthsDate&&!!e.shortMonthName})))}):{selectedFlexibleDatesNights:void 0,selectedFlexibleDatesMonths:[]},Zt=Xt.selectedFlexibleDatesNights,Jt=Xt.selectedFlexibleDatesMonths,ea={data:be,onNightSelectionPillChange:function(e){$t((function(n){return n.map((function(n){return n.value===e?pe(ve({},n),{selected:!0}):pe(ve({},n),{selected:!1})}))})),function(e){var n,t,a,r,l,i,o=jt.findIndex((function(n){return n.value===e})),c=null===(r=be)||void 0===r||null===(a=r.flexibleDatesContent)||void 0===a||null===(t=a.nightsSelection)||void 0===t||null===(n=t.options[o])||void 0===n?void 0:n.selectAnalytics;(null===(l=c)||void 0===l?void 0:l.linkName)&&(null===(i=c)||void 0===i?void 0:i.referrerId)&&Oe(c.referrerId,c.linkName)}(e),Ut((function(n){var t,a,r,l,i,o;if(null===n)return null;if(e.includes("WEEK")||e.includes("6_DAY_LOWER,7_DAY_UPPER"))return pe(ve({},n),{state:"CHECKED",enabled:!1});var c=(null===(r=jt)||void 0===r||null===(a=r.find((function(e){return e.selected})))||void 0===a||null===(t=a.value)||void 0===t?void 0:t.includes("WEEK"))||(null===(o=jt)||void 0===o||null===(i=o.find((function(e){return e.selected})))||void 0===i||null===(l=i.value)||void 0===l?void 0:l.includes("6_DAY_LOWER,7_DAY_UPPER"));return e.includes("DAY")&&c?pe(ve({},n),{state:Vt,enabled:!0}):pe(ve({},n),{enabled:!0})}))},nightsSelectionPills:jt,includeWeekendCheckbox:Mt,onIncludeWeekendCheck:function(e){var n=e.target.checked?"CHECKED":"UNCHECKED";Ut((function(e){var t,a,r;return null!=e?((null===(r=jt)||void 0===r||null===(a=r.find((function(e){return e.selected})))||void 0===a||null===(t=a.value)||void 0===t?void 0:t.includes("DAY"))&&Ht(n),pe(ve({},e),{state:n})):null}))},onMonthSelectionToggle:function(e){qt((function(n){if(n){var t=n.options.map((function(n){return n.name===e.target.name?pe(ve({},n),{selected:!n.selected}):n}));return pe(ve({},n),{options:t})}return null}))},monthsSelectionToggleButtons:Qt,onContentSelectorSelection:function(e){var n;xe("EGDSBasicTabs"===(null===(n=kn)||void 0===n?void 0:n.__typename)&&e===Fn),Gn((function(n){return n?pe(ve({},n),{selectedTabId:e}):null}))},contentSelector:kn},na=(null===(A=be)||void 0===A?void 0:A.contentSelector)&&(null===(F=Ie)||void 0===F?void 0:F.includeFlexibleDatesContent)?{component:Lt,props:ea}:void 0,ta=(null===(R=Ie)||void 0===R?void 0:R.includeFlexibleCalendarContent)&&(null===(x=be)||void 0===x?void 0:x.calendarContent)?rt:void 0,aa=!!na,ra=null===(L=Ie)||void 0===L?void 0:L.includeFlexibleCalendarContent,la="EGDSBasicTabs"===(null===(P=kn)||void 0===P?void 0:P.__typename)&&Rn?"":"is-visually-hidden is-hidden",ia={inputName1:"EGDSDateRange-date-selector-trigger",autoCloseOnSelection:!1,allowClearDates:null!==(bt=ae&&Rn)&&void 0!==bt&&bt,clearButtonLabel:ee,dateFormatOptions:{month:"short",day:"numeric"},dayNameLength:"narrow",dayTemplateComponent:$n,dayData:Bt,endDate:en,enableSameDayDateRange:Z,inputLabel1:ne,inputLabel2:te,locale:Ne,maxDate:xt,minDate:Ot,onDateRangeChange:function(e,n){var t,a,r;cn(!1),fn(!0),null===e&&null!==Xe||Ze(e),e&&(Se(e),Ee()),e||(Ze(""),Se(""),Ee());var l,i=e&&new Date(e);i&&(null===(l=i)||void 0===l||l.setDate(i.getDate()+1));var o=null===(a=i)||void 0===a||null===(t=a.toISOString())||void 0===t?void 0:t.match(/[0-9]{4}-[0-9]{2}-[0-9]{2}/gi);if(n||(null===(r=o)||void 0===r?void 0:r[0])){var c,u=n||(null===(c=o)||void 0===c?void 0:c[0])||null;nn(u),me(),ye(u),function(e,n){var t;if("EGDSCardinalLocalizedText"===(null===(t=de)||void 0===t?void 0:t.__typename)&&e&&n){var a=Number(new Date(e)),r=Number(new Date(null!=n?n:"")),l=Bn(r-a);yn(Vn(de,l))}}(e,u),et(Xn(e,u))}else e?Ze(e):e||(nn(""),ye(""),et(void 0),me())},onDateRangeClear:function(){Ze(null),nn(null),ut(!0),se()},onClose:function(){un&&Re(!1),Tn(_n.current),Cn?Ft():it((function(e){return e?ge(e).concat([Nt]):[Nt]})),pn&&(cn(!0),fn(!1)),_e()},onSubmit:function(e,n){if(!Cn&&aa&&(it([Pt]),Ft()),!q&&!X&&e&&n)return je(e),Qe(n),cn(!0),void(_n.current!==Dn&&ut());(null!=Ve?Ve:"")===e&&(null!=He?He:"")===n||(je(e),Qe(n),cn(!0)),e&&n&&_n.current!==Dn&&(cn(!0),ut())},onOpen:function(){un&&Re(!0),he()},invalidInput1:ce,startDate:Xe,submitButtonLabel:gn,useSingleTrigger:!0,initialOpenState:sn,startDateRef:we,onNextClicked:Te,onPrevClicked:Ce,handleShape:"circle",alertTemplateComponent:ta,alertTemplateData:{data:null===(N=be)||void 0===N?void 0:N.calendarContent,onSelect:function(e){var n;if(null===(n=Sn)||void 0===n?void 0:n.length){var t,a,r,l=null===(t=Sn.find((function(e){return e.value===Dn})))||void 0===t?void 0:t.deselectAnalytics;l&&Oe(l.referrerId,l.linkName),null===(a=Tn)||void 0===a||a(e);var i=null===(r=Sn.find((function(n){return n.value===e})))||void 0===r?void 0:r.selectAnalytics;i&&Oe(i.referrerId,i.linkName)}},currentlySelectedPillValue:Dn,className:aa?la:""},calendarWrapper:na,trailingText1:ra&&!xn?Rt:void 0,dialogId:ke,inputValue1:xn?Qn:null!=Jn?Jn:void 0};return a.createElement(a.Fragment,null,a.createElement(S.s,ve({},ia)),(null===(w=be)||void 0===w||null===(B=w.flexibleDatesContent)||void 0===B||null===(O=B.nightsSelection)||void 0===O?void 0:O.includeWeekend)&&"CHECKED"===(null===(M=Mt)||void 0===M?void 0:M.state)&&aa&&!Rn&&a.createElement("input",{type:"hidden","data-stid":Gt,name:"".concat(Gt,"-").concat(null===(U=be.flexibleDatesContent.nightsSelection)||void 0===U?void 0:U.includeWeekend.name),value:"INCLUDE_WEEKEND"}),(null===(H=be)||void 0===H||null===(V=H.flexibleDatesContent)||void 0===V||null===(W=V.nightsSelection)||void 0===W?void 0:W.options)&&Zt&&aa&&!Rn&&a.createElement("input",{type:"hidden","data-stid":kt,name:"".concat(kt,"-").concat(Zt.id),value:Zt.value}),(null===(j=be)||void 0===j||null===(Y=j.flexibleDatesContent)||void 0===Y||null===(z=Y.monthsSelection)||void 0===z?void 0:z.options)&&aa&&!Rn&&a.createElement("input",{type:"hidden","data-stid":vt,name:vt,value:Jt.map((function(e){return e.monthsDate})).join("/")}),(null===($=be)||void 0===$?void 0:$.calendarContent)&&ra&&Rn&&a.createElement("input",{type:"hidden","data-stid":at,name:"".concat(at,"-").concat(null===(K=be.calendarContent)||void 0===K?void 0:K.formElementId),value:_n.current}))},Bt="EGDSDateRangePicker",wt=("".concat(Bt,"-StartDate"),"".concat(Bt,"-EndDate"),"yyyy-MM-dd"),Mt=function(e){var n,t,r,l,i,o=e.__typename,c=e.buttonText,u=e.buttonTextTemplate,d=e.clearButtonText,s=e.firstDayOfWeek,m=e.selectedEndDate,v=e.endDatePlaceholderText,f=e.selectedStartDate,E=e.startDatePlaceholderText,g=e.validDaysLowerBoundInclusive,y=e.validDaysUpperBoundInclusive,S=e.sameDaySelectionAllowed,h=e.showClearDatesButton,D=e.nextButtonAnalytics,T=e.previousButtonAnalytics,C=e.egdsElementId,b=e.label,I=e.setFieldRefByTypename,k=e.errorMessage,G=e.autoOpen,A=e.skipQuery,F=e.showCalendar,R=e.toggleCalendar,x=e.onClearDates,L=e.onSelectEndDate,P=e.onSelectStartDate,N=e.onChangeStartDate,O=e.onChangeEndDate,B=e.onSubmit,w=e.onOpen,W=e.onNextCalendarClick,V=e.onPreviousCalendarClick,H=e.startDateString,z=e.endDateString,Y=(0,p.useLocalization)().formatDateString,j=a.useRef(null),$=fe((0,M.useDialog)("search_form_date_picker_dialog"),3),K=$[0],Q=$[1],q=$[2],X=Q.closeDialog,Z=Q.openDialog,J=void 0!==F&&!!R,ee=fe(a.useState(J?F:null!=G&&G),2),ne=ee[0],te=ee[1],ae=a.useRef(!1),re=fe(a.useState(G),2),le=re[0],ie=re[1],oe=a.useCallback((function(e){J?R(e):te(e)}),[R,te,J]);a.useEffect((function(){J&&F!==ne&&te(F)}),[F]);var ce=a.useCallback((function(){var e,n,t;le&&(null!==(t=null===(n=j)||void 0===n||null===(e=n.current)||void 0===e?void 0:e.getBoundingClientRect().top)&&void 0!==t?t:20)<=20&&(ie(!1),oe(!1))}),[le,oe,ie]);a.useEffect((function(){if(le)return window.addEventListener("scroll",ce),function(){return window.removeEventListener("scroll",ce)}}),[le,ce]),a.useEffect((function(){ae.current?J&&!K&&F!==K&&R(K):ae.current=!0}),[K]);var ue=fe(a.useState({startDate:Y(f?wn(f):"",{raw:wt}),endDate:Y(m?wn(m):"",{raw:wt}),shouldFireChangeEvent:!1}),2),de=ue[0],se=ue[1],me=fe(a.useState(Y(new Date,{raw:wt})),2),Ee=me[0],ge=me[1],ye=fe(a.useState(500),2),Se=ye[0],_e=ye[1],he=(0,_.i)(o,(function(e){return e})),De=de.startDate,Te=de.endDate,Ce=de.shouldFireChangeEvent,be=fe(a.useState("EGDSCardinalLocalizedText"===(null===(n=u)||void 0===n?void 0:n.__typename)?u.text:c),2),Ie=be[0],ke=be[1],Ge=fe(a.useState(!0),2),Ae=Ge[0],Fe=Ge[1];a.useEffect((function(){var e={raw:wt};if(H?se((function(e){return pe(ve({},e),{startDate:H})})):H||!f||A||se((function(n){return pe(ve({},n),{startDate:Y(f?wn(f):"",e)})})),z?se((function(e){return pe(ve({},e),{endDate:z})})):m&&!A&&se((function(n){return pe(ve({},n),{endDate:Y(m?wn(m):"",e)})})),f||m||H||z||A||se((function(e){return pe(ve({},e),{endDate:"",startDate:""})})),g&&ge(Y(wn(g),e)),y){var n=wn(y).getTime()-(new Date).getTime();_e(Bn(n))}}),[Y,m,f,g,y,A,H,z]),a.useEffect((function(){Ce&&(se((function(e){return pe(ve({},e),{shouldFireChangeEvent:!1})})),Pn("".concat(De," - ").concat(Te),he))}),[de]);var Re={analytics:{nextPageAnalytics:{callback:function(){return W()},description:null===(t=D)||void 0===t?void 0:t.linkName,id:null===(r=D)||void 0===r?void 0:r.referrerId},previousPageAnalytics:{callback:function(){return V()},description:null===(l=T)||void 0===l?void 0:l.linkName,id:null===(i=T)||void 0===i?void 0:i.referrerId}},buttonText:Ie,dateFieldProps:{startName:C,startLabel:b,endLabel:b,startId:C,startPlaceholder:E,endPlaceholder:v,routerLinkWrapper:Un,showDatePicker:ne,startInvalid:k,mediumDateFormatProp:"MMMd",onChange:function(){}},daysBookableInAdvance:Se,dialogWrapper:Mn(q),doubleMonths:!0,firstDayOfWeek:Wn[s],onDismissCB:function(e,n){e&&X(),n||oe(!1)},onOpenCB:function(e,n){w(),oe(!0),n&&Z()},onSubmitCB:function(e,n,t){if(B(),t&&X(),oe(!1),e||n){var a=n||new Date(e.getFullYear(),e.getMonth(),e.getDate()+1),r=Y(e,{raw:wt}),l=Y(a,{raw:wt});r===De&&l===Te||(N(r),O(l),se({startDate:r,endDate:l,shouldFireChangeEvent:!0}))}else De&&Te&&(N(""),O(""),se({startDate:"",endDate:"",shouldFireChangeEvent:!0}))},onSelectStartModeCB:P,onSelectEndModeCB:L,onChangeStartDateCB:function(e){var n;if("EGDSCardinalLocalizedText"===(null===(n=u)||void 0===n?void 0:n.__typename)){var t=Y(e,{raw:wt});se({startDate:t,endDate:"",shouldFireChangeEvent:!1}),Ae?(ke(u.text),Fe(!1)):ke(Vn(u,1))}},onChangeEndDateCB:function(e){var n;if("EGDSCardinalLocalizedText"===(null===(n=u)||void 0===n?void 0:n.__typename)){var t=Number(new Date(de.startDate)),a=Y(e,{raw:wt}),r=Number(new Date(a)),l=Bn(r-t);ke(Vn(u,l))}},onClearDatesCB:x,startDate:De,endDate:Te,validStartDate:Ee,useSingleTrigger:!0,onMountCB:function(e){return I("EGDSSearchFormDatePickerField",e)},singleDateSelect:S,useClearDates:null!=h&&h,clearButtonText:null!=d?d:void 0,startDateRef:j};return a.createElement(U.Pe,ve({},Re))},Ut=(0,r.Ps)(we(),Lt.fragment),Wt="EGDSDateRangePicker",Vt="".concat(Wt,"-StartDate"),Ht="".concat(Wt,"-EndDate"),zt="yyyy-MM-dd",Yt=function(e){var n,t,r,l,i,o,u,d,v,f=(0,m.useClickTracker)(),E=e.data,g=e.useDateSelector,y=e.analytics,S=e.egdsElementId,_=e.label,h=e.validDaysUpperBoundInclusive,D=e.skipReflection,T=e.onOpenDatesField,C=e.updatePlaybackDates,b=E.__typename,I=E.selectedStartDate,k=E.selectedEndDate,G=E.validDaysUpperBoundInclusive,A=E.sameDaySelectionAllowed,F=E.clearButtonText,R=E.showClearDatesButton,x=E.startDatePlaceholderText,L=E.endDatePlaceholderText,P=E.clearDatesButtonAnalytics,N=E.endDateButtonAnalytics,O=E.startDateButtonAnalytics,B=E.submitButtonAnalytics,w=E.nextButtonAnalytics,M=E.previousButtonAnalytics,U=E.flexibleDateContent,W=(0,c.m)(),V=W.state,H=W.dispatch,z=null!==(u=V.dates)&&void 0!==u?u:{},Y=z.start,j=z.end,$=(0,p.useLocalization)().formatDateString,K=I?$(wn(I),{raw:zt}):"",Q=k?$(wn(k),{raw:zt}):"",q=fe(a.useState({startDate:K,endDate:Q}),2),X=q[0],Z=q[1],J="EGDSBasicTabs"===(null===(t=U)||void 0===t||null===(n=t.contentSelector)||void 0===n?void 0:n.__typename)?null===(r=U)||void 0===r?void 0:r.contentSelector.tabs:null,ee=J&&"EGDSBasicTab"===J[0].__typename?J[0].tabId:"calendar-tab",ne=fe(a.useState("EGDSBasicTabs"!==(null===(i=U)||void 0===i||null===(l=i.contentSelector)||void 0===l?void 0:l.__typename)||(null===(o=U)||void 0===o?void 0:o.contentSelector.selectedTabId)===ee),2),te=ne[0],ae=ne[1],re=function(e){var n,t,a,r,l=null!==(a=null===(n=e)||void 0===n?void 0:n.referrerId)&&void 0!==a?a:"",i=null!==(r=null===(t=e)||void 0===t?void 0:t.linkName)&&void 0!==r?r:"";l&&i&&f(l,i)},le=ve({onClearDates:function(){return re(P)},onSelectEndDate:function(){return re(N)},onSelectStartDate:function(){return re(O)},onSubmit:function(){return re(B)},onClose:function(){return re(B)},onOpen:function(){var e;null===(e=T)||void 0===e||e(),re(y)},onChangeStartDate:function(e){Z((function(n){return pe(ve({},n),{startDate:null!=e?e:n.startDate})})),C&&C(e,!0)},onChangeEndDate:function(e){Z((function(n){return D||H({type:"UPDATE_DATES",end:e,start:n.startDate}),C&&C(e,!1),pe(ve({},n),{endDate:null!=e?e:n.endDate})}))},onNextCalendarClick:function(){return re(w)},onPreviousCalendarClick:function(){return re(M)}},D?{}:{startDateString:Y,endDateString:j}),ie=pe(ve({},e,E,le),{validDaysUpperBoundInclusive:null!=h?h:G}),oe=pe(ve({},e,E,le),{typename:b,startDate:I,endDate:k,validDaysUpperBoundInclusive:null!=h?h:G,enableSameDayDateRange:A,clearButtonText:null!=F?F:"",inputLabel1:null!=_?_:x,inputLabel2:null!=_?_:L,allowClearDates:null!=R&&R,showStartDateEndDateHiddenInputs:function(e){return ae(e)}});return a.useEffect((function(){D||Z((function(e){return ve({},e,Y?{startDate:Y}:{},j?{endDate:j}:{})}))}),[Z,Y,j,D]),a.createElement(a.Fragment,null,g?a.createElement(s.Viewport,null,a.createElement(s.ViewSmall,null,a.createElement(Ot,pe(ve({},oe),{autoOpen:!1}))),a.createElement(s.ViewMedium,null,a.createElement(Ot,ve({},oe)))):a.createElement(Mt,ve({},ie)),te&&a.createElement(a.Fragment,null,a.createElement("input",{type:"hidden","data-stid":Vt,name:"".concat(Vt,"-").concat(S),value:null!==(d=X.startDate)&&void 0!==d?d:""}),a.createElement("input",{type:"hidden","data-stid":Ht,name:"".concat(Ht,"-").concat(S),value:null!==(v=X.endDate)&&void 0!==v?v:""})))};Yt.displayName=Wt,Yt.fragment=Ut;var jt="EGDSSingleDatePicker",$t="".concat(jt,"-Date"),Kt="yyyy-MM-dd",Qt=(0,r.Ps)(Me()),qt=function(e){var n,t=e.analytics,r=e.data,l=e.egdsElementId,o=e.label,u=e.placeholder,d=e.setFieldRefByTypename,s=e.errorMessage,v=e.index,f=e.showCalendar,E=e.toggleCalendar,g=e.autoOpen,y=e.dialogId,h=e.useDateSelector,D=e.skipReflection,T=e.updatePlaybackDates,C=e.totalLegs,b=(0,m.useClickTracker)(),I=r.__typename,k=r.buttonText,G=r.selectedStartDate,A=r.validDaysLowerBoundInclusive,F=r.validDaysUpperBoundInclusive,R=r.firstDayOfWeek,x=r.startDateButtonAnalytics,L=r.submitButtonAnalytics,P=(0,c.m)(),N=P.state,O=P.dispatch,B=null!==(n=N.dates)&&void 0!==n?n:{},w=B.start,W=B.end,V=(0,p.useLocalization)().formatDateString,H=fe((0,M.useDialog)("search_form_date_picker_dialog"),3),z=H[0],Y=H[1],j=H[2],$=Y.closeDialog,K=Y.openDialog,Q=fe(a.useState(null!=g&&g),1)[0],q=new Date;(new Date).setDate(q.getDate()+1);var X=void 0!==f&&!!E,Z=fe(a.useState(!!X&&f),2),J=Z[0],ee=Z[1],ne=a.useRef(!1),te=a.useCallback((function(e){X?E(e):ee(e)}),[E,ee,X]);a.useEffect((function(){X&&f!==J&&ee(f)}),[f]),a.useEffect((function(){ne.current?X&&!z&&f!==z&&E(z):ne.current=!0}),[z]);var ae=fe(a.useState(V(q,{raw:Kt})),2),re=ae[0],le=ae[1],ie=fe(a.useState(V(q,{raw:Kt})),2),oe=ie[0],ce=ie[1],ue=fe(a.useState(330),2),de=ue[0],se=ue[1],me=(0,_.i)("".concat(I,"-StartDate"),(function(e){return e}));a.useEffect((function(){var e={raw:Kt};if(!D&&w?le(w):G&&le(V(wn(G),e)),A&&ce(V(wn(A),e)),F){var n=wn(F).getTime()-(new Date).getTime();se(Bn(n))}}),[V,G,A,F,w]);var pe={buttonText:k,dateFieldProps:{startName:l,startLabel:o,startId:l,startPlaceholder:u,routerLinkWrapper:Un,showDatePicker:J,startInvalid:s,mediumDateFormatProp:"MMMd"},daysBookableInAdvance:de,dialogWrapper:Mn(j),doubleMonths:!0,firstDayOfWeek:Wn[R],onDismissCB:function(e,n){e&&$(),n||te(!1)},onOpenCB:function(e,n){var a=t.referrerId,r=t.linkName;a&&r&&b(a,r),te(!0),n&&K()},onSubmitCB:function(e,n,t){var a,r,l,i,o=null!==(l=null===(a=L)||void 0===a?void 0:a.referrerId)&&void 0!==l?l:"",c=null!==(i=null===(r=L)||void 0===r?void 0:r.linkName)&&void 0!==i?i:"";o&&c&&b(o,c),t&&$();var u=V(e,{raw:Kt});le(u),T&&C&&(0===v||v===C-1)&&T(e,0===v),D||O({type:"UPDATE_DATES",start:u,end:null!=W?W:""}),te(!1)},onSelectStartModeCB:function(){var e,n,t,a,r=null!==(t=null===(e=x)||void 0===e?void 0:e.referrerId)&&void 0!==t?t:"",l=null!==(a=null===(n=x)||void 0===n?void 0:n.linkName)&&void 0!==a?a:"";r&&l&&b(r,l)},startDate:re,validStartDate:oe,onMountCB:function(e){return d("EGDSSearchFormDatePickerField",e)},onStartDateResultSelection:me,singleMode:!0},Ee="".concat(l).concat(Number.isInteger(v)?"-".concat(v):""),ge=(0,i.v)().context,ye=ge.locale?ge.locale.replace("_","-"):"en-US",Se=a.useRef(null),_e=v?v.toString():y,he=function(e){var n,t,a,r,l=null!==(a=null===(n=e)||void 0===n?void 0:n.referrerId)&&void 0!==a?a:"",i=null!==(r=null===(t=e)||void 0===t?void 0:t.linkName)&&void 0!==r?r:"";l&&i&&b(l,i)};a.useEffect((function(){d("EGDSSearchFormDatePickerField",Se)}),[]);var De={isSingleDateSelection:!0,startDate:re,submitButtonLabel:k,inputLabel1:null!=o?o:void 0,maxDate:On(de),autoCloseOnSelection:!1,allowClearDates:!1,dateFormatOptions:{month:"short",day:"numeric"},dayNameLength:"narrow",initialOpenState:Q,locale:ye,handleShape:"circle",invalidInput1:s,dialogId:_e,startDateRef:Se,onDateRangeChange:function(e){le(e),T&&C&&(0===v||v===C-1)&&T(e,0===v),he(x)},onOpen:function(){return he(t)},onClose:function(){return he(L)},endDate:null};return a.createElement(a.Fragment,null,h?a.createElement(S.s,ve({},De)):a.createElement(U.Pe,ve({},pe)),a.createElement("input",{type:"hidden","data-stid":$t,name:"".concat($t,"-").concat(Ee),value:re}))};qt.displayName=jt,qt.fragment=Qt;var Xt=(0,r.Ps)(Ue(),Yt.fragment,qt.fragment),Zt=function(e){var n,t=e.setFieldRefByTypename,r=e.fieldError,l=e.data,i=e.dialogId,o=e.validDaysUpperBoundInclusive,c=l.action,u=l.errorMessage,d=l.validations;if("EGDSOpenDatePickerAction"!==(null===(n=c)||void 0===n?void 0:n.__typename))return null;var s,m,v,p,f=r?(p=r.validations,(null===(s=p)||void 0===s?void 0:s.sameDate)||p.endDateBeforeStartDate?null!=u?u:"":(null===(m=p)||void 0===m?void 0:m.maxDate)&&d&&"EGDSMaxLengthInputValidation"===d[0].__typename&&null!==(v=d[0].errorMessage)&&void 0!==v?v:""):"",E=pe(ve({},e),{analytics:c.analytics,setFieldRefByTypename:t,errorMessage:f,dialogId:i});switch(c.datePicker.__typename){case"EGDSDateRangePicker":return a.createElement(Yt,pe(ve({},l,E),{data:c.datePicker,validDaysUpperBoundInclusive:o}));case"EGDSSingleDatePicker":return a.createElement(qt,pe(ve({},l,E),{data:c.datePicker}));default:return null}};Zt.displayName="EGDSSearchFormDatePickerField",Zt.fragment=Xt;var Jt="SEARCH_FORM_LOCATION_FIELD_UPDATE",ea="EGDSSearchFormLocationField",na="".concat(ea,"-Location"),ta="".concat(ea,"-RegionId"),aa="".concat(ea,"-AirportCode"),ra="".concat(ea,"-Lat"),la="".concat(ea,"-Long"),ia="".concat(ea,"-Selected"),oa="".concat(ea,"-AmenitiesFacilitiesGroup"),ca="".concat(ea,"-LocGroup"),ua="".concat(ea,"-PropertiesGoodForGroup"),da="".concat(ea,"-PropertyTypeGroup"),sa="".concat(ea,"-DestinationId"),ma="".concat(ea,"-PropertyId"),va="".concat(ea,"-PropertyFilter"),pa=function(e){var n,t,r,l,i,o,u,d,s,v,f,E,g,y=e.egdsElementId,S=e.essAdapter,_=e.label,h=e.placeholder,D=e.icon,C=e.value,b=e.accessibility,I=e.errorText,k=e.required,G=e.emptyResultsPlaceholder,A=e.setFieldRefByTypename,F=e.__typename,R=e.analyticsLinkName,x=e.analyticsReferrerId,L=e.closeAnalyticsLinkName,P=e.changeAnalyticsLinkName,N=e.changeAnalyticsReferrerId,O=e.closeAnalyticsReferrerId,B=e.categorize,w=e.allowExactMatch,M=e.listTitle,U=e.handleResultSelection,V=e.onSelection,H=e.selection,z=e.index,Y=e.regionId,j=e.skipQuery,$=e.valueFromQueryParam,K=e.pinnedPropertyId,Q=e.alternativeLocationLabel,q=e.propertyRefinements,X=e.isDestination,Z=e.skipReflection,J=e.onOpenLocationField,ee=e.onSelectLocation,ne=e.sameDayPrefill,te=e.debounceRate,ae=void 0===te?200:te,re=e.allowToRemoveRecentSearches,le=e.withoutCustomStyling,ie=e.onDismissLocation,oe=(0,c.m)(),ce=oe.state,ue=oe.dispatch,de=ce.destination,se=ce.origin,me=(0,p.useLocalization)().formatDateString,Ee=a.useMemo((function(){var e,n,t;if(!Z&&X&&de)return de;if(!Z&&!X&&se)return se;var a=fe((null===(t=S)||void 0===t||null===(n=t.config)||void 0===n||null===(e=n.lastSearchLatLong)||void 0===e?void 0:e.split(","))||["",""],2),r=a[0],l=a[1];return{term:C,data:{type:void 0,regionId:Y,hierarchyInfo:{airport:{airportCode:"",airportId:""}},location:{lat:r,long:l},selected:null!=K?K:void 0,regionNames:{fullName:C},cityId:""}}}),[C,Y,K,X]),ge=fe(a.useState(Ee),2),ye=ge[0],Se=ge[1],_e=fe(a.useState(ye.term&&Q?Q:_),2),he=_e[0],De=_e[1];a.useEffect((function(){null==Ee.term||j||Se(Ee)}),[Ee,j]),a.useEffect((function(){Z||X||!se||Se(se),!Z&&X&&de&&Se(de)}),[Z,se,de]);var Te=(0,m.useClickTracker)();a.useEffect((function(){var e;(null===(e=H)||void 0===e?void 0:e.term)&&H.term!==ye.term&&Se(H),$&&$!==ye.term&&(Se((function(e){return pe(ve({},e),{term:$})})),V&&V({data:ye.data,term:$}))}),[H,$]);var Ce,be=ye.data||Ee.data,Ie=be.regionId,ke=be.location,Ge=be.hierarchyInfo,Ae=be.selected,Fe=void 0===Ae?"":Ae,Re=be.type,xe=be.cityId,Le=null!=ke?ke:{},Pe=Le.lat,Ne=void 0===Pe?"":Pe,Oe=Le.long,Be=void 0===Oe?"":Oe,we=(null!=Ge?Ge:{}).airport||{},Me=we.airportCode,Ue=void 0===Me?"":Me,We=we.airportId,Ve=void 0===We?"":We,He=a.useCallback((function(e){Se((function(n){var t,a;return(null===(a=n.data)||void 0===a||null===(t=a.regionNames)||void 0===t?void 0:t.fullName)===e.term?n:e}))}),[]);(0,W._9)((Ce=He,{query:{type:Jt},onSignal:function(e){var n=e.payload,t=(void 0===n?{}:n).locationValue;"string"==typeof t&&Ce({term:t,data:{}})}}));var ze,Ye,je="".concat(y).concat(Number.isInteger(z)?"-".concat(z):""),$e=(null===(t=ye.data)||void 0===t||null===(n=t.regionNames)||void 0===n?void 0:n.fullName)&&!$&&Re!==T.r.CURRENT_LOCATION?ye.data.regionNames.fullName:ye.term,Ke=ye.data?Ie||xe||Ve:"",Qe=S.config.showCurrentLocation&&Re===T.r.CURRENT_LOCATION?"":$e,qe=ye.data?xe||Ie:"",Xe=null!==(ze=null===(l=ye.data)||void 0===l||null===(r=l.listing)||void 0===r?void 0:r.expediaId)&&void 0!==ze?ze:null,Ze=null!==(Ye=null===(i=ye.data)||void 0===i?void 0:i.popularFilter)&&void 0!==Ye?Ye:[];return a.createElement(a.Fragment,null,a.createElement("div",{"data-stid":"search-location"},a.createElement(T.CG,{id:y,name:y,adapter:S,label:he,typeaheadPlaceholder:h,icon:D,value:$e,onUpdate:function(e){var n,t,a,r;(N&&P&&Te("".concat(N,".").concat(e.term),P),Se(e),De(e.term&&Q?Q:_),V&&V(e),Z)||(ue({type:X?"UPDATE_DESTINATION":"UPDATE_ORIGIN",location:e.data?e:pe(ve({},e),{data:{}})}),S.config.historyDetail&&(null===(a=e)||void 0===a||null===(t=a.data)||void 0===t?void 0:t.searchDetail)&&ue({type:"UPDATE_DATES_AND_TRAVELERS",travelers:null!==(r=e.data.searchDetail)&&void 0!==r?r:null}));if((null===(n=e.data)||void 0===n?void 0:n.type)===T.r.CURRENT_LOCATION&&ee&&ne){ee();var l=new Date,i=me(new Date(l.getFullYear(),l.getMonth(),l.getDate()),{raw:"yyyy-MM-dd"}),o=me(new Date(l.getFullYear(),l.getMonth(),l.getDate()+1),{raw:"yyyy-MM-dd"});ue({type:"UPDATE_DATES",start:i,end:o})}},handleClear:function(){Se({term:"",data:{regionId:"",hierarchyInfo:{airport:{airportCode:"",airportId:""}},location:{lat:"",long:""},selected:void 0,regionNames:{},cityId:""}}),De(_)},stid:y,accessibilityLabel:b,onClick:function(){J&&J(),""===x&&""===R||Te(x,R)},onMountCB:function(e){return A(F,e)},invalid:I,required:k,typeaheadEmptyResultPlaceholder:G,onResultSelection:U,categorize:B,allowExactMatch:w,listTitle:M,onDismiss:function(){ie&&ie(ye);var e=null!=O?O:"",n=null!=L?L:"";e&&n&&Te(e,n)},debounceRate:ae,allowToRemoveRecentSearches:re,withoutCustomStyling:le})),a.createElement("input",{type:"hidden","data-stid":na,name:"".concat(na,"-").concat(je),value:Qe}),Ke&&a.createElement("input",{type:"hidden","data-stid":ta,name:"".concat(ta,"-").concat(je),value:Ke}),a.createElement("input",{type:"hidden","data-stid":aa,name:"".concat(aa,"-").concat(je),value:Ue}),a.createElement("input",{type:"hidden","data-stid":ra,name:"".concat(ra,"-").concat(je),value:Ne}),a.createElement("input",{type:"hidden","data-stid":la,name:"".concat(la,"-").concat(je),value:Be}),Xe&&a.createElement("input",{type:"hidden","data-stid":ma,name:"".concat(ma,"-").concat(je),value:Xe}),a.createElement("input",{type:"hidden","data-stid":ia,name:"".concat(ia,"-").concat(je),value:null!=Xe?Xe:Fe}),S.config.popularFilter&&Ze.map((function(e){return a.createElement("input",{key:"search-location-popular-filter-".concat(e.legacyId),type:"hidden","data-stid":va,name:"".concat(va,"-").concat(e.legacyId),value:e.legacyValue})})),(null===(o=q)||void 0===o?void 0:o.amenitiesFacilitiesGroup)&&a.createElement("input",{type:"hidden","data-stid":oa,name:"".concat(oa,"-").concat(je),value:null===(u=q)||void 0===u?void 0:u.amenitiesFacilitiesGroup}),(null===(d=q)||void 0===d?void 0:d.locationGroup)&&a.createElement("input",{type:"hidden","data-stid":ca,name:"".concat(ca,"-").concat(je),value:null===(s=q)||void 0===s?void 0:s.locationGroup}),(null===(v=q)||void 0===v?void 0:v.propertiesGoodForGroup)&&a.createElement("input",{type:"hidden","data-stid":ua,name:"".concat(ua,"-").concat(je),value:null===(f=q)||void 0===f?void 0:f.propertiesGoodForGroup}),(null===(E=q)||void 0===E?void 0:E.propertyTypeGroup)&&a.createElement("input",{type:"hidden","data-stid":da,name:"".concat(da,"-").concat(je),value:null===(g=q)||void 0===g?void 0:g.propertyTypeGroup}),qe&&a.createElement("input",{type:"hidden","data-stid":sa,name:"".concat(sa,"-").concat(je),value:qe}))},fa="EGDSSearchFormLocationField",Ea="".concat(fa,"-Location"),ga="".concat(fa,"-RegionId"),ya="".concat(fa,"-AirportCode"),Sa="".concat(fa,"-Lat"),_a="".concat(fa,"-Long"),ha="".concat(fa,"-Values"),Da=function(e){var n=e.egdsElementId,t=e.essAdapter,r=e.label,l=e.placeholder,i=e.icon,o=e.multiLocations,c=e.errorText,u=e.required,d=e.emptyResultsPlaceholder,s=e.setFieldRefByTypename,v=e.__typename,p=e.analyticsLinkName,f=e.analyticsReferrerId,E=e.categorize,g=e.allowExactMatch,y=e.listTitle,S=e.selectedItemHeading,_=e.clearAllText,h=e.dismissButtonText,D=e.handleResultSelection,C=e.onMultiSelectItemRemove,b=e.onMultiSelectClearAll,I=e.onMultiSelectClose,k=e.withoutCustomStyling,G=o.map((function(e){return{term:e.text,data:{regionId:"",hierarchyInfo:{airport:{airportCode:""}},location:{lat:"",long:""},value:e.value}}})),A=fe(a.useState(G),2),F=A[0],R=A[1],x=fe(a.useState(!1),2),L=x[0],P=x[1];a.useEffect((function(){L&&(P(!1),Pn(F.map((function(e){return e.term})).join(", "),D))}),[L,F,D]);var N=(0,m.useClickTracker)(),O=function(e){var n={data:{regionId:"",hierarchyInfo:{airport:{airportCode:""}},location:{lat:"",long:""},value:""}},t=e.map((function(e){return e.data||n.data}));return{term:e.map((function(e){return e.term})).join(","),regionId:t.map((function(e){return e.regionId})).join(","),lat:t.map((function(e){var n;return null===(n=e.location)||void 0===n?void 0:n.lat})).join(","),long:t.map((function(e){var n;return null===(n=e.location)||void 0===n?void 0:n.long})).join(","),airportCode:t.map((function(e){var n,t;return null===(t=e.hierarchyInfo)||void 0===t||null===(n=t.airport)||void 0===n?void 0:n.airportCode})).join(","),locationValues:t.map((function(e){return e.value})).join(",")}}(F),B=O.term,w=O.regionId,M=O.lat,U=O.long,W=O.airportCode,V=O.locationValues,H=r.concat(",").concat(B);return a.createElement(a.Fragment,null,a.createElement("div",{"data-stid":"search-location"},a.createElement(T.CG,{id:n,name:n,adapter:t,label:r,typeaheadPlaceholder:l,icon:i,value:F.map((function(e){return e.term})),onUpdate:function(e){!F.some((function(n){return n===e}))&&e.data&&R((function(n){return ge(n).concat([e])}))},stid:n,accessibilityLabel:H,onClick:function(){return N(f,p)},onMountCB:function(e){return s(v,e)},invalid:c,required:u,typeaheadEmptyResultPlaceholder:d,handleClear:function(){var e;R([]),null===(e=b)||void 0===e||e(n)},onItemRemove:function(e){var t;F.length>0&&(R((function(n){return n.filter((function(n,t){return t!==e}))})),null===(t=C)||void 0===t||t(F[e],n))},onDismiss:function(e){var t;null===(t=I)||void 0===t||t(e,n),P(!0)},categorize:E,allowExactMatch:g,listTitle:y,selectedItemHeading:S,clearAllText:_,dismissButtonText:h,isMulti:!0,withoutCustomStyling:k})),a.createElement("input",{type:"hidden","data-stid":Ea,name:"".concat(Ea,"-").concat(n),value:B}),a.createElement("input",{type:"hidden","data-stid":ga,name:"".concat(ga,"-").concat(n),value:w}),a.createElement("input",{type:"hidden","data-stid":ya,name:"".concat(ya,"-").concat(n),value:W}),a.createElement("input",{type:"hidden","data-stid":Sa,name:"".concat(Sa,"-").concat(n),value:M}),a.createElement("input",{type:"hidden","data-stid":_a,name:"".concat(_a,"-").concat(n),value:U}),a.createElement("input",{type:"hidden","data-stid":ha,name:"".concat(ha,"-").concat(n),value:V}))},Ta=(0,r.Ps)(We()),Ca="EGDSSearchFormLocationField",ba=function(e){var n,t,r,l,o,c,u,d,s,m,p,f,E,g=e.fieldError,y=e.data,S=e.adapter,h=e.onMultiSelectClose,D=e.onMultiSelectItemRemove,C=e.onMultiSelectClearAll,b=e.essLogger,I=e.locationsErrorText,k=e.additionalAdapterFields,G=e.pinnedPropertyId,A=e.alternativeLocationLabel,F=e.propertyRefinements,R=e.skipReflection,x=e.onLocationsSelection,L=e.showCurrentLocation,P=e.allowToRemoveRecentSearches,N=e.onDismissLocation,O=(0,i.v)().context,B=O.identity,w=O.locale,M=O.siteId,U=y.__typename,W=y.label,V=y.action,H=y.placeholder,z=y.leftIcon,Y=y.egdsElementId,j=y.value,$=y.errorMessage,K=y.required,Q=y.multiLocations,q=y.closeAnalytics,X=y.changeAnalytics,Z=y.regionId,J=y.debounceRate,ee=y.validations,ne=(null===(t=g)||void 0===t||null===(n=t.validations)||void 0===n?void 0:n.sameLocationSelected)&&ee&&"origin_select"===Y?null===(r=ee.find((function(e){return"EGDSSameValueInputValidation"===e.__typename})))||void 0===r?void 0:r.errorMessage:null,te=null!==(E=null!==(f=null!=ne?ne:I)&&void 0!==f?f:$)&&void 0!==E?E:"",ae=(0,_.i)(Y,(function(e){return e})),re=(0,v.useExperiment)("TypeaheadCustom_without_specific_CSS"),le=re.exposure,ie=re.logExperiment;if(a.useEffect((function(){try{ie(le)}catch(e){}})),"OpenTypeaheadAction"!==(null===(l=V)||void 0===l?void 0:l.__typename))return null;var oe,ce=pe(ve({},k),{alternate:!!(null===(o=k)||void 0===o?void 0:o.lastSearchLatLong)&&(null===(c=k)||void 0===c?void 0:c.alternate)}),ue=V.analytics,de=V.accessibility,se=V.emptyResultsPlaceholder,me=V.categorize,fe=V.allowExactMatch,Ee=V.listTitle,ge=V.selectedItemHeading,ye=V.clearAllText,Se=V.dismissButtonText,_e=V.info,he=_e.client,De=_e.drivable,Te=_e.isDestination,Ce=_e.lineOfBusiness,be=_e.maxNumberOfResults,Ie=_e.packageType,ke=_e.personalize,Ge=_e.regionType,Ae=_e.typeaheadFeatures,Fe=_e.isMultiLocation,Re=_e.domain,xe=_e.regionId,Le=_e.subLob,Pe=_e.expUserId,Ne=(B||{}).duaid,Oe=Number(Pe)||-1,Be=null!=S?S:new T.n7(pe(ve({client:null!=he?he:"",drivable:De,dest:Te,domain:null!=Re?Re:"https://www.expedia.com/",expuserid:Oe,features:null!=Ae?Ae:"",guid:Ne,lob:null!=Ce?Ce:"",locale:w,maxResults:null!=be?be:10,personalize:ke,regionType:null!=Ge?Ge:2047,siteId:M,packageType:null!=Ie?Ie:"",essLogger:b,showCurrentLocation:null!=L&&L,regionId:null!=xe?xe:void 0},ce),{subLob:null!=Le?Le:""})),we=pe(ve({},e),{egdsElementId:Y,essAdapter:Be,categorize:me,allowExactMatch:fe,listTitle:Ee,handleResultSelection:ae,label:null!=W?W:"",placeholder:null!=H?H:"",icon:null!==(oe=null===(u=z)||void 0===u?void 0:u.title)&&void 0!==oe?oe:"place",accessibility:null!=de?de:"",errorText:g?te:"",required:null!=K&&K,emptyResultsPlaceholder:null!=se?se:"",analyticsLinkName:ue.linkName,analyticsReferrerId:ue.referrerId,closeAnalyticsLinkName:null===(d=q)||void 0===d?void 0:d.linkName,closeAnalyticsReferrerId:null===(s=q)||void 0===s?void 0:s.referrerId,changeAnalyticsLinkName:null===(m=X)||void 0===m?void 0:m.linkName,changeAnalyticsReferrerId:null===(p=X)||void 0===p?void 0:p.referrerId,selectedItemHeading:null!=ge?ge:"",dismissButtonText:null!=Se?Se:"",__typename:U,regionId:Z,isDestination:Te,debounceRate:null!=J?J:void 0,showCurrentLocation:null!=L&&L,withoutCustomStyling:1===le.bucket});return Fe?a.createElement(Da,pe(ve({},we),{multiLocations:null!=Q?Q:[],clearAllText:null!=ye?ye:"",onMultiSelectClose:h,onMultiSelectItemRemove:D,onMultiSelectClearAll:C,onLocationsSelection:x})):a.createElement(pa,pe(ve({},we),{value:null!=j?j:"",pinnedPropertyId:null!=G?G:"",alternativeLocationLabel:A,propertyRefinements:F,skipReflection:R,allowToRemoveRecentSearches:P,onDismissLocation:N}))};ba.displayName=Ca,(ba.fragment=Ta).__typename=Ca;var Ia=(0,r.Ps)(Ve(),An),ka=function(e){var n=e.data,t=e.onClick,r=e.size,l=e.isFullWidth,i=void 0===l||l,o=e.floating,c=void 0!==o&&o,u=n.egdsElementId,d=n.primary,s=n.analytics,v=null!=u?u:"search_form_primary_button",p=(0,m.useClickTracker)(),f={onClick:a.useCallback((function(){if(s){var e=s.referrerId,n=s.linkName;p(e,n)}t()}),[s,t,p]),id:v,isFullWidth:i,size:r||g.xY.LARGE};return c?a.createElement(H.o,{type:"fade-button"},a.createElement(V.t,ve({},f),d)):a.createElement(E.Y,ve({},f),d)};ka.displayName="EGDSPrimaryButton",ka.fragment=Ia;var Ga=(0,r.Ps)(He(),An),Aa=function(e){var n=e.onClick,t=e.isFullWidth,r=e.size,l=e.data,i=e.isDisabled,o=l.egdsElementId,c=l.primary,u=l.disabled,d=l.accessibility,s=l.analytics,v=l.icon,p=null!=o?o:"search_form_tertiary_button",f=(0,m.useClickTracker)(),E=i||u,g=a.useCallback((function(){if(s){var e=s.referrerId,t=s.linkName;f(e,t)}n()}),[s,n,f]);return a.createElement(z.m,{"aria-label":null!=d?d:"",id:p,"data-test-id":p,onClick:g,disabled:E,isFullWidth:t,size:r},v&&a.createElement(y.fR,{name:v.id}),c)};Aa.displayName="EGDSTertiaryButton",Aa.fragment=Ga;var Fa=(0,r.Ps)(ze()),Ra=function(e){var n=e.data,t=n.label,r=n.value,l=n.egdsElementId,i="".concat(l,"-").concat(r);return a.createElement("option",{key:i,value:r},t)};Ra.displayName="EGDSBasicOptionFragment",Ra.fragment=Fa;var xa=function(e){return"EGDSTravelerChildAgeSelect"===e.__typename&&null===e.value},La=function(e,n,t){if("EGDSTravelerChildren"===t.children.__typename){var a=t.children,r=pe(ve({},a),{count:pe(ve({},a.count),{value:e}),ages:n.length?n.map((function(e){return pe(ve({},a.ageTemplate),{value:e})})):[]});return ve({},r)}return ve({},t.children)},Pa=function(e,n,t,a){var r,l;if(!t)return null;var i,o,c,u,d=n.reduce((function(e,n){var t;return e+n.adults.value+n.children.count.value+(null!==(l=null===(t=n.infants)||void 0===t?void 0:t.count.value)&&void 0!==l?l:0)}),0),s="lap"===a?n.reduce((function(e,n){var t;return e+(null!==(i=null===(t=n.infants)||void 0===t?void 0:t.count.value)&&void 0!==i?i:0)}),0):0,m="seat"===a?n.reduce((function(e,n){var t;return e+(null!==(o=null===(t=n.infants)||void 0===t?void 0:t.count.value)&&void 0!==o?o:0)}),0):0,v=n.reduce((function(e,n){return e+(null!==(c=n.adults.value)&&void 0!==c?c:0)}),0),p=n.reduce((function(e,n){var t;return e+(null!==(t=("EGDSTravelerChildren"===n.children.__typename?n.children.ages:[]).filter((function(e){return"EGDSTravelerChildAgeSelect"===e.__typename&&e.value&&e.value>=12})).length)&&void 0!==t?t:0)}),0),f=function(e){return e.reduce((function(e,n){var t,a,r="EGDSTravelerChildren"===n.children.__typename?n.children.ages:[],l="EGDSTravelerInfant"===(null===(t=n.infants)||void 0===t?void 0:t.__typename)?n.infants.ages:[];return e+r.filter(xa).length+(null!==(a=l.filter(xa).length)&&void 0!==a?a:0)}),0)}(n),E=p+v<s,g=t.map((function(e){if("EGDSTravelersInputValidation"===e.__typename){var n,t,a=e.type,r=e.errorMessage,l=e.maxCount,i=e.errorSummary,o=e.infantsInSeatPerAdult;return null!==(t=(me(n={},"MAX_TRAVELERS",l&&d>l?{message:r,type:a,displayConfirmation:!0,errorCount:1,errorSummary:pe(ve({},i),{heading:r})}:null),me(n,"CHILD_AGE_REQUIRED",f>0?{message:r,type:a,displayConfirmation:!1,errorCount:f,errorSummary:i}:null),me(n,"MANY_INFANT_ON_LAP",E?{message:r,type:a,displayConfirmation:!0,errorCount:1,errorSummary:i}:null),me(n,"MANY_INFANT_IN_SEAT",o&&p+v<m/o?{message:r,type:a,displayConfirmation:!0,errorCount:1,errorSummary:i}:null),n)[a])&&void 0!==t?t:null}return null})).filter((function(e){return null!==e}));return g.find((function(n){return e&&e.type===n.type}))&&(null===(r=e)||void 0===r?void 0:r.displayConfirmation)?pe(ve({},e),{errorCount:"CHILD_AGE_REQUIRED"===e.type?f:1}):null!==(u=g[0])&&void 0!==u?u:null},Na=function(e,n){switch(n.type){case"ADD_ROOM":var t=e.rooms[0],a=t.adults,r=t.label,l=t.removeRoomButton,i=t.children,o=t.infants;if("EGDSTravelerStepInput"===a.__typename&&"EGDSTravelerChildren"===i.__typename&&i.ages){var c,u,d,s=pe(ve({},i.count),{value:0}),m={__typename:"EGDSTravelerSelectorRoom",children:pe(ve({},i),{count:s,ages:[]}),adults:pe(ve({},a),{value:1}),label:r,removeRoomButton:l,infants:"EGDSTravelerInfant"===(null===(c=o)||void 0===c?void 0:c.__typename)?pe(ve({},o),{count:pe(ve({},o.count),{value:0}),ages:[]}):null},v=e.rooms.concat(m),p=Pa(e.error?e.error:null,v,null!==(d=e.validations)&&void 0!==d?d:[],null===(u=e.infantSeatSelection)||void 0===u?void 0:u.value);return pe(ve({},e),{rooms:v,error:p})}return pe(ve({},e),{rooms:[]});case"REMOVE_ROOM":var f,E,g=n.roomIndex,y=e.rooms.filter((function(e,n){return n!==g})),S=Pa(e.error?e.error:null,y,null!==(E=e.validations)&&void 0!==E?E:[],null===(f=e.infantSeatSelection)||void 0===f?void 0:f.value);return pe(ve({},e),{rooms:y,error:S});case"RESET_STATE":return n.state;case"RESET_ROOMS":return pe(ve({},e),{rooms:n.state.rooms});case"UPDATE_INFANT_SEAT_SELECTION":var _,h=n.value,D=Pa(e.error?e.error:null,e.rooms,null!==(_=e.validations)&&void 0!==_?_:[],h);return pe(ve({},e),{infantSeatSelection:{value:n.value},error:D});case"UPDATE_TRAVELERS_COUNT":var T,C,b=n.roomIndex,I=n.count,k=n.travelersType,G=e.rooms.map((function(e,n){if(n===b)switch(k){case"adults":return pe(ve({},e),{adults:pe(ve({},e.adults),{value:I})});case"children":if("EGDSTravelerChildren"===e.children.__typename){var t,a,r=e.children,l=I>r.count.value,i="EGDSTravelerChildAgeSelect"===r.ageTemplate.__typename?pe(ve({},r.ageTemplate),{value:null}):null,o=l?null===(t=r.ages)||void 0===t?void 0:t.concat(null!=i?i:r.ageTemplate):null===(a=r.ages)||void 0===a?void 0:a.slice(0,-1),c=pe(ve({},r),{count:pe(ve({},r.count),{value:I}),ages:o});return pe(ve({},e),{children:c})}return e;case"infants":var u;if("EGDSTravelerInfant"===(null===(u=e.infants)||void 0===u?void 0:u.__typename)){var d=e.infants,s=I>d.count.value?d.ages.concat(d.ageTemplate):d.ages.slice(0,-1),m=pe(ve({},d),{count:pe(ve({},d.count),{value:I}),ages:s});return pe(ve({},e),{infants:m})}return e;default:return e}return e})),A=Pa(e.error?e.error:null,G,null!==(C=e.validations)&&void 0!==C?C:[],null===(T=e.infantSeatSelection)||void 0===T?void 0:T.value);return pe(ve({},e),{rooms:G,error:A});case"UPDATE_CHILD_AGE":var F,R,x=n.roomIndex,L=n.childIndex,P=n.childAge,N=n.isInfant,O=e.rooms.map((function(e,n){var t;return n!==x||"EGDSTravelerChildren"!==e.children.__typename||N?n===x&&"EGDSTravelerInfant"===(null===(t=e.infants)||void 0===t?void 0:t.__typename)&&N?pe(ve({},e),{infants:pe(ve({},e.infants),{ages:e.infants.ages.map((function(e,n){return"EGDSTravelerChildAgeSelect"===e.__typename&&L===n?pe(ve({},e),{value:P}):ve({},e)}))})}):e:pe(ve({},e),{children:pe(ve({},e.children),{ages:e.children.ages.map((function(e,n){return"EGDSTravelerChildAgeSelect"===e.__typename&&L===n?pe(ve({},e),{value:P}):ve({},e)}))})})})),B=Pa(e.error?e.error:null,O,null!==(R=e.validations)&&void 0!==R?R:[],null===(F=e.infantSeatSelection)||void 0===F?void 0:F.value);return pe(ve({},e),{rooms:O,error:B});case"SHOW_ERROR":if(e.error){var w=e.error,M={message:w.message,type:w.type,displayConfirmation:!0,errorCount:w.errorCount,errorSummary:w.errorSummary};return pe(ve({},e),{error:M})}return ve({},e);case"SET_VALIDATIONS":return pe(ve({},e),{validations:n.validations});case"UPDATE_TRAVELERS_BULK":var U,W=n.adultTravelerCounts,V=n.childTravelerCounts,H=n.childrenAges;if(null===(U=W)||void 0===U?void 0:U.length){var z=W.map((function(n,t){var a,r;return pe(ve({},e.rooms[t]),{adults:pe(ve({},e.rooms[t].adults),{value:n}),children:(null===(a=H)||void 0===a?void 0:a.length)?La((null===(r=V)||void 0===r?void 0:r.length)?V[t]:0,H[t],e.rooms[t]):pe(ve({},e.rooms[t].children),{count:pe(ve({},e.rooms[t].children.count),{value:0}),ages:[]})})}));return pe(ve({},e),{rooms:z})}return ve({},e);default:return e}},Oa=a.createContext({state:{}}),Ba=function(e){var n=e.children,t=e.rooms,r=e.validations,l=e.skipQuery,i=e.infantSeatSelection,o=fe(a.useReducer(Na,{rooms:t,validations:r,infantSeatSelection:i?{value:i.selected}:null}),2),c=o[0],u=o[1],d=fe(a.useState(c),2),s=d[0],m=d[1];a.useEffect((function(){l||u({type:"RESET_STATE",state:{rooms:t,validations:r,infantSeatSelection:i?{value:i.selected}:null}})}),[l,i,t]),a.useEffect((function(){c!==s&&m(c)}),[c,s]),a.useEffect((function(){u({type:"SET_VALIDATIONS",validations:r})}),[r]);var v={state:s,dispatch:u};return a.createElement(Oa.Provider,{value:v},n)},wa=function(){return a.useContext(Oa)},Ma=function(e){return"EGDSTravelerChildAgeSelect"===e.__typename&&null===e.value},Ua=function(e){return"EGDSTravelerChildAgeSelect"===e.__typename&&null===e.value},Wa=function(e){return"EGDSTravelerChildAgeSelect"===e.__typename&&null===e.value},Va=function(e,n,t){var a,r,l,i,o,c,u;if(!t)return null;var d,s,m,v,p,f,E,g,y=null!==(u=null===(a=n.children)||void 0===a?void 0:a.count.value)&&void 0!==u?u:0,S=null!==(d=null===(r=n.infantsInSeat)||void 0===r?void 0:r.count.value)&&void 0!==d?d:0,_=null!==(s=null===(l=n.infantsOnLap)||void 0===l?void 0:l.count.value)&&void 0!==s?s:0,h=null!==(m=n.adults.value)&&void 0!==m?m:0,D=h+y+S+_,T=(v=n.children,"EGDSTravelerChildren"===(null===(p=v)||void 0===p?void 0:p.__typename)?v.ages.filter(Ma).length:0),C=function(e){var n,t;return"EGDSTravelerInfant"===(null===(n=e)||void 0===n?void 0:n.__typename)?null===(t=e)||void 0===t?void 0:t.ages.filter(Ua).length:0}(n.infantsInSeat),b=T+C+(f=n.infantsOnLap,"EGDSTravelerInfant"===(null===(E=f)||void 0===E?void 0:E.__typename)?null===(g=f)||void 0===g?void 0:g.ages.filter(Wa).length:0),I="EGDSTravelerChildren"===(null===(i=n.children)||void 0===i?void 0:i.__typename)?null===(o=n.children)||void 0===o?void 0:o.ages.filter((function(e){return"EGDSTravelerChildAgeSelect"===e.__typename&&e.value&&e.value>=12})).length:0,k=I+h<_,G=t.map((function(e){if("EGDSTravelersInputValidation"===e.__typename){var n,t=e.type,a=e.errorMessage,r=e.maxCount,l=e.errorSummary,i=e.infantsInSeatPerAdult;return(me(n={},"MAX_TRAVELERS",r?D>r&&{message:a,type:t,displayConfirmation:!0,errorCount:1,errorSummary:l}:null),me(n,"CHILD_AGE_REQUIRED",b>0?{message:a,type:t,displayConfirmation:!1,errorCount:b,errorSummary:l}:null),me(n,"MANY_INFANT_ON_LAP",k?{message:a,type:t,displayConfirmation:!0,errorCount:1,errorSummary:l}:null),me(n,"MANY_INFANT_IN_SEAT",i&&I+h<S/i?{message:a,type:t,displayConfirmation:!0,errorCount:1,errorSummary:l}:null),n)[t]}return null})).filter((function(e){return!!e}));return G.find((function(n){var t;return e&&e.type===(null===(t=n)||void 0===t?void 0:t.type)}))&&(null===(c=e)||void 0===c?void 0:c.displayConfirmation)?pe(ve({},e),{errorCount:"CHILD_AGE_REQUIRED"===e.type?b:1}):G?G[0]:null},Ha=function(e,n){switch(n.type){case"RESET_STATE":return n.state;case"UPDATE_TRAVELERS_COUNT":var t,a=function(e,n){switch(n.travelersType){case"adults":return pe(ve({},e),{adults:pe(ve({},e.adults),{value:n.count})});case"children":var t,a;if("EGDSTravelerChildren"===(null===(t=e.children)||void 0===t?void 0:t.__typename)){var r,l,i=e.children,o=n.count>i.count.value,c="EGDSTravelerChildAgeSelect"===i.ageTemplate.__typename?pe(ve({},i.ageTemplate),{value:null}):null,u=o?null===(r=i.ages)||void 0===r?void 0:r.concat(null!=c?c:i.ageTemplate):null===(l=i.ages)||void 0===l?void 0:l.slice(0,-1),d=pe(ve({},i),{count:pe(ve({},i.count),{value:n.count}),ages:u});return pe(ve({},e),{children:d})}if("EGDSBasicTraveler"===(null===(a=e.children)||void 0===a?void 0:a.__typename)){var s=e.children;return pe(ve({},e),{children:pe(ve({},s),{count:pe(ve({},s.count),{value:n.count})})})}return e;case"infants_in_seat":var m,v,p;if("EGDSTravelerInfant"===(null===(m=e.infantsInSeat)||void 0===m?void 0:m.__typename)&&"EGDSTravelerInfant"===(null===(v=e.infantsOnLap)||void 0===v?void 0:v.__typename)){var f,E,g,y=e.infantsInSeat,S=e.infantsOnLap,_=n.count>y.count.value?null===(f=y.ages)||void 0===f?void 0:f.concat(y.ageTemplate):null===(E=y.ages)||void 0===E?void 0:E.slice(0,-1),h=pe(ve({},y),{count:pe(ve({},y.count),{value:n.count}),ages:_}),D=h.count.value>0?0:h.count.max,T=pe(ve({},S),{count:pe(ve({},null===(g=S)||void 0===g?void 0:g.count),{max:D})});return pe(ve({},e),{infantsInSeat:h,infantsOnLap:T})}if("EGDSBasicTraveler"===(null===(p=e.infantsInSeat)||void 0===p?void 0:p.__typename)){var C=e.infantsInSeat;return pe(ve({},e),{infantsInSeat:pe(ve({},C),{count:pe(ve({},C.count),{value:n.count})})})}return e;case"infants_on_lap":var b,I,k;if("EGDSTravelerInfant"===(null===(b=e.infantsOnLap)||void 0===b?void 0:b.__typename)&&"EGDSTravelerInfant"===(null===(I=e.infantsInSeat)||void 0===I?void 0:I.__typename)){var G,A,F,R=e.infantsOnLap,x=e.infantsInSeat,L=n.count>R.count.value?null===(G=R.ages)||void 0===G?void 0:G.concat(R.ageTemplate):null===(A=R.ages)||void 0===A?void 0:A.slice(0,-1),P=pe(ve({},R),{count:pe(ve({},R.count),{value:n.count}),ages:L}),N=P.count.value>0?0:P.count.max,O=pe(ve({},x),{count:pe(ve({},null===(F=x)||void 0===F?void 0:F.count),{max:N})});return pe(ve({},e),{infantsOnLap:P,infantsInSeat:O})}if("EGDSBasicTraveler"===(null===(k=e.infantsOnLap)||void 0===k?void 0:k.__typename)){var B=e.infantsOnLap;return pe(ve({},e),{infantsOnLap:pe(ve({},B),{count:pe(ve({},B.count),{value:n.count})})})}return e;default:return e}}(e.travelers,n),r=Va(e.error?e.error:null,a,null!==(t=e.validations)&&void 0!==t?t:[]);return pe(ve({},e),{travelers:a,error:r});case"UPDATE_CHILD_AGE":var l,i=function(e,n){var t,a,r;return"EGDSTravelerChildren"===(null===(t=e.children)||void 0===t?void 0:t.__typename)&&""===n.infantType?pe(ve({},e),{children:pe(ve({},e.children),{ages:e.children.ages.map((function(e,t){return"EGDSTravelerChildAgeSelect"===e.__typename&&n.childIndex===t?pe(ve({},e),{value:n.childAge}):ve({},e)}))})}):"EGDSTravelerInfant"===(null===(a=e.infantsInSeat)||void 0===a?void 0:a.__typename)&&"infants_in_seat"===n.infantType?pe(ve({},e),{infantsInSeat:pe(ve({},e.infantsInSeat),{ages:e.infantsInSeat.ages.map((function(e,t){return"EGDSTravelerChildAgeSelect"===e.__typename&&n.childIndex===t?pe(ve({},e),{value:n.childAge}):ve({},e)}))})}):"EGDSTravelerInfant"===(null===(r=e.infantsOnLap)||void 0===r?void 0:r.__typename)&&"infants_on_lap"===n.infantType?pe(ve({},e),{infantsOnLap:pe(ve({},e.infantsOnLap),{ages:e.infantsOnLap.ages.map((function(e,t){return"EGDSTravelerChildAgeSelect"===e.__typename&&n.childIndex===t?pe(ve({},e),{value:n.childAge}):ve({},e)}))})}):e}(e.travelers,n),o=Va(e.error?e.error:null,i,null!==(l=e.validations)&&void 0!==l?l:[]);return pe(ve({},e),{travelers:i,error:o});case"UPDATE_PETS_FILTER":var c,u=function(e,n){var t;if("EGDSBasicCheckBox"===(null===(t=e.pets)||void 0===t?void 0:t.__typename)){var a=n.checked?"CHECKED":"UNCHECKED";return pe(ve({},e),{pets:pe(ve({},e.pets),{state:a})})}return e}(e.travelers,n),d=Va(e.error?e.error:null,u,null!==(c=e.validations)&&void 0!==c?c:[]);return pe(ve({},e),{travelers:u,error:d});case"SHOW_ERROR":if(e.error){var s=e.error,m={message:s.message,type:s.type,displayConfirmation:!0,errorCount:s.errorCount,errorSummary:s.errorSummary};return pe(ve({},e),{error:m})}return ve({},e);case"UPDATE_TRAVELERS_BULK":var v,p=n.adultTravelerCounts,f=n.childTravelerCounts,E=n.childrenAges,g=n.petCounts,y=function(e,n,t,a){var r;if("EGDSTravelerChildren"===(null===(r=a.children)||void 0===r?void 0:r.__typename)){var l=a.children;return pe(ve({},a),{adults:pe(ve({},a.adults),{value:e}),children:pe(ve({},a.children),{count:pe(ve({},a.children.count),{value:n}),ages:t.length?t.map((function(e){var n;return pe(ve({},null===(n=l)||void 0===n?void 0:n.ageTemplate),{value:e})})):[]})})}return a}(p,f,E,e.travelers),S=function(e,n){var t;if("EGDSBasicCheckBox"===(null===(t=e.pets)||void 0===t?void 0:t.__typename)){var a=n>0?"CHECKED":"UNCHECKED";return pe(ve({},e),{pets:pe(ve({},e.pets),{state:a})})}return e}(y,g),_=Va(e.error?e.error:null,y,null!==(v=e.validations)&&void 0!==v?v:[]);return pe(ve({},e),{travelers:S,error:_});default:return e}},za=a.createContext({state:{}}),Ya=function(e){var n=e.children,t=e.travelers,r=e.validations,l=e.skipQuery,i=fe(a.useReducer(Ha,{travelers:t,validations:r}),2),o=i[0],c=i[1];a.useEffect((function(){l||c({type:"RESET_STATE",state:{travelers:t,validations:r}})}),[l]);var u=a.useMemo((function(){return{state:o,dispatch:c}}),[o,c]);return a.createElement(za.Provider,{value:u},n)},ja=function(){return a.useContext(za)},$a=(0,r.Ps)(Ye(),Ra.fragment),Ka=function(e){var n,t=e.childIndex,r=e.roomIndex,l=e.isInfant,i=e.infantType,o=e.childAgeRef,c=e.data,u=wa(),d=ja(),s=void 0!==r,v=c.labelTemplate,p=c.options,f=c.egdsElementId,E=c.value,g=(0,m.useClickTracker)(),y="child-".concat(f).concat(s?"-".concat(r):"","-").concat(t),S="age-".concat(f).concat(s?"-".concat(r):"","-").concat(t),_=t+1,h=null!=E?E:"",D=Number.isInteger(h),T=(s?u.state:d.state).error,C="CHILD_AGE_REQUIRED"===(null===(n=T)||void 0===n?void 0:n.type)&&T.displayConfirmation,b=T&&"CHILD_AGE_REQUIRED"===T.type&&!D&&C?T.message:"",I="EGDSBasicLocalizedText"===v.__typename&&1===v.models.length?In(v.template,v.models[0].key,_.toString()):"";return a.createElement(Y.e,{domRef:o,invalid:b,label:I,id:S,name:y,onChange:function(e){var n,a,o=parseInt(e.target.value,10),c=p.find((function(n){return"EGDSBasicOption"===n.__typename&&n.value===e.target.value}));if(c&&"EGDSBasicOption"===(null===(n=c)||void 0===n?void 0:n.__typename)&&(null===(a=c)||void 0===a?void 0:a.changeAnalytics)){var m=c.changeAnalytics,v=m.referrerId,f=m.linkName;g(v,f)}Number.isNaN(o)||(s?u.dispatch({type:"UPDATE_CHILD_AGE",roomIndex:r,childIndex:t,childAge:o,isInfant:l,infantType:i}):d.dispatch({type:"UPDATE_CHILD_AGE",childIndex:t,childAge:o,infantType:i}))},value:h,emptyState:"string"==typeof h,required:!0},p.map((function(e){return"EGDSBasicOption"===e.__typename&&a.createElement(Ra,{key:"".concat(y,"-").concat(e.value),data:e})})))};Ka.displayName="EGDSTravelerChildAgeSelectFragment",(Ka.fragment=$a).__typename="EGDSTravelerChildAgeSelect";var Qa=(0,r.Ps)(je()),qa=(0,r.Ps)($e(),Qa),Xa=(0,r.Ps)(Ke(),Qa),Za=(0,r.Ps)(Qe(),Qa),Ja=((0,r.Ps)(qe(),qa,Xa,Za),(0,r.Ps)(Xe(),qa)),er=function(e,n){var t;if("EGDSBasicLocalizedText"===(null===(t=e)||void 0===t?void 0:t.__typename)){var a=(n+1).toString();return In(e.template,e.models[0].key,a)}return""},nr=function(e){var n=e.roomIndex,t=e.travelersType,r=e.data,l=r.label,i=r.max,o=r.min,c=r.subLabel,u=r.value,d=wa(),s=ja(),v=(0,m.useClickTracker)(),p=void 0!==n,f=a.createRef(),E="EGDSTravelerStepInput"===r.__typename&&(p?{incrementText:er(r.increaseTextTemplate,n),decrementText:er(r.decreaseTextTemplate,n)}:{incrementText:r.increaseText||"",decrementText:r.decreaseText||""});a.useEffect((function(){var e;"adults"!==t||d.state.error||(null===(e=f.current)||void 0===e||e.focus())}),[f]);var g="EGDSTravelerStepInput"===r.__typename?"".concat(r.egdsElementId).concat(p?"-".concat(n):""):"";return a.createElement(j.Q,pe(ve({},E),{label:l,incrementId:"".concat(g,"-increase"),decrementId:"".concat(g,"-decrease"),min:null!=o?o:0,max:null!=i?i:0,onChange:function(e){var a=parseInt(e.target.value,10);if("EGDSTravelerStepInput"===r.__typename){var l=r.increaseAnalytics,i=r.decreaseAnalytics;a>u&&l.referrerId&&l.linkName?v(l.referrerId,r.increaseAnalytics.linkName):i.referrerId&&i.linkName&&v(i.referrerId,r.decreaseAnalytics.linkName)}Number.isNaN(a)||(p?d.dispatch({type:"UPDATE_TRAVELERS_COUNT",travelersType:t,roomIndex:n,count:a}):s.dispatch({type:"UPDATE_TRAVELERS_COUNT",travelersType:t,count:a}))},value:u,description:null!=c?c:"",id:g,incrementRef:f}))};nr.displayName="EGDSTravelerStepInputFragment",(nr.fragment=Ja).__typename="EGDSTravelerStepInput";var tr=(0,r.Ps)(Ze(),nr.fragment,Ka.fragment),ar=function(e){var n,t=e.data,r=e.childAgeRef,l=e.roomIndex,i=e.travelersType,o=t.count,c=t.__typename,u="infants"===i||"infants_on_lap"===i||"infants_in_seat"===i,s=("EGDSTravelerInfant"!==t.__typename&&"EGDSTravelerChildren"!==t.__typename||!t.ages?[]:t.ages).findIndex((function(e){return"EGDSTravelerChildAgeSelect"===e.__typename&&null===e.value}));return a.createElement(a.Fragment,null,o&&"EGDSTravelerStepInput"===o.__typename&&a.createElement(nr,{travelersType:i,roomIndex:l,data:o}),("EGDSTravelerChildren"===c||"EGDSTravelerInfant"===c)&&a.createElement(A.v,{wrap:"wrap"},null===(n=t.ages)||void 0===n?void 0:n.map((function(e,n){return"EGDSTravelerChildAgeSelect"===e.__typename&&a.createElement(a.Fragment,{key:n},a.createElement(d.l,{padding:{blockstart:"two",inlineend:"two"}},a.createElement(F.t,{minWidth:"half_width"},a.createElement("div",null,a.createElement(Ka,{key:n,childIndex:n,roomIndex:l,isInfant:u,infantType:u?i:"",data:e,childAgeRef:s===n?r:void 0})))))}))))};ar.displayName="EGDSTravelersChildren",(ar.fragment=tr).__typename="EGDSTravelerChildren";var rr=function(e){var n,t=e.data,r=ja(),l=r.state,i=r.dispatch,o=l.travelers.pets;if("EGDSBasicCheckBox"!==(null===(n=o)||void 0===n?void 0:n.__typename))return null;var c="CHECKED"===o.state;return a.createElement(Et,{data:t,checked:c,onChange:function(e){i({type:"UPDATE_PETS_FILTER",checked:e.currentTarget.checked})}})},lr=(0,r.Ps)(Je(),Et.fragment,ar.fragment,nr.fragment),ir=function(e){var n,t,r,l,i,o,c,u=e.childAgeRef,s=e.infantsOnLapRef,m=e.infantsInSeatRef,v=e.data,p=v.adults,f=v.children,E=v.pets,g=v.infantsInSeat,y=v.infantsOnLap;return a.createElement(a.Fragment,null,"EGDSTravelerStepInput"===p.__typename&&a.createElement(d.l,{padding:{blockstart:"two"}},a.createElement("div",null,a.createElement(nr,{travelersType:"adults",data:p}))),("EGDSTravelerChildren"===(null===(n=f)||void 0===n?void 0:n.__typename)||"EGDSBasicTraveler"===(null===(t=f)||void 0===t?void 0:t.__typename))&&a.createElement(d.l,{padding:{blockstart:"two"}},a.createElement("div",null,a.createElement(ar,{travelersType:"children",childAgeRef:u,data:f}))),("EGDSTravelerInfant"===(null===(r=y)||void 0===r?void 0:r.__typename)||"EGDSBasicTraveler"===(null===(l=y)||void 0===l?void 0:l.__typename))&&a.createElement(d.l,{padding:{blockstart:"two"}},a.createElement("div",null,a.createElement(ar,{travelersType:"infants_on_lap",childAgeRef:s,data:y}))),("EGDSTravelerInfant"===(null===(i=g)||void 0===i?void 0:i.__typename)||"EGDSBasicTraveler"===(null===(o=g)||void 0===o?void 0:o.__typename))&&a.createElement(d.l,{padding:{blockstart:"two"}},a.createElement("div",null,a.createElement(ar,{travelersType:"infants_in_seat",childAgeRef:m,data:g}))),"EGDSBasicCheckBox"===(null===(c=E)||void 0===c?void 0:c.__typename)&&a.createElement(d.l,{padding:{blockstart:"two"}},a.createElement("div",null,a.createElement(rr,{data:E}))))};ir.displayName="EGDSTravelersFragment",(ir.fragment=lr).__typename="EGDSTravelers";var or=(0,r.Ps)(en(),Gn.fragment,ka.fragment,Aa.fragment,ir.fragment),cr=function(e){var n,t=e.data,r=e.onSubmit,l=t.doneButton,i=ja().state,o=a.useRef(null),c=a.useRef(null),u=a.useRef(null),m=i.travelers,v=i.error,p=o.current?o:c.current?c:u;return a.createElement(A.v,{direction:"column"},(null===(n=v)||void 0===n?void 0:n.displayConfirmation)&&a.createElement(d.l,{padding:{blockstart:"four"}},a.createElement("div",null,a.createElement(Gn,{data:v.errorSummary,inputErrorRef:p,errorCount:v.errorCount}))),a.createElement("section",null,a.createElement(ir,{data:m,childAgeRef:o,infantsOnLapRef:c,infantsInSeatRef:u})),"UIPrimaryButton"===l.__typename&&a.createElement(s.Viewport,null,a.createElement(s.ViewMedium,null,a.createElement(d.l,{padding:{blockstart:"four",blockend:"three"}},a.createElement(A.v,{justifyContent:"end"},a.createElement(F.t,null,a.createElement(ka,{isFullWidth:!1,onClick:function(){r&&r("menu")},data:l,size:g.xY.MEDIUM})))))))};cr.displayName="EGDSBasicTravelerSelectorFragment",(cr.fragment=or).__typename="EGDSBasicTravelerSelector";var ur,dr=(0,r.Ps)(nn()),sr=(me(ur={},"EXTERNAL","_blank"),me(ur,"INTERNAL","_self"),ur),mr=function(e){var n=e.data,t=n.action,r=t.analytics,l=t.resource,i=t.target,o=t.accessibility,c=n.text,u=n.icon,d=n.iconPosition,s=(0,m.useClickTracker)(),v=a.useCallback((function(){s(r.referrerId,r.linkName)}),[s,r]);return a.createElement(q.M,{onClickCapture:v,inline:!0},a.createElement("a",{target:sr[i],href:l.value},u&&"TRAILING"!==d&&a.createElement(y.fR,{name:u.id}),c,u&&"TRAILING"===d&&a.createElement(y.fR,{name:u.id}),o&&a.createElement(Q.b,{className:"is-visually-hidden"},o)))};mr.fragment=dr,mr.displayName="EGDSStandardLink";var vr=(0,r.Ps)(tn(),mr.fragment),pr=function(e){var n,t,r=e.data,l=wa(),i=l.state,o=l.dispatch,c=i.rooms.reduce((function(e,n){var a,r;return e+(null!==(t=null===(r=n.infants)||void 0===r||null===(a=r.count)||void 0===a?void 0:a.value)&&void 0!==t?t:0)}),0),u=null===(n=i.infantSeatSelection)||void 0===n?void 0:n.value;if("EGDSCardinalLocalizedText"!==r.labelTemplate.__typename||0===c||!u)return null;var s=r.labelTemplate,m=r.options,v=r.airlineAgeRule,p=r.groupName,f=1===c?s.text:s.templates[1].template;return a.createElement(A.v,{direction:"column"},a.createElement(F.t,null,a.createElement(Q.b,null,f)),a.createElement(F.t,null,a.createElement($.s,{group:p,selected:u,onChange:function(e){o({type:"UPDATE_INFANT_SEAT_SELECTION",value:e.currentTarget.value})},defaultChecked:!0},m.map((function(e,n){return a.createElement(d.l,{key:"radioInfant".concat(n+1),margin:0===n?{blockstart:"three"}:void 0},a.createElement("div",null,a.createElement(K.n,{id:e.value,value:e.value},e.label)))})))),a.createElement(F.t,null,a.createElement(d.l,{padding:{blockstart:"two",blockend:"six"}},a.createElement("div",null,a.createElement(mr,{data:v})))))};pr.displayName="EGDSTravelerInfantSeatSelect",(pr.fragment=vr).__typename="EGDSTravelerInfantSeatSelection";var fr=(0,r.Ps)(an(),nr.fragment,ar.fragment,Aa.fragment),Er=function(e){var n,t,r=e.roomIndex,l=e.childAgeRef,i=e.data,o=i.adults,c=i.children,u=i.infants,s=i.label,m=i.removeRoomButton,v=wa(),p=v.state,f=v.dispatch,E="EGDSTravelerChildren"===c.__typename&&(null===(n=c.ages)||void 0===n?void 0:n.some((function(e){return"EGDSTravelerChildAgeSelect"===e.__typename&&null===e.value}))),g=r+1;return a.createElement(a.Fragment,null,"EGDSBasicLocalizedText"===s.__typename&&1===s.models.length&&a.createElement(L.y,{size:7},In(s.template,s.models[0].key,g.toString())),"EGDSTravelerStepInput"===o.__typename&&a.createElement(d.l,{padding:{blockstart:"two"}},a.createElement("div",null,a.createElement(nr,{travelersType:"adults",roomIndex:r,data:o}))),"EGDSTravelerChildren"===c.__typename&&a.createElement(d.l,{padding:{blockstart:"two"}},a.createElement("div",null,a.createElement(ar,{travelersType:"children",roomIndex:r,childAgeRef:l,data:c}))),"EGDSTravelerInfant"===(null===(t=u)||void 0===t?void 0:t.__typename)&&a.createElement(d.l,{padding:{blockstart:"two"}},a.createElement("div",null,a.createElement(ar,{travelersType:"infants",roomIndex:r,childAgeRef:E?void 0:l,data:u}))),p.rooms.length>1&&m&&"UITertiaryButton"===m.__typename&&a.createElement(d.l,{padding:{blockstart:"two"}},a.createElement(A.v,{justifyContent:"end"},a.createElement(F.t,null,a.createElement(Aa,{onClick:function(){f({type:"REMOVE_ROOM",roomIndex:r})},data:m})))))};Er.displayName="EGDSTravelerSelectorRoomFragment",(Er.fragment=fr).__typename="EGDSTravelerSelectorRoom";var gr=(0,r.Ps)(rn(),Gn.fragment,ka.fragment,Aa.fragment,Er.fragment,pr.fragment),yr=function(e){var n,t=e.data,r=e.onSubmit,l=t.addAnotherRoomButton,i=t.doneButton,o=t.maxRoomCount,c=t.infantSeatSelection,u=wa(),m=u.state,v=u.dispatch,p=a.useRef(null),f=m.rooms,E=m.error,y=fe(a.useState(f),2)[1];if(a.useEffect((function(){y(f)}),[f]),f.length<1)return null;var S=pe(ve({},l),{disabled:!!o&&f.length>=o}),_=f.findIndex((function(e){var n,t,a,r,l;return"EGDSTravelerChildren"===e.children.__typename&&(null===(n=e.children)||void 0===n?void 0:n.ages)&&(null===(t=e.children)||void 0===t?void 0:t.ages.some((function(e){return"EGDSTravelerChildAgeSelect"===e.__typename&&null===e.value})))||null!==(l="EGDSTravelerInfant"===(null===(a=e.infants)||void 0===a?void 0:a.__typename)&&(null===(r=e.infants)||void 0===r?void 0:r.ages.some((function(e){return"EGDSTravelerChildAgeSelect"===e.__typename&&null===e.value}))))&&void 0!==l&&l})),h="UIPrimaryButton"===i.__typename&&a.createElement(d.l,{padding:{blockstart:"four",blockend:"three"}},a.createElement(A.v,{justifyContent:"end"},a.createElement(F.t,null,a.createElement(ka,{isFullWidth:!1,onClick:function(){r&&r("menu")},data:i,size:g.xY.MEDIUM}))));return a.createElement(A.v,{direction:"column"},(null===(n=E)||void 0===n?void 0:n.displayConfirmation)&&a.createElement(Gn,{data:E.errorSummary,inputErrorRef:p,errorCount:E.errorCount}),a.createElement("section",null,f.map((function(e,n){var t;return a.createElement(d.l,{padding:{blockstart:(null===(t=E)||void 0===t?void 0:t.displayConfirmation)?"two":"unset"},key:n},a.createElement("div",null,a.createElement(Er,{roomIndex:n,data:e,childAgeRef:_===n?p:void 0})))})),"UITertiaryButton"===S.__typename&&a.createElement(d.l,{padding:{small:{blockstart:"two",blockend:"sixteen"},medium:{blockend:"unset"}}},a.createElement(A.v,{justifyContent:"end"},a.createElement(F.t,null,a.createElement(Aa,{onClick:function(){v({type:"ADD_ROOM"})},data:S})))),c&&a.createElement(d.l,{padding:{blockstart:"twelve"}},a.createElement("div",null,a.createElement(pr,{data:c})))),a.createElement(s.Viewport,null,a.createElement(s.ViewMedium,null,a.createElement("div",null,h))))};yr.displayName="EGDSTravelerSelectorFragment",(yr.fragment=gr).__typename="EGDSRoomsTravelerSelector";var Sr=function(e,n){var t=function(e){return Object.prototype.toString.call(e).slice(8,-1).toLowerCase()},a=t(e);return a===t(n)&&("array"===a?function(){if(e.length!==n.length)return!1;for(var t=0;t<e.length;t+=1)if(!Sr(e[t],n[t]))return!1;return!0}():"object"===a?function(){var t=Object.keys(e);if(t.length!==Object.keys(n).length)return!1;for(var a=0;a<t.length;a+=1){var r=t[a];if(Object.prototype.hasOwnProperty.call(e,r)&&!Sr(e[r],n[r]))return!1}return!0}():"function"===a?e.toString()===n.toString():e===n)},_r=function(e,n){var t=e[arguments.length>2&&void 0!==arguments[2]&&arguments[2]?"secondaryTemplates":"templates"].find((function(e){return e.category===Nn(n)}));return t?In(t.template,e.models[0].key,n.toString()):""},hr="EGDSSearchFormTravelersField-",Dr="".concat(hr,"Adult"),Tr="".concat(hr,"ChildrenAge"),Cr="".concat(hr,"InfantInSeatAge"),br="".concat(hr,"InfantOnLapAge"),Ir="".concat(hr,"Pets"),kr=function(e){var n=e.ages,t=e.prefix;return a.createElement(a.Fragment,null,n.map((function(e,n){if("EGDSTravelerChildAgeSelect"===e.__typename){var r,l=n+1,i="".concat(t,"-").concat(l);return a.createElement("input",{key:n,type:"hidden","data-stid":i,name:i,value:null!==(r=e.value)&&void 0!==r?r:""})}return null})))},Gr=function(e){var n,t,r,l,i,o,u,v,p,f=e.label,E=e.leftIcon,g=e.action,y=e.labelTemplate,S=e.readOnly,h=e.isAnyPetAllowed,D=e.retainTravelerOnDialogDismiss,T=e.onOpenTravelerField,C=e.onCloseTravelerField,b=g.analytics,I=g.travelerSelector,k=I.doneButton,G=(0,m.useClickTracker)(),A=ja(),F=A.dispatch,R=A.state,x=(0,c.m)().state,L=fe((0,M.useDialog)("travelerSelectorDialog"),3),P=L[0],N=L[1],O=L[2],B=a.useRef(null),w=fe(a.useState(!1),2),U=w[0],W=w[1],V=fe(a.useState(R),2),H=V[0],z=V[1],Y=fe(a.useState(null!==(p=null===(n=y)||void 0===n?void 0:n.text)&&void 0!==p?p:""),2),j=Y[0],$=Y[1],K=R.error,Q=(0,_.i)(I.__typename,(function(e){return e})),q=function(e){var n,t,a,r,l,i,o,c,u,d,s,m,v,p=(null!==(d=null===(n=e.adults)||void 0===n?void 0:n.value)&&void 0!==d?d:0)+(null!==(s=null===(a=e.children)||void 0===a||null===(t=a.count)||void 0===t?void 0:t.value)&&void 0!==s?s:0)+(null!==(m=null===(l=e.infantsInSeat)||void 0===l||null===(r=l.count)||void 0===r?void 0:r.value)&&void 0!==m?m:0)+(null!==(v=null===(o=e.infantsOnLap)||void 0===o||null===(i=o.count)||void 0===i?void 0:i.value)&&void 0!==v?v:0),f="EGDSBasicCheckBox"===(null===(u=e)||void 0===u||null===(c=u.pets)||void 0===c?void 0:c.__typename)&&"CHECKED"===e.pets.state;return _r(y,p,f)};if(a.useEffect((function(){var e;if(void 0!==h&&F({type:"UPDATE_PETS_FILTER",checked:h}),"EGDSBasicCheckBox"===(null===(e=H.travelers.pets)||void 0===e?void 0:e.__typename)){var n=h?"CHECKED":"UNCHECKED",t=pe(ve({},H),{travelers:pe(ve({},H.travelers),{pets:pe(ve({},H.travelers.pets),{state:n})})});z(t)}}),[h]),a.useEffect((function(){$(q(R.travelers))}),[R.travelers]),a.useEffect((function(){var e,n,t,a,r,l,i,o,c,u,d,s,m,v,p;(null===(n=x.travelers)||void 0===n||null===(e=n.adultTravelerCounts)||void 0===e?void 0:e.length)&&F({type:"UPDATE_TRAVELERS_BULK",adultTravelerCounts:(null===(a=x.travelers)||void 0===a||null===(t=a.adultTravelerCounts)||void 0===t?void 0:t.length)?null===(r=x.travelers)||void 0===r?void 0:r.adultTravelerCounts[0]:0,childTravelerCounts:(null===(i=x.travelers)||void 0===i||null===(l=i.childTravelerCounts)||void 0===l?void 0:l.length)?null===(o=x.travelers)||void 0===o?void 0:o.childTravelerCounts[0]:0,childrenAges:(null===(u=x.travelers)||void 0===u||null===(c=u.childrenAges)||void 0===c?void 0:c.length)&&(null===(d=x.travelers)||void 0===d?void 0:d.childrenAges[0].length)?null===(s=x.travelers)||void 0===s?void 0:s.childrenAges[0]:[],petCounts:(null===(v=x.travelers)||void 0===v||null===(m=v.petCounts)||void 0===m?void 0:m.length)?null===(p=x.travelers)||void 0===p?void 0:p.petCounts[0]:0})}),[x.travelers]),"EGDSBasicTravelerSelector"!==I.__typename)return null;var le,ie,oe=function(){T&&T(),W((function(e){return!e})),b.referrerId&&b.linkName&&G(b.referrerId,b.linkName)},ce=(le=se((function(){return Se(this,(function(e){switch(e.label){case 0:return R.error?[4,F({type:"SHOW_ERROR"})]:[3,2];case 1:e.sent(),W(!0),e.label=2;case 2:return R.error||Sr(H,R)||(z(R),Pn("submit",Q)),[2]}}))})),function(){return le.apply(this,arguments)}),ue=function(e){var n=q(e);Pn(n,Q),$(n)},de=function(e){var n;Sr(H,e)||(ue(e.travelers),z(e)),null===(n=B.current)||void 0===n||n.focus(),N.closeDialog()},me=function(e){var n,t,a;if(K&&"CHILD_AGE_REQUIRED"===K.type&&(F({type:"SHOW_ERROR"}),null===(n=K.errorSummary)||void 0===n?void 0:n.impressionAnalytics)){var r="".concat(K.errorSummary.impressionAnalytics.referrerId,".For.NoChildAgeSubmit"),l=K.errorSummary.impressionAnalytics.linkName||"";G(r,l)}K||("menu"===e?(Sr(H,t=R)||(ue(t.travelers),z(t)),W((function(e){return!e})),null===(a=B.current)||void 0===a||a.focus()):de(R))},Ee=R.travelers,ge=Ee.adults,ye=Ee.children,_e=Ee.pets,he=Ee.infantsInSeat,De=Ee.infantsOnLap;return a.createElement(a.Fragment,null,a.createElement(s.Viewport,null,a.createElement(s.ViewLarge,null,a.createElement(Z.p,{isOpen:U,onTriggerClick:oe,onDismiss:ce},a.createElement(J.H,null,a.createElement(X.o,{label:f,value:j,icon:E,"data-stid":"open-room-picker",disabled:S,domRef:B})),a.createElement(ee.a,{autoPosition:!0,position:ee.d.RIGHT,width:375},a.createElement(d.l,{padding:{inline:"six"}},a.createElement("div",null,a.createElement(cr,{onSubmit:me,data:I})))))),a.createElement(s.ViewMedium,null,a.createElement(Z.p,{isOpen:U,onTriggerClick:oe,onDismiss:ce},a.createElement(J.H,null,a.createElement(X.o,{label:f,value:j,icon:E,"data-stid":"open-room-picker",disabled:S,domRef:B})),a.createElement(ee.a,{autoPosition:!0,position:ee.d.LEFT,width:375},a.createElement(d.l,{padding:{inline:"six"}},a.createElement("div",null,a.createElement(cr,{onSubmit:me,data:I})))))),a.createElement(s.ViewSmall,null,a.createElement(a.Fragment,null,a.createElement(X.o,{label:f,value:j,onClick:function(){T&&T(),N.openDialog(),b.referrerId&&b.linkName&&G(b.referrerId,b.linkName)},icon:E,"data-stid":"open-room-picker",disabled:S,domRef:B}),a.createElement(ne.U,{isVisible:P},a.createElement(O,null,a.createElement(te.K,{type:"full",triggerRef:B,isVisible:P,returnFocusOnClose:!0},a.createElement(re.b,{toolbarTitle:I.title,navigationContent:{navType:"close",navIconLabel:"UIPrimaryButton"===I.closeButton.__typename&&null!==(ie=I.closeButton.accessibility)&&void 0!==ie?ie:"",onClick:function(){if(C&&C(s.ViewSizes.SMALL),("UIPrimaryButton"===I.closeButton.__typename||"UITertiaryButton"===I.closeButton.__typename)&&I.closeButton.analytics){var e=I.closeButton.analytics,n=e.referrerId,t=e.linkName;G(n,D&&!K?"Travelers results updated":t)}var a;if(D&&K&&"CHILD_AGE_REQUIRED"===K.type){if(F({type:"SHOW_ERROR"}),null===(a=K.errorSummary)||void 0===a?void 0:a.impressionAnalytics){var r="".concat(K.errorSummary.impressionAnalytics.referrerId,".For.NoChildAgeSubmit"),l=K.errorSummary.impressionAnalytics.linkName||"";G(r,l)}}else D&&!K?de(R):(F({type:"RESET_STATE",state:H}),N.closeDialog())}}}),a.createElement(ae.z,{padded:!1},a.createElement(d.l,{padding:{blockstart:"four",blockend:"sixteen",inline:"six"}},a.createElement("div",null,a.createElement(_.$,{hasRequiredFieldIndicator:!0},a.createElement(cr,{data:I}))))),"UIPrimaryButton"===k.__typename&&a.createElement(ka,{floating:!0,onClick:me,data:k}))))))),a.createElement(a.Fragment,null,a.createElement("input",{type:"hidden","data-stid":"".concat(Dr),name:"".concat(Dr),value:ge.value}),"EGDSTravelerChildren"===(null===(t=ye)||void 0===t?void 0:t.__typename)&&ye.ages&&a.createElement(kr,{ages:ye.ages,prefix:Tr}),"EGDSBasicTraveler"===(null===(r=ye)||void 0===r?void 0:r.__typename)&&a.createElement("input",{type:"hidden","data-stid":"".concat(Tr),name:"".concat(Tr),value:ye.count.value}),"EGDSTravelerInfant"===(null===(l=he)||void 0===l?void 0:l.__typename)&&he.ages&&a.createElement(kr,{ages:he.ages,prefix:Cr}),"EGDSBasicTraveler"===(null===(i=he)||void 0===i?void 0:i.__typename)&&a.createElement("input",{type:"hidden","data-stid":"".concat(Cr),name:"".concat(Cr),value:he.count.value}),"EGDSTravelerInfant"===(null===(o=De)||void 0===o?void 0:o.__typename)&&De.ages&&a.createElement(kr,{ages:De.ages,prefix:br}),"EGDSBasicTraveler"===(null===(u=De)||void 0===u?void 0:u.__typename)&&a.createElement("input",{type:"hidden","data-stid":"".concat(br),name:"".concat(br),value:De.count.value}),"EGDSBasicCheckBox"===(null===(v=_e)||void 0===v?void 0:v.__typename)&&a.createElement("input",{type:"hidden",name:"".concat(Ir),value:_e.state})))},Ar="EGDSSearchFormTravelersField",Fr="".concat(Ar,"-Adult"),Rr="".concat(Ar,"-ChildrenAge"),xr="".concat(Ar,"-InfantInSeatAge"),Lr="".concat(Ar,"-InfantOnLapAge"),Pr=function(e){var n,t,r=e.label,l=e.leftIcon,i=e.action,o=e.labelTemplate,u=e.readOnly,v=e.onOpenTravelerField,p=i.analytics,f=i.travelerSelector,E=f.doneButton,g=(0,m.useClickTracker)(),y=wa(),S=y.dispatch,h=y.state,D=(0,c.m)().state,T=h.error,C=fe((0,M.useDialog)("travelerSelectorDialog"),3),b=C[0],I=C[1],k=C[2],G=a.useRef(null),A=fe(a.useState(!1),2),F=A[0],R=A[1],x=fe(a.useState(h),2),L=x[0],P=x[1],N=fe(a.useState(null!==(t=null===(n=o)||void 0===n?void 0:n.text)&&void 0!==t?t:""),2),O=N[0],B=N[1],w=(0,_.i)(f.__typename,(function(e){return e})),U=function(e){var n=e.reduce((function(e,n){var t,a,r,l,i,o,c,u;return e+(null!==(o=null===(t=n.adults)||void 0===t?void 0:t.value)&&void 0!==o?o:0)+(null!==(c=null===(r=n.children)||void 0===r||null===(a=r.count)||void 0===a?void 0:a.value)&&void 0!==c?c:0)+(null!==(u=null===(i=n.infants)||void 0===i||null===(l=i.count)||void 0===l?void 0:l.value)&&void 0!==u?u:0)}),0);return function(e){for(var n=arguments.length,t=new Array(n>1?n-1:0),a=1;a<n;a++)t[a-1]=arguments[a];var r=e.models,l=e.template,i=r.map((function(e,n){return"EGDSCardinalLocalizedText"===e.models.__typename?_r(e.models,t[n]):""}));return r.reduce((function(e,n,t){return In(e,n.key,i[t])}),l)}(o,e.length,n)};if(a.useEffect((function(){B(U(h.rooms)),"EGDSRoomsTravelerSelector"===i.travelerSelector.__typename&&i.travelerSelector.rooms[0].infants!==L.rooms[0].infants&&(S({type:"RESET_ROOMS",state:pe(ve({},h),{rooms:i.travelerSelector.rooms})}),P(pe(ve({},h),{rooms:i.travelerSelector.rooms})),B(U(i.travelerSelector.rooms)))}),[i.travelerSelector]),a.useEffect((function(){B(U(h.rooms))}),[h.rooms]),a.useEffect((function(){var e,n,t,a,r,l,o,c,u,d,s,m,v,p;"EGDSOpenTravelerSelectorAction"===(null===(e=i)||void 0===e?void 0:e.__typename)&&"EGDSRoomsTravelerSelector"===(null===(n=i)||void 0===n?void 0:n.travelerSelector.__typename)&&(null===(r=D)||void 0===r||null===(a=r.travelers)||void 0===a||null===(t=a.adultTravelerCounts)||void 0===t?void 0:t.length)&&S({type:"UPDATE_TRAVELERS_BULK",state:L,adultTravelerCounts:null!==(m=null===(o=D)||void 0===o||null===(l=o.travelers)||void 0===l?void 0:l.adultTravelerCounts)&&void 0!==m?m:[0],childTravelerCounts:null!==(v=null===(u=D)||void 0===u||null===(c=u.travelers)||void 0===c?void 0:c.childTravelerCounts)&&void 0!==v?v:[0],childrenAges:null!==(p=null===(s=D)||void 0===s||null===(d=s.travelers)||void 0===d?void 0:d.childrenAges)&&void 0!==p?p:[[]]})}),[D.travelers]),"EGDSRoomsTravelerSelector"!==f.__typename)return null;var W,V,H=function(){R((function(e){return!e})),v&&v(),g(p.referrerId,p.linkName)},z=(W=se((function(){return Se(this,(function(e){switch(e.label){case 0:return h.error?[4,S({type:"SHOW_ERROR"})]:[3,2];case 1:e.sent(),R(!0),e.label=2;case 2:return h.error||Sr(L,h)||(P(h),Pn("submit",w)),B(U(h.rooms)),[2]}}))})),function(){return W.apply(this,arguments)}),Y=function(e){var n=U(e);Pn(n,w),B(n)},j=function(e){var n;Sr(L,e)||(Y(e.rooms),P(e)),null===(n=G.current)||void 0===n||n.focus(),I.closeDialog()},$=function(e){T&&"CHILD_AGE_REQUIRED"===T.type&&(e&&e.preventDefault(),S({type:"SHOW_ERROR"}))},K=function(e){var n,t;$(),T||("menu"===e?(Sr(L,n=h)||(Y(n.rooms),P(n)),R((function(e){return!e})),null===(t=G.current)||void 0===t||t.focus()):j(h))};return a.createElement(a.Fragment,null,a.createElement(s.Viewport,null,a.createElement(s.ViewLarge,null,a.createElement(Z.p,{isOpen:F,onTriggerClick:H,onDismiss:z},a.createElement(J.H,null,a.createElement(X.o,{label:r,value:O,icon:l,"data-stid":"open-room-picker",disabled:u,domRef:G,className:"open-room-picker-observer-root"})),a.createElement(ee.a,{maxHeight:4e3,autoPosition:!0,position:ee.d.RIGHT,width:375},a.createElement(d.l,{padding:{inline:"six",blockstart:"two"}},a.createElement("div",{"data-stid":"rooms-traveler-selector-menu-container"},a.createElement(yr,{onSubmit:K,data:f})))))),a.createElement(s.ViewMedium,null,a.createElement(Z.p,{isOpen:F,onTriggerClick:H,onDismiss:z},a.createElement(J.H,null,a.createElement(X.o,{label:r,value:O,icon:l,"data-stid":"open-room-picker",disabled:u,domRef:G,className:"open-room-picker-observer-root"})),a.createElement(ee.a,{maxHeight:4e3,autoPosition:!0,position:ee.d.RIGHT,width:375,intersectionObserverRoot:".open-room-picker-observer-root"},a.createElement(d.l,{padding:{inline:"six",blockstart:"two"}},a.createElement("div",{"data-stid":"rooms-traveler-selector-menu-container"},a.createElement(yr,{onSubmit:K,data:f})))))),a.createElement(s.ViewSmall,null,a.createElement(a.Fragment,null,a.createElement(X.o,{label:r,value:O,onClick:function(){I.openDialog(),g(p.referrerId,p.linkName),v&&v(s.ViewSizes.SMALL)},icon:l,"data-stid":"open-room-picker",disabled:u,domRef:G}),a.createElement(ne.U,{isVisible:b},a.createElement(k,null,a.createElement(te.K,{isVisible:b,returnFocusOnClose:!0,type:"full",triggerRef:G},a.createElement(re.b,{toolbarTitle:f.title,navigationContent:{navType:"close",onClick:function(){if(("UIPrimaryButton"===f.closeButton.__typename||"UITertiaryButton"===f.closeButton.__typename)&&f.closeButton.analytics){var e=f.closeButton.analytics,n=e.referrerId,t=e.linkName;T||g(n,t)}$(),T||j(h)}}}),a.createElement(ae.z,null,a.createElement(_.$,{hasRequiredFieldIndicator:!0},a.createElement(yr,{data:f}))),(V=!0,"UIPrimaryButton"===E.__typename&&a.createElement(ka,{onClick:K,data:E,floating:V})))))))),h.rooms.map((function(e,n){var t,r,l,i=e.adults,o=e.children,c=e.infants,u=n+1;return a.createElement(a.Fragment,{key:n},a.createElement("input",{type:"hidden","data-stid":"".concat(Fr,"-").concat(u),name:"".concat(Fr,"-Room").concat(u),value:i.value}),"EGDSTravelerChildren"===o.__typename&&(null===(t=o.ages)||void 0===t?void 0:t.map((function(e,n){if("EGDSTravelerChildAgeSelect"===e.__typename){var t,r=n+1,l="".concat(Rr,"-Room").concat(u,"-Child").concat(r);return a.createElement("input",{key:n,type:"hidden","data-stid":l,name:l,value:null!==(t=e.value)&&void 0!==t?t:""})}return null}))),"EGDSTravelerInfant"===(null===(r=c)||void 0===r?void 0:r.__typename)&&(null===(l=c.ages)||void 0===l?void 0:l.map((function(e,n){if("EGDSTravelerChildAgeSelect"===e.__typename){var t,r,l=n+1,i="seat"===(null===(t=h.infantSeatSelection)||void 0===t?void 0:t.value)?xr:Lr,o="".concat(i,"-Room").concat(u,"-Infant").concat(l);return a.createElement("input",{key:n,type:"hidden","data-stid":o,name:o,value:null!==(r=e.value)&&void 0!==r?r:""})}return null}))))})))},Nr=(0,r.Ps)(ln(),cr.fragment,yr.fragment),Or=function(e){var n,t=e.data,r=e.skipQuery,l=e.isAnyPetAllowed,i=e.retainTravelerOnDialogDismiss,o=e.onOpenTravelerField,c=e.onCloseTravelerField,u=e.maxBookableTravelers,d=e.maxTravelersErrorMessage,s=fe(a.useState(t),2),m=s[0],v=s[1];a.useEffect((function(){var e;if("EGDSOpenTravelerSelectorAction"!==(null===(e=t.action)||void 0===e?void 0:e.__typename))v(t);else{var n,a,r=null!==(a=null===(n=t.action.travelerSelector.validations)||void 0===n?void 0:n.map((function(e){return"EGDSTravelersInputValidation"===e.__typename&&"MAX_TRAVELERS"===e.type&&u?pe(ve({},e),{maxCount:u,errorMessage:null!=d?d:""}):e})))&&void 0!==a?a:null;v(pe(ve({},t),{action:pe(ve({},t.action),{travelerSelector:pe(ve({},t.action.travelerSelector),{validations:r})})}))}}),[t,u,d]);var p=m.action,f=m.label,E=m.labelTemplate,g=m.leftIcon,y=m.readOnly;if("EGDSOpenTravelerSelectorAction"!==(null===(n=p)||void 0===n?void 0:n.__typename))return null;switch(p.travelerSelector.__typename){case"EGDSBasicTravelerSelector":var S,_,h=p.travelerSelector,D=h.travelers,T=h.validations,C=function(e,n){var t;return(null===(t=e)||void 0===t?void 0:t.pets)&&"EGDSBasicCheckBox"===e.pets.__typename?pe(ve({},e),{pets:pe(ve({},e.pets),{state:n?"CHECKED":"UNCHECKED"})}):e}(D,null!=l&&l);return C&&"EGDSCardinalLocalizedText"===(null===(S=E)||void 0===S?void 0:S.__typename)?a.createElement(Ya,pe(ve({},{travelers:C,validations:T}),{skipQuery:r}),a.createElement(Gr,{label:null!=f?f:"",leftIcon:null===(_=g)||void 0===_?void 0:_.id,action:p,labelTemplate:E,readOnly:y,isAnyPetAllowed:l,onOpenTravelerField:o,onCloseTravelerField:c,retainTravelerOnDialogDismiss:i})):null;case"EGDSRoomsTravelerSelector":var b,I;return"EGDSCompositeLocalizedText"===(null===(b=E)||void 0===b?void 0:b.__typename)?a.createElement(Ba,pe(ve({},p.travelerSelector),{infantSeatSelection:p.travelerSelector.infantSeatSelection,rooms:p.travelerSelector.rooms,validations:p.travelerSelector.validations,skipQuery:r}),a.createElement(Pr,{label:null!=f?f:"",leftIcon:null===(I=g)||void 0===I?void 0:I.id,action:p,labelTemplate:E,readOnly:y,onOpenTravelerField:o})):null;default:return null}};Or.displayName="EGDSSearchFormTravelersField",Or.fragment=Nr;var Br=function(e){var n=fe(a.useState(!1),2),t=n[0],r=n[1],l=e.children,i=e.paddedViewRow,o=void 0===i||i;return a.createElement(ce.n,{zIndex:500,onFixed:function(e){r(e)}},a.createElement(re.b,{elevation:t?"floating":"default",toolbarType:t?"standard":"transparent"},a.createElement(T.LG,{layout:"fullwidth",canvasTheme:t?"primary":"none",paddedViewRow:!!t||o},a.createElement(d.l,{padding:{block:"four"}},a.createElement("div",{"data-stid":"sticky-search-form"},l)))),!t&&a.createElement(d.l,{padding:"six"},a.createElement("div",null)))},wr=(0,r.Ps)(on(),Aa.fragment),Mr=function(e){var n=e.isSticky,t=e.children;return n?a.createElement(Br,null,t):a.createElement("div",null,t)},Ur=function(e){var n=e.data,t=e.children,r=e.stickyPlayback,l=e.display,i=e.onDisplayToggle,o=n.primary,c=n.secondaries,u=n.showAction,d=n.hideButton,s=(0,m.useClickTracker)();if("EGDSShowSearchFormAction"!==u.__typename||"UITertiaryButton"!==d.__typename)return null;var v,p=u.accessibility,f=u.analytics,E=u.icon,S=y.eZ[null!==(v=E.size)&&void 0!==v?v:"SMALL"];return a.createElement(Mr,{isSticky:r},l&&a.createElement(le.t,{border:!0,padded:!0},a.createElement(R.a,{space:"three",columns:[(0,oe.ZT)("0x","1fr"),"min-content"],alignItems:"center"},a.createElement(x.P,null,a.createElement("div",null,a.createElement(L.y,{size:6,tag:"h2",overflow:"truncate"},o.text),a.createElement(R.a,{columns:[(0,oe.wA)(c.length,"max-content")],space:"six"},c.map((function(e,n){return e&&"EGDSBasicLocalizedText"===e.__typename||e&&"EGDSCardinalLocalizedText"===e.__typename?a.createElement(x.P,{key:"secondary-".concat(n)},a.createElement(Q.b,{size:200,overflow:"truncate","aria-label":"EGDSBasicLocalizedText"===e.__typename?e.accessibilityTemplate:e.accessibilityText},a.createElement("span",{"aria-hidden":"true"},e.text))):a.createElement(x.P,{key:"secondary-".concat(n)},a.createElement(Q.b,{size:200,overflow:"truncate"},e&&"EGDSPlainText"===e.__typename?e.text:""))}))))),a.createElement(x.P,null,a.createElement(y.fR,{id:E.id,name:E.id,size:S}))),a.createElement(ie.o,null,a.createElement("button",{type:"button",onClick:function(){i(!1),s(f.referrerId,f.linkName)},"aria-label":p}))),a.createElement(A.v,{space:"three",direction:"column","aria-hidden":l,className:l?"is-visually-hidden is-hidden":""},t,a.createElement(Aa,{onClick:function(){if(i(!0),d.analytics){var e=d.analytics,n=e.referrerId,t=e.linkName;s(n,t)}},isFullWidth:!0,size:g.xY.MEDIUM,data:d})))};Ur.fragment=wr,Ur.displayName="EGDSSearchPlayback";var Wr=function(e){var n=e.children;return a.createElement(R.a,{columns:{small:2,medium:12}},a.createElement(x.P,{colSpan:{small:2,medium:4}},a.createElement("div",null,a.createElement(d.l,{padding:{blockstart:"three"}},a.createElement("div",null,n)))))},Vr=(0,r.Ps)(cn(),yt.fragment,ba.fragment),Hr="EGDSSoftPackagesPackageType",zr=function(e){var n,t=e.data,r=e.onProductSelect,l=e.setFieldRefByTypename,i=e.fieldError,o=e.currentSearchFormProduct,c=t.addCar,u=t.addFlight,d=t.origin,s=t.addHotel,m=function(e){r(e)},v=d&&"EGDSBasicCheckBox"===(null===(n=u)||void 0===n?void 0:n.__typename)&&"CHECKED"===u.state,p=d&&a.createElement(Wr,null,a.createElement(ba,{data:d,setFieldRefByTypename:l,fieldError:i})),f=function(e){var n;return"EGDSBasicCheckBox"===(null===(n=e)||void 0===n?void 0:n.__typename)&&"CHECKED"===e.state},E=function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"hotels";if("hotels"===n){var t=e.flightAdded,a=e.carAdded;if(t&&a)return"fhc";if(t)return"fh";if(a)return"hc"}else if("flights"===n){var r=e.hotelAdded,l=e.carAdded;if(r&&l)return"fhc";if(r)return"fh";if(l)return"fc"}return""}({flightAdded:f(u),carAdded:f(c),hotelAdded:f(s)},o),g=[s,u,c];return a.createElement(a.Fragment,null,a.createElement(A.v,{direction:"row",space:"three"},g.map((function(e){var n;return null!==e?a.createElement(F.t,{key:null===(n=e)||void 0===n?void 0:n.egdsElementId},a.createElement("div",null,a.createElement(yt,{data:e,onChange:m}))):null}))),v&&p,a.createElement("input",{"data-stid":Hr,type:"hidden",name:Hr,value:E}))};zr.fragment=Vr,zr.displayName="SoftPackages";var Yr,jr=function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return"string"==typeof e&&e.includes("-")?new Date("".concat(e,"T00:00:00")):new Date(new Date(e).setDate(new Date(e).getDate()+n))},$r=function(e){var n,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return null!==(n={"origin_select-input":"".concat(e,"Origin"),"destination_select-input":"".concat(e,"Destination"),"pick_up_location-input":"".concat(e,"PickUp"),"drop_off_location-input":"".concat(e,"DropOff"),"airport_location-input":"".concat(e,"Airport"),"hotel_location-input":"".concat(e,"Hotel")}[t])&&void 0!==n?n:e},Kr=function(e,n){var t,a,r=null!==(a=e.value)&&void 0!==a?a:"",l=""===r;if(n&&!l){var i,o=n.value===r;return{__typename:$r("EGDSSearchFormLocationField",null===(i=e)||void 0===i?void 0:i.id),isValid:!o,validations:{sameLocationSelected:o}}}return{__typename:$r("EGDSSearchFormLocationField",null===(t=e)||void 0===t?void 0:t.id),isValid:!l}},Qr=function(e){var n,t,a,r,l=e.startDateInput,i=e.endDateInput,o=e.config,c=jr(null!==(a=null===(n=l)||void 0===n?void 0:n.value)&&void 0!==a?a:""),u=jr(null!==(r=null===(t=i)||void 0===t?void 0:t.value)&&void 0!==r?r:""),d=0!==o.maxNumberOfDaysSelected&&u>=jr(c,o.maxNumberOfDaysSelected),s=c===u,m=u<c;return{__typename:"EGDSSearchFormDatePickerField",isValid:!d&&!s&&!m,validations:{maxDate:d,sameDate:s,endDateBeforeStartDate:m}}},qr=function(e){var n=parseInt(e.substr(0,2),10),t=parseInt(e.substr(2,2),10);return e.includes("PM")&&12!==n&&(n+=12),e.includes("AM")&&12===n&&(n-=12),{hours:n,minutes:t}},Xr=function(e){var n,t,a,r,l,i,o,c,u,d=arguments.length>1&&void 0!==arguments[1]&&arguments[1],s=e.location,m=e.dates,v=e.age,p=e.time,f=s.origin?[Kr(s.origin,d&&null!==(n=s.destination)&&void 0!==n?n:null),Qr(m)]:[Qr(m)];if(s.destination&&f.push(function(e,n){var t,a,r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],l=null!==(a=n.value)&&void 0!==a?a:"",i=""===l,o=!i,c=!1;return r||(c=!!e&&!i&&e.value===l,o=!i&&!c),{__typename:$r("EGDSSearchFormLocationField",null===(t=n)||void 0===t?void 0:t.id),isValid:o,validations:{sameLocationSelected:c}}}(s.origin,s.destination,d)),v&&f.push((l=null!==(r=(t=v).value)&&void 0!==r?r:"",i=""===l,o=parseInt(l,10),c=o>30&&o<70,u=!i&&!c,{__typename:$r("EGDSNumberInputField",null===(a=t)||void 0===a?void 0:a.id),isValid:u,validations:{ageRange:!!i||!c}})),p){var E,g,y,S=jr(null!==(y=m.startDateInput.value)&&void 0!==y?y:""),_=null===(g=p)||void 0===g||null===(E=g.pickup)||void 0===E?void 0:E.value;f.push(function(e,n){var t=new Date;if(t.getDate()===n.getDate()&&t.getMonth()===n.getMonth()&&t.getFullYear()===n.getFullYear()){var a=qr(e),r=new Date;return r.setHours(a.hours,a.minutes),{__typename:"EGDSBasicSelectPickUp",isValid:t<r}}return{__typename:"EGDSBasicSelectPickUp",isValid:!0}}(_,S),function(e,n,t){var a,r,l,i,o,c,u=t.startDateInput,d=t.endDateInput,s=jr(null!==(o=null===(a=u)||void 0===a?void 0:a.value)&&void 0!==o?o:""),m=jr(null!==(c=null===(r=d)||void 0===r?void 0:r.value)&&void 0!==c?c:""),v=null===(l=e)||void 0===l?void 0:l.value,p=null===(i=n)||void 0===i?void 0:i.value;if(!v||!p)return{__typename:"EGDSBasicSelectDropOff",isValid:!0};var f=qr(v);s.setHours(f.hours,f.minutes);var E=qr(p);m.setHours(E.hours,E.minutes);var g=m>s;return s.setTime(s.getTime()+72e5),{__typename:"EGDSBasicSelectDropOff",isValid:g&&m>=s}}(p.pickup,p.dropOff,m))}return f.filter((function(e){return!1===e.isValid}))},Zr=function(e){return function(n){return n.getAttribute("name")===e}},Jr="EGDSSearchFormLocationField",el="".concat(Jr,"-Location"),nl="".concat(Jr,"-RegionId"),tl="".concat(Jr,"-Lat"),al="".concat(Jr,"-Long"),rl="".concat(Jr,"-Values"),ll="".concat(Jr,"-Selected"),il="".concat(Jr,"-AmenitiesFacilitiesGroup"),ol="".concat(Jr,"-LocGroup"),cl="".concat(Jr,"-PropertiesGoodForGroup"),ul="".concat(Jr,"-PropertyTypeGroup"),dl="".concat(Jr,"-PropertyId"),sl="".concat(Jr,"-PropertyFilter"),ml="EGDSDateRangePicker",vl="EGDSDatePickerFlexibleNights",pl="".concat(ml,"-StartDate"),fl="".concat(ml,"-EndDate"),El="".concat(vl,"-Options"),gl="".concat(vl,"-Weekend"),yl="EGDSSearchFormTravelersField",Sl="".concat(yl,"-Adult-Room"),_l="".concat(yl,"-ChildrenAge-Room"),hl="EGDSSearchFormTravelersField",Dl="".concat(hl,"-Adult"),Tl="".concat(hl,"-ChildrenAge"),Cl="".concat(hl,"-Pets"),bl="SearchFormDurationSpanField",Il="".concat(bl,"-Min"),kl="".concat(bl,"-Max"),Gl="EGDSBasicPill",Al={ONE_WAY:"oneway",ROUND_TRIP:"roundtrip",MULTI_DESTINATION:"multi"},Fl=(me(Yr={},"LODGING",(function(e){var n=e.reduce((function(e,n){var t=n.name,a=n.value,r=n.checked;if(t.startsWith("".concat(el,"-destination")))return pe(ve({},e),{destination:a});if(t.startsWith("".concat(nl,"-destination"))&&"null"!==a)return pe(ve({},e),{regionId:a});if(t.startsWith("".concat(tl,"-destination"))&&a)return pe(ve({},e),{latLong:a});if(t.startsWith("".concat(al,"-destination"))&&a)return pe(ve({},e),{latLong:"".concat(e.latLong,",").concat(a)});if(t.startsWith("".concat(il,"-destination"))&&a)return pe(ve({},e),{amenities_facilities_group:a});if(t.startsWith("".concat(ol,"-destination"))&&a)return pe(ve({},e),{location_group:a});if(t.startsWith("".concat(cl,"-destination"))&&a)return pe(ve({},e),{properties_good_for_group:a});if(t.startsWith("".concat(ul,"-destination"))&&a)return pe(ve({},e),{property_type_group:a});if(t.startsWith(sl)&&a){var l=t.split("".concat(sl,"-")).pop();return ve({},e,l?me({},l,a):{})}if(t.startsWith(pl))return pe(ve({},e),{d1:a,startDate:a});if(t.startsWith(fl))return pe(ve({},e),{d2:a,endDate:a});if(t.startsWith("EGDSDatePickerFlexibilityCalendarContent-SelectedOption"))return pe(ve({},e),{flexibility:a});if(t.startsWith(El))return pe(ve({},e),{flexibility:a});if(t.startsWith(gl))return pe(ve({},e),{flexibleSearchRequirement:a});if(t.startsWith("EGDSDatePickerFlexibleMonths-Options"))return pe(ve({},e),{searchRange:a});if(t.startsWith("".concat(dl)))return pe(ve({},e),{propertyId:a});if(t.startsWith(Sl)){var i=e.adults,o=i?"".concat(i,",").concat(a):a,c=o.split(",").length;return pe(ve({},e),{adults:o,rooms:c})}if(t.startsWith(_l)){var u=e.children,d=t.substr(_l.length,1),s="".concat(d,"_").concat(a),m=u?"".concat(u,",").concat(s):s;return pe(ve({},e),{children:m})}if(t.startsWith(Dl))return pe(ve({},e),{adults:a});if(t.startsWith(Tl)){var v=e.children,p="".concat(1,"_").concat(a),f=v?"".concat(v,",").concat(p):p;return pe(ve({},e),{children:f})}return t.startsWith(Cl)?ve({},e,"CHECKED"===a&&{house_rules_group:"pets_allowed"}):t.startsWith(ll)?a?pe(ve({},e),{selected:a}):ve({},e):t.startsWith("".concat(el,"-origin"))?pe(ve({},e),{origin:a}):t.startsWith("EGDSSoftPackagesPackageType")&&a.length>0?pe(ve({},e),{packageType:a}):t.startsWith("".concat(Gl,"-add-flight"))||t.startsWith("add-flight-switch")?ve({},e,r?{"add-flight-switch":r}:{}):t.startsWith("".concat(Gl,"-add-car"))||t.startsWith("add-car-switch")?ve({},e,r?{"add-car-switch":r}:{}):e}),{}),t=Object.keys(n).map((function(e){return e.includes("flexibility")?n[e].split(",").map((function(n){return"".concat(e,"=").concat(n)})).join("&"):e.includes("searchRange")?n[e].split("/").map((function(n){return"".concat(e,"=").concat(n)})).join("&"):"".concat(e,"=").concat(n[e])})).join("&");return"?".concat(t)})),me(Yr,"CRUISES",(function(e){var n=e.reduce((function(e,n){var t=n.name,a=n.value;if(t.startsWith(rl))return pe(ve({},e),{destination:a.replace(/,/g,"|")});if(t.startsWith(pl))return pe(ve({},e),{"earliest-departure-date":a});if(t.startsWith(fl))return pe(ve({},e),{"latest-departure-date":a});if(t.startsWith(Il))return pe(ve({},e),{"min-length":a});if(t.startsWith(kl))return pe(ve({},e),{"max-length":a});if(t.startsWith(Dl))return pe(ve({},e),{adultCount:a});if(t.startsWith(Tl)){var r=e.childAges,l=r?"".concat(r,",").concat(a):a,i=l.split(",").length;return pe(ve({},e),{childCount:i,childAges:l})}return e}),{}),t=Object.keys(n).map((function(e){return"".concat(e,"=").concat(n[e])})).join("&");return"?".concat(t)})),me(Yr,"FLIGHTS",(function(e){var n={from:"",to:"",departureDate:""},t={adults:0,seniors:0,childAges:[]},a=e.reduce((function(e,a){var r=a.name,l=a.value;return r.includes("flight_type_selector")?pe(ve({},e),{trip:Al[l]}):r.includes("cabin_class")?pe(ve({},e),{options:"cabinclass:".concat(l)}):r.startsWith(el)&&r.includes("origin_select")?(n.from=l,e):r.startsWith(el)&&r.includes("destination_select")?(n.to=l,e):r.startsWith(pl)?(n.departureDate=l,pe(ve({},e),{fromDate:l})):r.startsWith(Dl)?(t.adults=+l,e):r.startsWith(Tl)?(t.childAges.push(l),e):e}),{"flight-type":"on",mode:"search"}),r=t.childAges.length||0,l=r?"".concat(r,"[").concat(t.childAges.join(";"),"]"):r.toString();a.legs=[n],a.passengers="children:".concat(l,",adults:").concat(t.adults,",seniors:0,infantinlap:Y");var i=Object.keys(a).map((function(e){return"legs"===e&&a.legs?a.legs.map((function(e,n){return"leg".concat(n+1,"=from:").concat(e.from,",to:").concat(e.to,",departure:").concat(e.departureDate,"TANYT")})).join("&"):"".concat(e,"=").concat(a[e])})).join("&");return"?".concat(i)})),me(Yr,"ACTIVITIES",(function(e){var n=e.reduce((function(e,n){var t=n.name,a=n.value;return t.startsWith(el)?pe(ve({},e),{location:a}):t.startsWith(nl)?pe(ve({},e),{rid:a}):t.startsWith(pl)?pe(ve({},e),{d1:a,startDate:a}):t.startsWith(fl)?pe(ve({},e),{d2:a,endDate:a}):e}),{}),t=Object.keys(n).map((function(e){return"".concat(e,"=").concat(n[e])})).join("&");return"?".concat(t)})),Yr),Rl=function(e,n){var t=["EGDS","SearchForm","add"],a=n.filter((function(e){var n=e.name;return t.find((function(e){return n.startsWith(e)}))}));return Fl[e](a)},xl=function(e,n,t){var a,r,l=n.formatDateString,i=fe(e.split(" - "),2),o=i[0],c=i[1];if(""===o||""===c)return"";var u=l(o,{skeleton:"MMMd"}),d=l(c,{skeleton:"MMMd"});return(null===(a=t)||void 0===a?void 0:a.start)&&(null===(r=t)||void 0===r?void 0:r.end)?"".concat(u,", ").concat(t.start," - ").concat(d,", ").concat(t.end):"".concat(u," - ").concat(d)},Ll=function(e){return e.DESTINATION="destination_form_field",e.TRAVEL_DATES="EGDSDateRangePicker",e.TRAVEL_DATES_FLEXIBLE="EGDSDateRangePicker-Flexible",e.TRAVEL_DATES_TEMPLATE_VALUE="EGDSDateRangePicker-TemplateValue",e.TRAVELER_ROOM_SELECTOR="EGDSRoomsTravelerSelector",e.TRAVELER_BASIC_SELECTOR="EGDSBasicTravelerSelector",e}(Ll||{}),Pl=function(e){return e.DESTINATION="destination",e.REGION_ID="regionId",e.LAT_LONG="latLong",e.DATE_ONE="d1",e.DATE_TWO="d2",e.START_DATE="startDate",e.END_DATE="endDate",e.ADULTS="adults",e.CHILDREN="children",e.SELECTED="selected",e.FLEXIBILITY="flexibility",e.SEARCH_RANGE="searchRange",e.FLEXIBLE_SEARCH_REQUIREMENT="flexibleSearchRequirement",e.MAP_BOUNDS="mapBounds",e}(Pl||{}),Nl=function(e){return e.SORT="sort",e.HOTEL_NAME="hotelName",e.REWARDS="rewards",e.STAR="star",e.GUEST_RATING="guestRating",e.CLEANING_AND_SAFETY="cleaningAndSafetyPractices",e.LODGING="lodging",e.MEAL_PLAN="mealPlan",e.AMENITIES="amenities",e.TRAVELER_TYPE="travelerType",e.PAYMENT_TYPE="paymentType",e.DEALS="deals",e.PROPERTY_STYLE="propertyStyle",e.BEDROOM_FILTER="bedroomFilter",e.NEIGHBORHOOD="neighborhood",e.STAY_TYPE="stayType",e.ACCESSIBILITY="accessibility",e.POI="poi",e.MIN_BEDROOMS="bedroom_count_gt",e.MIN_BATHROOMS="us_bathroom_count_gt",e.PROPERTY_TYPE="property_type_group",e.LOCATION="location_group",e.ACCESSIBILITY_FEATURES="accessibility_features_group",e.BOOKING_OPTIONS="booking_options_group",e.DISCOUNTS_GROUP="discounts_group",e.AMENITIES_FACILITIES="amenities_facilities_group",e.FREE_CANCELLATION_GROUP="free_cancellation_group",e.HOUSE_RULES="house_rules_group",e.NEARBY_ACTIVITIES="nearby_activities_group",e.NEIGHBORHOOD_GROUP="neighborhood_group",e.PREMIER_HOST="premier_host_group",e.PROPERTIES_GOOD="properties_good_for_group",e.PROPERTY_REVIEWS="property_reviews_group",e.ROOMS_SPACES="rooms_spaces_group",e.SAFETY="safety_group",e.VIRTUAL_TOUR_GROUP="virtual_tour_group",e.PRICING_GROUP="pricing_group",e.PROPERTY_NAME="propertyName",e.AVAILABLE_FILTER="availableFilter",e.AGENCY_BUSINESS_MODELS="agencyBusinessModels",e.COMMISSION_TIERS="commissionTiers",e.USE_REWARDS="useRewards",e.BED_TYPE_GROUP="bed_type_group",e.STAY_OPTIONS_GROUP="stay_options_group",e.HOTEL_BRAND="hotel_brand",e}(Nl||{}),Ol=function(e){return e.PRICE="price",e.NIGHTLY_PRICE="nightly_price",e.TOTAL_PRICE="total_price",e}(Ol||{}),Bl=function(e){var n=fe(e.split("-"),3),t=n[0],a=n[1],r=n[2];return{year:parseInt(t,10),month:parseInt(a,10),day:parseInt(r,10)}},wl=function(e){var n=fe(e.split("/"),3),t=n[0],a=n[1],r=n[2];return"".concat(r,"-").concat(t,"-").concat(a)},Ml=function(e){var n=e.queryParams,t=e.paramsToExclude,a=e.isPartnerPointsToggleEnabled;return function(e,n){return e.some((function(e){return e.id===n.id}))?e:ge(e).concat([n])}(Object.values(Nl).reduce((function(e,r){!a&&n.has("useRewards")&&n.delete("useRewards");var l=n.getAll(r);if(l.length&&""!==l[0]){var i=l.map((function(e){return(t.includes(r)?[e]:e.split(",")).map((function(e){return a&&"useRewards"===r?{id:r,value:"true"===e?"SHOP_WITH_POINTS":"SHOP_WITHOUT_POINTS"}:{id:r,value:e}}))}));return ge(e).concat(ge(i))}return ge(e)}),[]).flat(),{id:"sort",value:"RECOMMENDED"})},Ul=function(e){var n,t,a,r=function(e){var n=e.getAll("flexibility");return 0===n.length?null:n.reduce((function(e,n){var t=n.split("_");if(t.length>1){var a=parseInt(t[0],10),r=fn[t[1].toUpperCase()],l=3===t.length?{bound:pn[t[2].toUpperCase()]}:{};a&&r&&e.push(ve({length:a,unit:r},l))}return e}),[])}(e),l=function(e){return e.getAll("searchRange").reduce((function(e,n){var t=n.split("_");return 2===t.length&&e.push({start:Bl(t[0]),end:Bl(t[1])}),e}),[])}(e),i=function(e){return e.getAll("flexibleSearchRequirement").filter((function(e){return e}))}(e),o=ve({},(null===(n=r)||void 0===n?void 0:n.length)&&{flexibility:r},(null===(t=l)||void 0===t?void 0:t.length)&&{searchRange:l},(null===(a=i)||void 0===a?void 0:a.length)&&{flexibleSearchRequirement:i});return Object.getOwnPropertyNames(o).length?o:null},Wl=[{URL_PARAM_ID:"packageRates",QUERY_BOOLEAN_ID:"showPackageRates"},{URL_PARAM_ID:"vacationRentalsOnly",QUERY_BOOLEAN_ID:"showVacationRentalsOnly"},{URL_PARAM_ID:"dateSelectedByUser",QUERY_BOOLEAN_ID:"isUserSelectedDates"}],Vl=function(e,n){var t,a,r,l,i,o,c,u,d,s,m,v,p=function(e){var n,t=e.destination,a=e.regionId,r=e.latLong,l=e.selected,i=e.mapBounds,o=fe((null===(n=r)||void 0===n?void 0:n.split(",").map((function(e){return parseFloat(e)})))||[null,null],2),c=o[0],u=o[1];return ve({regionName:t,regionId:a,coordinates:c&&u?{latitude:c,longitude:u}:null,mapBounds:i},l&&{pinnedPropertyId:l})}({destination:e.get("destination"),regionId:"null"===e.get("regionId")?null:e.get("regionId"),latLong:e.get("latLong"),selected:e.get("selected"),mapBounds:(l=e.getAll("mapBounds"),i=l.map((function(e){return e.split(",")})).filter((function(e){var n=fe(e,2),t=n[0],a=n[1];return""!==t&&""!==a})).map((function(e){var n=fe(e,2),t=n[0],a=n[1];return{latitude:Number(t),longitude:Number(a)}})),2===i.length?i:[])}),f=function(e){var n=e.startDate,t=e.endDate;if(!n||!t)return null;var a=/^\d{4}-\d{2}-\d{2}$/,r=/^(0?[1-9]|1[0-2])\/(0?[1-9]|[12][0-9]|3[01])\/\d{4}$/,l=a.test(n)||r.test(n),i=a.test(t)||r.test(t);if(!l||!i)return null;var o=a.test(n)?n:wl(n),c=a.test(t)?t:wl(t);return{checkInDate:Bl(o),checkOutDate:Bl(c)}}({startDate:e.get("startDate"),endDate:e.get("endDate")}),E=(o={adults:e.get("adults"),children:e.get("children")},d=o.adults,s=o.children,m=(null===(c=d)||void 0===c?void 0:c.split(",").map((function(e){return parseInt(e,10)})))||[],v=(null===(u=s)||void 0===u?void 0:u.split(","))||[],m.map((function(e,n){var t=n+1;return{adults:e,children:v.filter((function(e){return e.startsWith(t.toString())})).map((function(e){return{age:parseInt(e.split("_")[1],10)}}))}})).filter((function(e){return!Number.isNaN(e.adults)}))),g=function(e){var n=e.queryParams,t=[];return Object.values(Ol).forEach((function(e){var a,r,l=n.getAll(e),i=(1===l.length?l[0].split(","):l).filter((function(e){return 0!==e.length})).map(Number).filter((function(e){return!Number.isNaN(e)}));i.length>1&&t.push({id:e,min:(a=Math).min.apply(a,ge(i)),max:(r=Math).max.apply(r,ge(i))})})),t}({queryParams:e}),y=Ml({queryParams:e,paramsToExclude:["hotelName","poi"],isPartnerPointsToggleEnabled:n}),S=Ul(e),_=S?{flexSearchCriteria:S}:{},h=function(e){return Wl.flatMap((function(n){return"true"===e.get(n.URL_PARAM_ID)?[{id:n.QUERY_BOOLEAN_ID,value:!0}]:[]}))}(e);return{propertySearchCriteriaInput:{primary:ve({destination:p,rooms:E,dateRange:(null===(t=S)||void 0===t?void 0:t.searchRange)&&0!==(null===(r=S)||void 0===r||null===(a=r.searchRange)||void 0===a?void 0:a.length)?null:f},_),secondary:{ranges:g,selections:y,booleans:h}}}},Hl=function(e){return e.NEXT_PAGE="SEARCH_FORM_NEXT_PAGE",e[e.LOCATION_FIELD_UPDATE=Jt]="LOCATION_FIELD_UPDATE",e}(Hl||{}),zl=(0,r.Ps)(un()),Yl=(0,r.Ps)(dn(),zl),jl=[ba,Zt,Or,xn,zr],$l=(0,r.Ps)(sn(),Gn.fragment,ba.fragment,Zt.fragment,Or.fragment,xn.fragment,Ur.fragment,zr.fragment,Yl),Kl=function(e){var n,t,r,l,i,o,c,u,f,E=e.data,g=e.onOpenLocationField,y=e.onSelectLocation,S=e.onFieldChange,h=e.onSubmit,D=e.onTogglePlayback,T=e.autoOpenCalendar,C=e.autoOpenPlayback,b=e.sticky,I=e.stickyPlayback,k=e.skipQuery,G=e.autoSubmitOnFieldChange,A=e.redirectToSearchResultOnSubmit,F=e.additionalQueryParams,L=e.dateFieldInitialFocus,P=e.paddedViewRow,N=e.layout,O=e.includeFlexibleCalendarContent,B=void 0!==O&&O,w=e.includeFlexibleDatesContent,M=void 0!==w&&w,U=e.autoSubmitOnFieldChangeConfig,V=e.additionalAdapterFields,H=e.updateLatLongOnSelection,z=(0,p.useLocalization)(),Y=fe(a.useState({EGDSSearchFormLocationField:null,EGDSSearchFormLocationFieldOrigin:null,EGDSSearchFormDatePickerField:null}),2),j=Y[0],$=Y[1],K={displayErrorSummary:!1,errorCount:0,errorLinkReference:null,fieldsWithErrors:[]},Q=a.useRef(null),q=(0,s.useMediaQueries)({viewSizes:s.defaultViewSizes})<=s.defaultViewSizes.SMALL,X=fe(a.useState(ve({},K)),2),Z=X[0],J=X[1],ee=E.egdsElementId,ne=E.elements,te=E.search,ae=E.actionURL,re=E.errorSummary,le=E.playback,ie=E.softPackages,ce=E.adaptExSuccessEvent,ue=fe(a.useState(le),2),de=ue[0],se=ue[1],Ee=fe(a.useState(ie),2),ye=Ee[0],Se=Ee[1],_e=fe(a.useState(!C),2),he=_e[0],De=_e[1],Te=(0,v.useExperiment)("Current_Location_in_Lodging_Typeahead"),Ce=Te.exposure,be=Te.logExperiment,Ie=(0,v.useExperiment)("Ability_to_Delete_Recent_Searches_in_Typeahead_Dropdown_Web"),ke=Ie.exposure,Ge=Ie.logExperiment,Ae=null!=ee?ee:"search-lodging-form",Fe=ye?ge(ne).concat([ye]):ne,Re=te?ge(Fe).concat([te]):Fe,xe=(0,m.useClickTracker)(),Le=(0,m.useClickstreamAnalytics)().track,Pe=(0,W.s0)().publishSignal;a.useEffect((function(){le&&!k&&se(le)}),[le,k]);(0,W._9)({query:{type:"SEARCH_FORM_NEXT_PAGE"},onSignal:function(){var e,n;(null===(e=ce)||void 0===e?void 0:e.datePrefill)&&Le(m.ITrackType.EVENT,{data:(n=[ce.datePrefill],n.map((function(e){return{messageContent:JSON.parse(e.messageContent),schemaName:e.schemaName}})))})}}),a.useEffect((function(){var e,n;L&&(null===(n=j.EGDSSearchFormDatePickerField)||void 0===n||null===(e=n.current)||void 0===e||e.focus())}),[j.EGDSSearchFormDatePickerField]);var Ne,Oe,Be=function(e,n){var t,a=$r(e,null===(t=n.current)||void 0===t?void 0:t.id);$((function(e){return pe(ve({},e),me({},a,n))}))},we=ne.find((function(e){return"EGDSSearchFormDatePickerField"===e.__typename})),Me="EGDSSearchFormDatePickerField"===(null===(n=we)||void 0===n?void 0:n.__typename)&&"EGDSOpenDatePickerAction"===(null===(t=we.action)||void 0===t?void 0:t.__typename)&&"EGDSDateRangePicker"===we.action.datePicker.__typename&&null!==(Ne=we.action.datePicker.maxNumberOfDaysSelected)&&void 0!==Ne?Ne:0,Ue=1===Ce.bucket&&q,We=1===ke.bucket,Ve=function(){if(g&&g(),q)try{be(Ce)}catch(e){}try{Ge(ke)}catch(e){}},He="EGDSBasicCheckBox"===(null===(l=ye)||void 0===l||null===(r=l.addFlight)||void 0===r?void 0:r.__typename)&&"CHECKED"===ye.addFlight.state,ze="EGDSBasicCheckBox"===(null===(o=ye)||void 0===o||null===(i=o.addCar)||void 0===i?void 0:i.__typename)&&"CHECKED"===ye.addCar.state,Ye=a.useCallback((function(e){var n={location:pe(ve({},He?{origin:e.find(Zr("origin_select"))}:null),{destination:e.find(Zr("destination_form_field"))}),dates:{startDateInput:e.find(Zr("EGDSDateRangePicker-StartDate-date_form_field")),endDateInput:e.find(Zr("EGDSDateRangePicker-EndDate-date_form_field")),config:{maxNumberOfDaysSelected:Me}}},t=Xr(n,He),a=t.length;return{fieldsWithErrors:t,errorCount:a,isFormValid:0===a}}),[Me,He]),je=Z.displayErrorSummary,$e=Z.errorCount,Ke=Z.errorLinkReference,Qe=re&&je,qe=function(e){var n=e.currentTarget,t=n.name,a=n.checked;Se((function(e){var n,r,l,i;return"EGDSBasicCheckBox"===(null===(r=e)||void 0===r||null===(n=r.addCar)||void 0===n?void 0:n.__typename)&&null!==e.addCar.name&&t.includes(e.addCar.name)?pe(ve({},e),{addCar:pe(ve({},e.addCar),{state:a?"CHECKED":"UNCHECKED"})}):"EGDSBasicCheckBox"===(null===(i=e)||void 0===i||null===(l=i.addFlight)||void 0===l?void 0:l.__typename)&&null!==e.addFlight.name&&t.includes(e.addFlight.name)?pe(ve({},e),{addFlight:pe(ve({},e.addFlight),{state:a?"CHECKED":"UNCHECKED"})}):e}))},Xe=fe(a.useState(null!==(Oe=null===(c=V)||void 0===c?void 0:c.lastSearchLatLong)&&void 0!==Oe?Oe:""),2),Ze=Xe[0],Je=Xe[1],en=pe(ve({},V),{lastSearchLatLong:Ze}),nn=function(e){var n,t,a,r,l,i,o,c,u,d,s,m;H&&Je((null===(a=e)||void 0===a||null===(t=a.data)||void 0===t||null===(n=t.location)||void 0===n?void 0:n.lat)&&(null===(i=e)||void 0===i||null===(l=i.data)||void 0===l||null===(r=l.location)||void 0===r?void 0:r.long)?"".concat(null===(u=e)||void 0===u||null===(c=u.data)||void 0===c||null===(o=c.location)||void 0===o?void 0:o.lat,",").concat(null===(m=e)||void 0===m||null===(s=m.data)||void 0===s||null===(d=s.location)||void 0===d?void 0:d.long):"");se((function(n){if(!n)return null;var t=pe(ve({},n.primary),{text:e.term});return pe(ve({},n),{primary:t})}))},tn=(0,v.useExperiment)("VRBO_Save_traveler_selector_info_on_close_mweb"),an=tn.exposure,rn=tn.logExperiment,ln=1===an.bucket,on=a.useCallback((function(){try{rn(an)}catch(e){}}),[rn,an]),cn=function(e){e===s.ViewSizes.SMALL&&on()},un=(0,v.useExperiment)("Tonight_text_in_same_day_date_field"),dn=ze||He,sn=dn&&ye.actionURL?ye.actionURL:ae,mn=ye&&a.createElement("div",null,a.createElement(zr,{data:ye,onProductSelect:qe,setFieldRefByTypename:Be,fieldError:Z.fieldsWithErrors.find((function(e){return"EGDSSearchFormLocationFieldOrigin"===e.__typename}))})),vn=function(n){var t=function(e){return e===s.ViewSizes.SMALL||"STACKED"===N?["1fr"]:[(0,oe.wA)(3,"1fr"),"max-content"]}(n),r=n===s.ViewSizes.SMALL||"STACKED"===N?function(){var e=[(0,oe.wA)(3,"max-content")];return ye&&e.splice(3,0,(0,oe.nZ)("1x")),e}():function(){var e=["1fr"];return ye&&e.push((0,oe.nZ)("1x")),e}(),l=n===s.ViewSizes.SMALL||"STACKED"===N?function(){var e=["EGDSSearchFormLocationField","EGDSSearchFormDatePickerField","EGDSSearchFormTravelersField","EGDSSearchFormButton"];return ye&&e.splice(3,0,"SoftPackages"),e}():function(){var e=["EGDSSearchFormLocationField EGDSSearchFormDatePickerField EGDSSearchFormTravelersField EGDSSearchFormButton"];return ye&&e.push("SoftPackages SoftPackages SoftPackages SoftPackages"),e}(),i=new URLSearchParams(window.location.search).get("destination");return a.createElement(R.a,{columns:t,rows:r,space:"three",areas:l},Re.map((function(n,t){var r=n.__typename,l=jl.find((function(e){return e.displayName===r}));if(!l)return null;var o,c,u,d,s,m,v=Z.fieldsWithErrors.find((function(e){var n="SoftPackages"===r&&"EGDSSearchFormLocationFieldOrigin"===e.__typename;return e.__typename===r||n})),p=(m=Re.find((function(e){return"EGDSSearchFormLocationField"===e.__typename})),"EGDSSearchFormLocationField"===(null===(o=m)||void 0===o?void 0:o.__typename)&&"OpenTypeaheadAction"===(null===(u=m)||void 0===u||null===(c=u.action)||void 0===c?void 0:c.__typename)&&null!==(s=null===(d=m)||void 0===d?void 0:d.action.info.showCurrentLocation)&&void 0!==s&&s&&i?i:""),f=pe(ve(pe(ve({},e),{additionalAdapterFields:en,setFieldRefByTypename:Be,fieldError:v,autoOpen:T,retainTravelerOnDialogDismiss:ln,onProductSelect:qe,valueFromQueryParam:p,onSelection:nn,useDateSelector:!0,flexibleContentConfig:{includeFlexibleCalendarContent:B,includeFlexibleDatesContent:M},allowToRemoveRecentSearches:We,onCloseTravelerField:cn}),dn?ye:{}),{showCurrentLocation:null!=Ue&&Ue,onOpenLocationField:Ve,onSelectLocation:y,tonightSameDayDateExperiment:un}),E="SoftPackages"===r?mn:a.createElement(l,pe(ve({},f),{data:n}));return a.createElement(x.P,{area:r,key:"field_".concat(r,"_").concat(t)},a.createElement(R.a,{autoRows:["max-content"]},E))})))};return a.createElement(_.$,{ref:Q,id:Ae,name:Ae,method:"GET",action:sn,onFieldChange:function(e,n){var t,a,r;if(S){var l,i=Q.current?Array.from(null===(l=Q.current)||void 0===l?void 0:l.elements):[],o=Rl("LODGING",i);S(e,n,o)}G&&(null===(a=Q.current)||void 0===a||a.dispatchEvent(new Event("submit",{cancelable:!0,bubbles:!0})));"EGDSDateRangePicker"===e.name&&(null===(t=U)||void 0===t?void 0:t.onDateFieldChange)&&!G&&(null===(r=Q.current)||void 0===r||r.dispatchEvent(new Event("submit",{cancelable:!0,bubbles:!0})));se((function(n){var t=Ll.DESTINATION,a=Ll.TRAVELER_ROOM_SELECTOR,r=Ll.TRAVELER_BASIC_SELECTOR,l=Ll.TRAVEL_DATES,i=Ll.TRAVEL_DATES_FLEXIBLE,o=Ll.TRAVEL_DATES_TEMPLATE_VALUE,c=e.name,u=e.value,d=c===l,s=c===i,m=c===o,v=c===a||c===r;if(!n)return null;if(!(d||v||c===t||s||m))return ve({},n);var p=function(e,n,t,a,r,l){var i={__typename:"EGDSPlainText",accessibility:null,text:""};if(r.length>1){if(e){var o=xl(l,z);return[pe(ve({},i),{text:o}),r[1]]}if(a)return[r[0],pe(ve({},i),{text:l})];if(n||t)return[pe(ve({},i),{text:l}),r[1]]}if(e){var c=xl(l,z);return[pe(ve({},i),{text:c}),r[0]]}return n||t?[pe(ve({},i),{text:l}),r[0]]:a?[pe(ve({},i),{text:l})]:ge(r)}(d,s,m,v,n.secondaries,u);return pe(ve({},n),{secondaries:p})})),De(!0)},onSubmit:function(e){var n,t,a;J(ve({},K));var r,l=Array.from(e.currentTarget.elements),i=Ye(l),o=i.fieldsWithErrors,c=i.errorCount,u=i.isFormValid;if(j[null===(n=o[0])||void 0===n?void 0:n.__typename]&&(null===(a=E)||void 0===a||null===(t=a.errorSummary)||void 0===t?void 0:t.analytics)){var d="".concat(E.errorSummary.analytics.referrerId,".For.NoDestinationSubmit");xe(d,E.errorSummary.analytics.linkName)}if(!u)return J({fieldsWithErrors:o,errorCount:c,displayErrorSummary:!0,errorLinkReference:j[null===(r=o[0])||void 0===r?void 0:r.__typename]}),void e.preventDefault();if(h||A){var s=Rl("LODGING",l),m=Vl(new URLSearchParams(s))||void 0;h&&h(e,m),A&&(e.preventDefault(),Pe({payload:{},type:"SEARCH_FORM_NEXT_PAGE"}),window.location.href="".concat(e.currentTarget.action).concat(s).concat(F?"&".concat(F):""))}},hasRequiredFieldIndicator:!0},Qe&&a.createElement(Gn,{data:re,errorCount:$e,inputErrorRef:Ke,linkClickFocusId:null===(f=Ke)||void 0===f||null===(u=f.current)||void 0===u?void 0:u.id}),a.createElement(d.l,{margin:{blockstart:Qe?"two":void 0}},a.createElement("div",null,a.createElement(s.Viewport,null,a.createElement(s.ViewSmall,null,de?a.createElement(Ur,{data:de,stickyPlayback:I,display:he,onDisplayToggle:function(e){var n;De(e),null===(n=D)||void 0===n||n(!e)}},vn(s.ViewSizes.SMALL)):vn(s.ViewSizes.SMALL)),a.createElement(s.ViewMedium,null,b?a.createElement(Br,{paddedViewRow:P},vn(s.ViewSizes.MEDIUM)):vn(s.ViewSizes.MEDIUM)),a.createElement(s.ViewLarge,null,b?a.createElement(Br,{paddedViewRow:P},vn(s.ViewSizes.LARGE)):vn(s.ViewSizes.LARGE))))))};Kl.fragment=$l,Kl.displayName="LodgingSearchForm";var Ql={SEARCH_TOOLS_LODGING_SEARCH_FORM_QUERY_FAILURE:new o.nS(o.nl.ERROR,"SEARCH_TOOLS_LODGING_SEARCH_FORM_QUERY_FAILURE")},ql=(0,r.Ps)(mn(),Kl.fragment),Xl=function(e){return e.PREFILL_PROPERTY_NAME="PREFILL_PROPERTY_NAME",e}(Xl||{}),Zl=function(e){var n,t,r,u,d,m,v,p,f,E,g,y,S,_,h,D,T,C=e.inputs,b=e.skipSsr,I=e.skipQuery,k=void 0!==I&&I,G=e.fetchPolicy,A=e.batchKey,F=e.features,R=e.includePlayback,x=e.layout,L=void 0===x?"IN_LINE":x,P=e.enableReflection,N=(0,i.v)().context,O=(0,o.Iw)(Ql),B=fe(a.useState(k),2),w=B[0],M=B[1],U=pe(ve({},C),{context:N,includePlayback:!!R,features:F}),W=(0,l.a)(ql,ve({context:{batchKey:A},variables:U,ssr:!b,skip:w},G?{fetchPolicy:G}:{})),V=W.data,H=W.error,z=W.loading,Y=W.previousData,j=null!=V?V:Y;if(a.useEffect((function(){M(k&&!z)}),[z,k]),z&&!j)return a.createElement(s.Viewport,null,a.createElement(s.ViewSmall,null,a.createElement(vn,{rows:[{type:"primary"},{type:"primary"},{type:"primary"}]})),a.createElement(s.ViewMedium,null,a.createElement(vn,{rows:[{type:"primary"}]})));var $,K=null===(n=C.propertySearchCriteriaInput)||void 0===n?void 0:n.secondary,Q=null!==($=null===(u=C.propertySearchCriteriaInput)||void 0===u||null===(r=u.primary)||void 0===r||null===(t=r.destination)||void 0===t?void 0:t.pinnedPropertyId)&&void 0!==$?$:void 0,q=K?{amenitiesFacilitiesGroup:null===(v=K)||void 0===v||null===(m=v.selections)||void 0===m||null===(d=m.find((function(e){return"amenities_facilities_group"===e.id})))||void 0===d?void 0:d.value,locationGroup:null===(E=K)||void 0===E||null===(f=E.selections)||void 0===f||null===(p=f.find((function(e){return"location_group"===e.id})))||void 0===p?void 0:p.value,propertiesGoodForGroup:null===(S=K)||void 0===S||null===(y=S.selections)||void 0===y||null===(g=y.find((function(e){return"properties_good_for_group"===e.id})))||void 0===g?void 0:g.value,propertyTypeGroup:null===(D=K)||void 0===D||null===(h=D.selections)||void 0===h||null===(_=h.find((function(e){return"property_type_group"===e.id})))||void 0===_?void 0:_.value}:void 0,X=pe(ve({},e),{propertyRefinements:q,pinnedPropertyId:(null===(T=F)||void 0===T?void 0:T.includes("PREFILL_PROPERTY_NAME"))?Q:void 0,skipQuery:w,layout:L});if(H||!j||"LodgingSearchForm"!==j.searchForm.lodging.__typename){var Z,J,ee={__typename:"LodgingSearchForm",egdsElementId:"lodging_search_form",actionURL:"/Hotel-Search",errorSummary:En,elements:[gn,Tn,Cn],search:bn,playback:null,softPackages:null,adaptExSuccessEvent:null};return O.SEARCH_TOOLS_LODGING_SEARCH_FORM_QUERY_FAILURE.log({name:null===(Z=H)||void 0===Z?void 0:Z.name,error:new Error(null===(J=H)||void 0===J?void 0:J.message)}),P?a.createElement(c.$,null,a.createElement(Kl,pe(ve({},X),{data:ee}))):a.createElement(Kl,pe(ve({},X),{data:ee}))}return P?a.createElement(c.$,null,a.createElement(Kl,pe(ve({},X),{data:j.searchForm.lodging,skipQuery:w}))):a.createElement(Kl,pe(ve({},X),{data:j.searchForm.lodging,skipQuery:w}))};Zl.displayName="sharedui-LodgingSearchForm";var Jl=a.createContext(null),ei=function(e){var n=e.children,t=e.urlSearchParams,r=(0,v.useExperiment)("ETS_POINTS_TOGGLE").exposure,l=Vl(t,1===r.bucket);return a.createElement(Jl.Provider,{value:l},n)},ni=function(){return a.useContext(Jl)}}}]);
//# sourceMappingURL=shared-ui-search-tools-lodging.404d29ce7ec530ccec39.js.map
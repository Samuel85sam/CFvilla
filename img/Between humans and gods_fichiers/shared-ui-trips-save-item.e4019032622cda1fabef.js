/*@license For license information please refer to shared-ui-trips-save-item.licenses.txt*/
(self.__LOADABLE_LOADED_CHUNKS__=self.__LOADABLE_LOADED_CHUNKS__||[]).push([[4921],{16998:function(e,n,t){t.d(n,{Hr:function(){return _i},Hw:function(){return Ei},Zj:function(){return wi},a$:function(){return Vr},y_:function(){return cr}});var r=t(67294),a=t(16550),i=t(69430),o=t(13433),s=t(71641),l=t(15089),c=t(95878),u=t(98250),m=t(73030),d=t(64418),p=t(17684),g=t(29892),f=t(81390),v=t(59909),T=t(39709),I=t(73935),y=t(66438),E=t(40851),S=t(12108),_=t(19633),h=t(23984),b=t(91233),A=t(27749),C=t(93351),F=t(52209),D=t(30300),N=t(85395),P=t(50319),w=t(14319),k=t(46605),R=t(91410),O=t(35957),M=t(23236),V=t(66252),L=t(41913),x=t(34353),U=t(49349),B=t(5419),G=t(87862),z=t(70094),H=t(53274),j=t(8315),$=t(13413),q=t(36765),W=t(78917),Y=t(22335),K=t(30082),Z=t(19597),Q=t(20515),J=t(51330),X=t(85213),ee=t(66136),ne=t(67922),te=t(75766),re=t(8470),ae=t(511),ie=t(77844),oe=t(80398),se=t(68369),le=t(79221),ce=(t(1644),t(22809)),ue=t(60756),me=t(10333);t(78987);function de(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,r=new Array(n);t<n;t++)r[t]=e[t];return r}function pe(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function ge(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{},r=Object.keys(t);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(t).filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})))),r.forEach((function(n){pe(e,n,t[n])}))}return e}function fe(e,n){return n=null!=n?n:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):function(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})),e}function ve(e,n){if(null==e)return{};var t,r,a=function(e,n){if(null==e)return{};var t,r,a={},i=Object.keys(e);for(r=0;r<i.length;r++)t=i[r],n.indexOf(t)>=0||(a[t]=e[t]);return a}(e,n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)t=i[r],n.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(a[t]=e[t])}return a}function Te(e,n){return function(e){if(Array.isArray(e))return e}(e)||function(e,n){var t=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=t){var r,a,i=[],o=!0,s=!1;try{for(t=t.call(e);!(o=(r=t.next()).done)&&(i.push(r.value),!n||i.length!==n);o=!0);}catch(l){s=!0,a=l}finally{try{o||null==t.return||t.return()}finally{if(s)throw a}}return i}}(e,n)||Ee(e,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ie(e,n){return n||(n=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(n)}}))}function ye(e){return function(e){if(Array.isArray(e))return de(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||Ee(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ee(e,n){if(e){if("string"==typeof e)return de(e,n);var t=Object.prototype.toString.call(e).slice(8,-1);return"Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t?Array.from(t):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?de(e,n):void 0}}function Se(){var e=Ie(["\n  fragment ClickstreamAnalyticsFragment on ClickstreamAnalytics {\n    event {\n      clickstreamTraceId\n      eventCategory\n      eventName\n      eventType\n      eventVersion\n    }\n    payload {\n      ...TripRecommendationModuleFragment\n    }\n  }\n\n  fragment TripRecommendationModuleFragment on TripRecommendationModule {\n    title\n    responseId\n    recommendations {\n      ...TripRecommendationFragment\n    }\n  }\n\n  fragment TripRecommendationFragment on TripRecommendation {\n    id\n    position\n    priceDisplayed\n    currencyCode\n    name\n  }\n"]);return Se=function(){return e},e}function _e(){var e=Ie(["\n  fragment ClientSideAnalyticsFragment on ClientSideAnalytics {\n    eventType\n    linkName\n    referrerId\n    uisPrimeMessages {\n      messageContent\n      schemaName\n    }\n  }\n"]);return _e=function(){return e},e}function he(){var e=Ie(["\n  fragment ClientSideImpressionAnalyticsFragment on ClientSideImpressionAnalytics {\n    uisPrimeAnalytics {\n      ...ClientSideAnalyticsFragment\n    }\n    clickstreamAnalytics {\n      ...ClickstreamAnalyticsFragment\n    }\n  }\n\n  ","\n  ","\n"]);return he=function(){return e},e}function be(){var e=Ie(["\n  fragment TripsInfoToastFragment on TripsInfoToast {\n    primary\n    impressionTracking {\n      ...ClientSideImpressionAnalyticsFragment\n    }\n  }\n\n  ","\n"]);return be=function(){return e},e}function Ae(){var e=Ie(["\n  fragment TripsDismissActionFragment on TripsDismissAction {\n    __typename\n    analytics {\n      referrerId\n      linkName\n      uisPrimeMessages {\n        messageContent\n        schemaName\n      }\n    }\n  }\n"]);return Ae=function(){return e},e}function Ce(){var e=Ie(["\n  fragment TripsNavigateToViewActionFragment on TripsNavigateToViewAction {\n    analytics {\n      referrerId\n      linkName\n      uisPrimeMessages {\n        messageContent\n        schemaName\n      }\n    }\n    tripItemId\n    tripViewId\n    viewFilter {\n      filter\n    }\n    viewType\n    viewUrl\n    displayMode\n  }\n"]);return Ce=function(){return e},e}function Fe(){var e=Ie(["\n  fragment EGDSIconFragment on Icon {\n    description\n    id\n    size\n    theme\n    title\n    withBackground\n  }\n"]);return Fe=function(){return e},e}function De(){var e=Ie(["\n  fragment EGDSIllustrationFragment on Illustration {\n    id\n    description\n    link: url\n  }\n"]);return De=function(){return e},e}function Ne(){var e=Ie(["\n  fragment EGDSMarkFragment on Mark {\n    description\n    id\n    markSize: size\n    url {\n      ... on HttpURI {\n        __typename\n        relativePath\n        value\n      }\n    }\n  }\n"]);return Ne=function(){return e},e}function Pe(){var e=Ie(["\n  fragment UIGraphicFragment on UIGraphic {\n    ...EGDSIconFragment\n    ...EGDSMarkFragment\n    ...EGDSIllustrationFragment\n  }\n\n  ","\n  ","\n  ","\n"]);return Pe=function(){return e},e}function we(){var e=Ie(["\n  fragment EGDSGraphicTextFragment on EGDSGraphicText {\n    graphic {\n      ...UIGraphicFragment\n    }\n    text\n  }\n\n  ","\n"]);return we=function(){return e},e}function ke(){var e=Ie(["\n  fragment EGDSPlainTextFragment on EGDSPlainText {\n    text\n  }\n"]);return ke=function(){return e},e}function Re(){var e=Ie(["\n  fragment EGDSTextFragment on EGDSText {\n    ...EGDSPlainTextFragment\n    ...EGDSGraphicTextFragment\n  }\n\n  ","\n  ","\n"]);return Re=function(){return e},e}function Oe(){var e=Ie(["\n  fragment TripsStaticContentDrawerContentFragment on TripsStaticContentDrawerContent {\n    ...EGDSPlainTextFragment\n    ... on Image {\n      description\n      url\n    }\n  }\n\n  ","\n"]);return Oe=function(){return e},e}function Me(){var e=Ie(["\n  fragment TripsStaticContentDrawerFragment on TripsStaticContentDrawer {\n    heading\n    content {\n      ...TripsStaticContentDrawerContentFragment\n    }\n    buttons {\n      ... on TripsPrimaryButton {\n        primary\n        accessibility {\n          label\n        }\n        action {\n          ... on TripsDismissAction {\n            analytics {\n              referrerId\n              linkName\n              uisPrimeMessages {\n                messageContent\n                schemaName\n              }\n            }\n          }\n        }\n      }\n    }\n  }\n\n  ","\n"]);return Me=function(){return e},e}function Ve(){var e=Ie(["\n  fragment TripsOpenDrawerActionFragment on TripsOpenDrawerAction {\n    analytics {\n      referrerId\n      linkName\n      uisPrimeMessages {\n        messageContent\n        schemaName\n      }\n    }\n    drawer {\n      ...TripsStaticContentDrawerFragment\n    }\n  }\n\n  ","\n"]);return Ve=function(){return e},e}function Le(){var e=Ie(["\n  fragment TripsToastButtonFragment on TripsButton {\n    primary\n    action {\n      ...TripsNavigateToViewActionFragment\n      ...TripsDismissActionFragment\n      ...TripsOpenDrawerActionFragment\n    }\n  }\n\n  ","\n  ","\n  ","\n"]);return Le=function(){return e},e}function xe(){var e=Ie(["\n  fragment TripsInlineActionToastFragment on TripsInlineActionToast {\n    primary\n    button {\n      ...TripsToastButtonFragment\n    }\n    impressionTracking {\n      ...ClientSideImpressionAnalyticsFragment\n    }\n  }\n\n  ","\n  ","\n"]);return xe=function(){return e},e}function Ue(){var e=Ie(["\n  fragment TripsStackedActionToastFragment on TripsStackedActionToast {\n    primary\n    button {\n      ...TripsToastButtonFragment\n    }\n    impressionTracking {\n      ...ClientSideImpressionAnalyticsFragment\n    }\n  }\n\n  ","\n  ","\n"]);return Ue=function(){return e},e}function Be(){var e=Ie(["\n  fragment TripsToastFragment on TripsToast {\n    ...TripsInfoToastFragment\n    ...TripsInlineActionToastFragment\n    ...TripsStackedActionToastFragment\n  }\n\n  ","\n  ","\n  ","\n"]);return Be=function(){return e},e}function Ge(){var e=Ie(["\n  fragment TripsLocalSavedItemFragment on TripsLocalSavedItem {\n    id\n    checked\n  }\n"]);return Ge=function(){return e},e}function ze(){var e=Ie(["\n  query TripsLocalSavedItemQuery {\n    localSavedItems @client {\n      ...TripsLocalSavedItemFragment\n    }\n  }\n\n  ","\n"]);return ze=function(){return e},e}function He(){var e=Ie(["\n  fragment DateFragment on Date {\n    day\n    month\n    year\n  }\n"]);return He=function(){return e},e}function je(){var e=Ie(["\n  fragment TripsSaveActivityAttributesFragment on TripsSaveActivityAttributes {\n    regionId\n    dateRange {\n      start {\n        ...DateFragment\n      }\n      end {\n        ...DateFragment\n      }\n    }\n  }\n\n  ","\n"]);return je=function(){return e},e}function $e(){var e=Ie(["\n  fragment CarRentalLocationFragment on CarRentalLocation {\n    airportCode\n    coordinates {\n      latitude\n      longitude\n    }\n    isExactLocationSearch\n    regionId\n    searchTerm\n  }\n"]);return $e=function(){return e},e}function qe(){var e=Ie(["\n  fragment DateTimeFragment on DateTime {\n    day\n    month\n    year\n    hour\n    minute\n    second\n  }\n"]);return qe=function(){return e},e}function We(){var e=Ie(["\n  fragment TripsSaveCarOfferAttributesFragment on TripsSaveCarOfferAttributes {\n    categoryCode\n    fuelAcCode\n    offerToken\n    searchCriteria {\n      dropOffDateTime {\n        ...DateTimeFragment\n      }\n      dropOffLocation {\n        ...CarRentalLocationFragment\n      }\n      pickUpDateTime {\n        ...DateTimeFragment\n      }\n      pickUpLocation {\n        ...CarRentalLocationFragment\n      }\n    }\n    transmissionDriveCode\n    typeCode\n    vendorCode\n  }\n\n  ","\n  ","\n"]);return We=function(){return e},e}function Ye(){var e=Ie(["\n  fragment TripsSaveFlightSearchAttributesFragment on TripsSaveFlightSearchAttributes {\n    searchCriteria {\n      primary {\n        journeyCriterias {\n          arrivalDate {\n            ...DateFragment\n          }\n          departureDate {\n            ...DateFragment\n          }\n          destination\n          destinationAirportLocationType\n          origin\n          originAirportLocationType\n        }\n        searchPreferences {\n          advancedFilters\n          airline\n          cabinClass\n        }\n        travelers {\n          age\n          type\n        }\n        tripType\n      }\n      secondary {\n        booleans {\n          id\n          value\n        }\n        counts {\n          id\n          value\n        }\n        dates {\n          id\n          value {\n            ...DateFragment\n          }\n        }\n        ranges {\n          id\n          min\n          max\n        }\n        selections {\n          id\n          value\n        }\n      }\n    }\n  }\n\n  ","\n"]);return Ye=function(){return e},e}function Ke(){var e=Ie(["\n  fragment TripsSaveStayAttributesFragment on TripsSaveStayAttributes {\n    checkInDate {\n      ...DateFragment\n    }\n    checkoutDate {\n      ...DateFragment\n    }\n    regionId\n    roomConfiguration {\n      numberOfAdults\n      childAges\n    }\n  }\n\n  ","\n"]);return Ke=function(){return e},e}function Ze(){var e=Ie(["\n  fragment TripsSaveItemAttributesFragment on TripsSaveItemAttributes {\n    ...TripsSaveStayAttributesFragment\n    ...TripsSaveActivityAttributesFragment\n    ...TripsSaveFlightSearchAttributesFragment\n    ...TripsSaveCarOfferAttributesFragment\n  }\n\n  ","\n  ","\n  ","\n  ","\n"]);return Ze=function(){return e},e}function Qe(){var e=Ie(["\n  fragment TripsChangeSaveItemStateFragment on TripsChangeSaveItemState {\n    toggleState\n    tripItemId\n  }\n"]);return Qe=function(){return e},e}function Je(){var e=Ie(["\n  mutation SaveItemToTrip($context: ContextInput!, $tripId: String, $newTripInputs: [GraphQLPairInput!], $itemInput: TripsPlanInput!) {\n    trip(context: $context) {\n      saveItemToTrip(tripId: $tripId, newTripInputs: $newTripInputs, itemInput: $itemInput) {\n        ... on TripsView {\n          toast {\n            ...TripsToastFragment\n          }\n          tripsSideEffects {\n            ...TripsChangeSaveItemStateFragment\n          }\n        }\n      }\n    }\n  }\n\n  ","\n  ","\n"]);return Je=function(){return e},e}function Xe(){var e=Ie(["\n  fragment TripsSaveItemToTripActionFragment on TripsSaveItemToTripAction {\n    analytics {\n      linkName\n      referrerId\n      uisPrimeMessages {\n        messageContent\n        schemaName\n      }\n    }\n    tripId\n    saveItemInput {\n      ...TripsSaveItemToTripSaveItemInputFragment\n    }\n  }\n\n  fragment TripsSaveItemToTripSaveItemInputFragment on TripsPlan {\n    attributes {\n      ...TripsSaveItemAttributesFragment\n    }\n    itemId\n    pageLocation\n    source\n    subscriptionAttributes {\n      anchorPrice\n    }\n    tripItem {\n      tripItemId\n      tripViewId\n    }\n  }\n\n  ","\n"]);return Xe=function(){return e},e}function en(){var e=Ie(["\n  fragment TripsSaveItemPropertiesFragment on TripsSaveItemProperties {\n    accessibility\n    analytics {\n      referrerId\n      linkName\n      uisPrimeMessages {\n        messageContent\n        schemaName\n      }\n    }\n    label\n  }\n"]);return en=function(){return e},e}function nn(){var e=Ie(["\n  fragment TripsInternalComposableDrawerFragment on TripsComposableDrawer {\n    tripsViewHeader {\n      primary\n      secondaries\n    }\n    impressionTracking {\n      ...ClientSideImpressionAnalyticsFragment\n    }\n    type\n  }\n\n  ","\n"]);return nn=function(){return e},e}function tn(){var e=Ie(["\n  fragment TripsInternalPrimaryButtonFragment on TripsPrimaryButton {\n    __typename\n    primary\n    accessibility {\n      label\n    }\n    icon {\n      description\n      id\n    }\n    disabled\n    width\n  }\n"]);return tn=function(){return e},e}function rn(){var e=Ie(["\n  fragment TripsInternalSecondaryButtonFragment on TripsSecondaryButton {\n    __typename\n    primary\n    accessibility {\n      label\n    }\n    icon {\n      description\n      id\n    }\n    disabled\n  }\n"]);return rn=function(){return e},e}function an(){var e=Ie(["\n  fragment TripsInternalTertiaryButtonFragment on TripsTertiaryButton {\n    __typename\n    primary\n    icon {\n      description\n      id\n    }\n    accessibility {\n      label\n    }\n    disabled\n    width\n  }\n"]);return an=function(){return e},e}function on(){var e=Ie(["\n  fragment TripsInternalLinkActionFragment on TripsLinkAction {\n    __typename\n    resource {\n      value\n    }\n    target\n    analytics {\n      __typename\n      referrerId\n      linkName\n      uisPrimeMessages {\n        messageContent\n        schemaName\n      }\n    }\n  }\n"]);return on=function(){return e},e}function sn(){var e=Ie(["\n  fragment TripsCreateTripFromItemActionFragment on TripsCreateTripFromItemAction {\n    analytics {\n      linkName\n      referrerId\n      uisPrimeMessages {\n        messageContent\n        schemaName\n      }\n    }\n    saveItemInput {\n      ...TripsCreateTripSaveItemInputFragment\n    }\n    inputIds\n  }\n\n  fragment TripsCreateTripSaveItemInputFragment on TripsPlan {\n    itemId\n    pageLocation\n    attributes {\n      ...TripsSaveItemAttributesFragment\n    }\n    subscriptionAttributes {\n      anchorPrice\n    }\n  }\n\n  ","\n"]);return sn=function(){return e},e}function ln(){var e=Ie(["\n  fragment TripsDismissDrawerActionFragment on TripsDismissDrawerAction {\n    analytics {\n      linkName\n      referrerId\n      uisPrimeMessages {\n        messageContent\n        schemaName\n      }\n    }\n  }\n"]);return ln=function(){return e},e}function cn(){var e=Ie(["\n  fragment TripsOpenCreateNewTripDrawerForItemActionFragment on TripsOpenCreateNewTripDrawerForItemAction {\n    analytics {\n      linkName\n      referrerId\n      uisPrimeMessages {\n        messageContent\n        schemaName\n      }\n    }\n    createTripMetadata {\n      saveItemInput {\n        ...TripsOpenCreateNewTripActionSaveItemInputFragment\n      }\n    }\n  }\n\n  fragment TripsOpenCreateNewTripActionSaveItemInputFragment on TripsPlan {\n    itemId\n    pageLocation\n    attributes {\n      ...TripsSaveItemAttributesFragment\n    }\n    subscriptionAttributes {\n      anchorPrice\n    }\n  }\n\n  ","\n"]);return cn=function(){return e},e}function un(){var e=Ie(["\n  fragment TripsOpenSaveToTripDrawerActionFragment on TripsOpenSaveToTripDrawerAction {\n    analytics {\n      linkName\n      referrerId\n      uisPrimeMessages {\n        messageContent\n        schemaName\n      }\n    }\n    input {\n      ...TripsOpenSaveToTripSaveItemInputFragment\n    }\n  }\n\n  fragment TripsOpenSaveToTripSaveItemInputFragment on TripsPlan {\n    itemId\n    pageLocation\n    attributes {\n      ...TripsSaveItemAttributesFragment\n    }\n    subscriptionAttributes {\n      anchorPrice\n    }\n    tripItem {\n      tripItemId\n      tripViewId\n    }\n  }\n\n  ","\n"]);return un=function(){return e},e}function mn(){var e=Ie(["\n  fragment TripsDialogDismissActionFragment on TripsDismissAction {\n    analytics {\n      referrerId\n      linkName\n      uisPrimeMessages {\n        messageContent\n        schemaName\n      }\n    }\n  }\n"]);return mn=function(){return e},e}function dn(){var e=Ie(["\n  fragment TripsFormDataFragment on TripsFormData {\n    ... on TripsCreateTripFromItem {\n      input {\n        itemId\n        source\n        attributes {\n          ...TripsSaveItemAttributesFragment\n        }\n        pageLocation\n        subscriptionAttributes {\n          anchorPrice\n        }\n      }\n    }\n  }\n\n  ","\n"]);return dn=function(){return e},e}function pn(){var e=Ie(["\n  fragment TripsFormActionFragment on TripsFormAction {\n    validatedInputIds\n    type\n    formData {\n      ...TripsFormDataFragment\n    }\n    analytics {\n      referrerId\n      linkName\n      uisPrimeMessages {\n        messageContent\n        schemaName\n      }\n    }\n    validatedInputAnalytics {\n      egdsElementId\n      analytics {\n        referrerId\n        linkName\n        uisPrimeMessages {\n          messageContent\n          schemaName\n        }\n      }\n      ... on TripsValidatedInputChangeAnalytics {\n        referenceValue\n      }\n    }\n  }\n\n  ","\n"]);return pn=function(){return e},e}function gn(){var e=Ie(["\n  mutation UnsaveItemFromTrip($context: ContextInput!, $tripItem: TripItemInput!, $tripEntity: TripEntity!) {\n    trip(context: $context) {\n      unsaveItemFromTrip(tripItem: $tripItem, tripEntity: $tripEntity) {\n        ... on TripsView {\n          toast {\n            ...TripsToastFragment\n          }\n          tripsSideEffects {\n            ...TripsChangeSaveItemStateFragment\n          }\n        }\n      }\n    }\n  }\n\n  ","\n  ","\n"]);return gn=function(){return e},e}function fn(){var e=Ie(["\n  fragment TripsUnsaveItemFromTripActionFragment on TripsUnsaveItemFromTripAction {\n    tripEntity\n    itemId\n    tripItem {\n      filter\n      tripItemId\n      tripViewId\n    }\n    analytics {\n      linkName\n      referrerId\n      uisPrimeMessages {\n        messageContent\n        schemaName\n      }\n    }\n  }\n"]);return fn=function(){return e},e}function vn(){var e=Ie(["\n  fragment TripsPrimaryButtonFragment on TripsPrimaryButton {\n    ...TripsInternalPrimaryButtonFragment\n    action {\n      ...TripsInternalLinkActionFragment\n      ...TripsNavigateToViewActionFragment\n      ...TripsOpenCreateNewTripDrawerForItemActionFragment\n      ...TripsCreateTripFromItemActionFragment\n      ...TripsFormActionFragment\n    }\n  }\n\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n"]);return vn=function(){return e},e}function Tn(){var e=Ie(["\n  fragment TripsDialogPrimaryButtonFragment on TripsPrimaryButton {\n    primary\n    icon {\n      description\n      id\n    }\n    disabled\n    width\n    action {\n      ...TripsSaveItemToTripActionFragment\n    }\n  }\n\n  fragment TripsDialogTertiaryButtonFragment on TripsTertiaryButton {\n    primary\n    icon {\n      description\n      id\n    }\n    disabled\n    width\n    action {\n      ...TripsDialogDismissActionFragment\n    }\n  }\n\n  fragment TripsDialogSecondaryButtonFragment on TripsSecondaryButton {\n    primary\n    icon {\n      description\n      id\n    }\n    disabled\n    width\n    action {\n      ...TripsDialogDismissActionFragment\n    }\n  }\n\n  fragment TripsDialogOverlayButtonFragment on TripsOverlayButton {\n    primary\n    icon {\n      description\n      id\n    }\n    disabled\n    width\n    action {\n      ...TripsDialogDismissActionFragment\n    }\n  }\n\n  ","\n  ","\n"]);return Tn=function(){return e},e}function In(){var e=Ie(["\n  fragment TripsEmbeddedContentListFragment on TripsEmbeddedContentList {\n    secondaries\n  }\n"]);return In=function(){return e},e}function yn(){var e=Ie(["\n  fragment TripsModalDialogFragment on TripsModalDialog {\n    heading\n    buttonLayout\n    buttons {\n      ...TripsDialogPrimaryButtonFragment\n      ...TripsDialogSecondaryButtonFragment\n      ...TripsDialogTertiaryButtonFragment\n      ...TripsDialogOverlayButtonFragment\n    }\n    content {\n      ...TripsEmbeddedContentListFragment\n    }\n  }\n  ","\n  ","\n"]);return yn=function(){return e},e}function En(){var e=Ie(["\n  fragment TripsOpenDialogActionFragment on TripsOpenDialogAction {\n    analytics {\n      referrerId\n      linkName\n      uisPrimeMessages {\n        messageContent\n        schemaName\n      }\n    }\n    modalDialog {\n      ...TripsModalDialogFragment\n    }\n  }\n\n  ","\n"]);return En=function(){return e},e}function Sn(){var e=Ie(["\n  fragment TripsSecondaryButtonFragment on TripsSecondaryButton {\n    ...TripsInternalSecondaryButtonFragment\n    action {\n      ...TripsOpenSaveToTripDrawerActionFragment\n      ...TripsInternalLinkActionFragment\n      ...TripsDismissDrawerActionFragment\n      ...TripsOpenCreateNewTripDrawerForItemActionFragment\n      ...TripsCreateTripFromItemActionFragment\n      ...TripsOpenDialogActionFragment\n    }\n  }\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n"]);return Sn=function(){return e},e}function _n(){var e=Ie(["\n  fragment TripsTertiaryButtonFragment on TripsTertiaryButton {\n    ...TripsInternalTertiaryButtonFragment\n\n    action {\n      ...TripsInternalLinkActionFragment\n      ...TripsOpenCreateNewTripDrawerForItemActionFragment\n      ...TripsCreateTripFromItemActionFragment\n    }\n  }\n\n  ","\n  ","\n  ","\n  ","\n"]);return _n=function(){return e},e}function hn(){var e=Ie(["\n  fragment TripsIllustrationCardFragment on TripsIllustrationCard {\n    primary\n    secondaries\n    illustration {\n      url\n      description\n    }\n  }\n"]);return hn=function(){return e},e}function bn(){var e=Ie(["\n  fragment EGDSLoyaltyBadgeFragment on EGDSLoyaltyBadge {\n    accessibility\n    text\n    size\n    theme\n  }\n"]);return bn=function(){return e},e}function An(){var e=Ie(["\n  fragment EGDSProgramBadgeFragment on EGDSProgramBadge {\n    accessibility\n    text\n    theme\n  }\n"]);return An=function(){return e},e}function Cn(){var e=Ie(["\n  fragment EGDSStandardBadgeFragment on EGDSStandardBadge {\n    accessibility\n    graphic {\n      ...UIGraphicFragment\n    }\n    text\n    size\n    theme\n  }\n\n  ","\n"]);return Cn=function(){return e},e}function Fn(){var e=Ie(["\n  fragment EGDSBadgeFragment on EGDSBadge {\n    ...EGDSStandardBadgeFragment\n    ...EGDSLoyaltyBadgeFragment\n    ...EGDSProgramBadgeFragment\n  }\n\n  ","\n  ","\n  ","\n"]);return Fn=function(){return e},e}function Dn(){var e=Ie(["\n  fragment TripsInternalImageSlimCardFragment on TripsImageSlimCard {\n    primary\n    secondaries\n    badgeList {\n      ...EGDSBadgeFragment\n    }\n    thumbnail {\n      aspectRatio\n      description\n      url\n    }\n    impressionTracking {\n      ...ClientSideImpressionAnalyticsFragment\n    }\n    accessibility {\n      hint\n      label\n    }\n  }\n\n  ","\n  ","\n"]);return Dn=function(){return e},e}function Nn(){var e=Ie(["\n  fragment TripsInternalSlimCardFragment on TripsSlimCard {\n    graphic {\n      ...EGDSIconFragment\n      ...EGDSMarkFragment\n      ...EGDSIllustrationFragment\n    }\n    primary\n    secondaries\n    impressionTracking {\n      ...ClientSideImpressionAnalyticsFragment\n    }\n    accessibility {\n      label\n    }\n  }\n\n  ","\n  ","\n  ","\n  ","\n"]);return Nn=function(){return e},e}function Pn(){var e=Ie(["\n  fragment TripsIconFragment on TripsIcon {\n    label\n    icon {\n      id\n      description\n      title\n      theme\n    }\n    action {\n      ...TripsSaveItemToTripActionFragment\n      ...TripsUnsaveItemFromTripActionFragment\n    }\n  }\n\n  ","\n  ","\n"]);return Pn=function(){return e},e}function wn(){var e=Ie(["\n  fragment TripsImageSlimCardFragment on TripsImageSlimCard {\n    ...TripsInternalImageSlimCardFragment\n    primaryAction {\n      ...TripsSaveItemToTripActionFragment\n      ...TripsUnsaveItemFromTripActionFragment\n    }\n    secondaryAction {\n      ...TripsSaveItemToTripActionFragment\n      ...TripsUnsaveItemFromTripActionFragment\n    }\n    cardIcon {\n      ...TripsIconFragment\n    }\n  }\n\n  ","\n  ","\n  ","\n  ","\n"]);return wn=function(){return e},e}function kn(){var e=Ie(["\n  fragment TripsItemRecallCardFragment on TripsItemRecallCard {\n    primary\n    secondaries\n    image {\n      description\n      url\n    }\n  }\n"]);return kn=function(){return e},e}function Rn(){var e=Ie(["\n  fragment TripsSlimCardFragment on TripsSlimCard {\n    ...TripsInternalSlimCardFragment\n    action {\n      ...TripsNavigateToViewActionFragment\n    }\n  }\n\n  ","\n  ","\n"]);return Rn=function(){return e},e}function On(){var e=Ie(["\n  fragment EGDSMaxLengthInputValidationFragment on EGDSMaxLengthInputValidation {\n    __typename\n    errorMessage\n    maxLength\n  }\n"]);return On=function(){return e},e}function Mn(){var e=Ie(["\n  fragment EGDSMinLengthInputValidationFragment on EGDSMinLengthInputValidation {\n    __typename\n    errorMessage\n    minLength\n  }\n"]);return Mn=function(){return e},e}function Vn(){var e=Ie(["\n  fragment EGDSRegexInputValidationFragment on EGDSRegexInputValidation {\n    __typename\n    errorMessage\n    pattern\n  }\n"]);return Vn=function(){return e},e}function Ln(){var e=Ie(["\n  fragment EGDSRequiredInputValidationFragment on EGDSRequiredInputValidation {\n    __typename\n    errorMessage\n  }\n"]);return Ln=function(){return e},e}function xn(){var e=Ie(["\n  fragment EGDSTravelersInputValidationFragment on EGDSTravelersInputValidation {\n    __typename\n    errorMessage\n  }\n"]);return xn=function(){return e},e}function Un(){var e=Ie(["\n  fragment MultiEmailValidationFragment on MultiEmailValidation {\n    __typename\n    errorMessage\n  }\n"]);return Un=function(){return e},e}function Bn(){var e=Ie(["\n  fragment SingleEmailValidationFragment on SingleEmailValidation {\n    __typename\n    errorMessage\n  }\n"]);return Bn=function(){return e},e}function Gn(){var e=Ie(["\n  fragment DurationSpanInputValidationFragment on DurationSpanInputValidation {\n    __typename\n    errorMessage\n  }\n"]);return Gn=function(){return e},e}function zn(){var e=Ie(["\n  fragment TripsValidatedInputFragment on TripsValidatedInput {\n    egdsElementId\n    instructions\n    label\n    placeholder\n    required\n    value\n    inputType\n    leftIcon {\n      leftIconId: id\n      title\n      description\n    }\n    rightIcon {\n      rightIconId: id\n      title\n      description\n    }\n    validations {\n      ...EGDSInputValidationFragment\n    }\n  }\n\n  fragment EGDSInputValidationFragment on EGDSInputValidation {\n    ...EGDSMaxLengthInputValidationFragment\n    ...EGDSMinLengthInputValidationFragment\n    ...EGDSRegexInputValidationFragment\n    ...EGDSRequiredInputValidationFragment\n    ...EGDSTravelersInputValidationFragment\n    ...MultiEmailValidationFragment\n    ...SingleEmailValidationFragment\n  }\n\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n"]);return zn=function(){return e},e}function Hn(){var e=Ie(["\n  fragment TripsFormContainerFragment on TripsFormContainer {\n    elements {\n      ...TripsPrimaryButtonFragment\n      ...TripsSecondaryButtonFragment\n      ...TripsValidatedInputFragment\n    }\n  }\n\n  ","\n  ","\n  ","\n"]);return Hn=function(){return e},e}function jn(){var e=Ie(["\n  fragment TripsInternalSectionContainerFragment on TripsSectionContainer {\n    __typename\n    heading\n    subheadings\n    tripsListSubTexts: subTexts\n    theme\n  }\n"]);return jn=function(){return e},e}function $n(){var e=Ie(["\n  fragment TripsSectionContainerFragment on TripsSectionContainer {\n    ...TripsInternalSectionContainerFragment\n    elements {\n      ...TripsPrimaryButtonFragment\n      ...TripsSecondaryButtonFragment\n      ...TripsTertiaryButtonFragment\n      ...TripsImageSlimCardFragment\n      ...TripsSlimCardFragment\n    }\n  }\n\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n"]);return $n=function(){return e},e}function qn(){var e=Ie(["\n  fragment ToolbarFragment on TripsToolbar {\n    actions {\n      primary {\n        accessibility {\n          label\n        }\n        action {\n          analytics {\n            linkName\n            referrerId\n          }\n        }\n      }\n      secondaries {\n        ...TripsTertiaryButtonFragment\n      }\n    }\n  }\n\n  ","\n"]);return qn=function(){return e},e}function Wn(){var e=Ie(["\n  fragment TripsComposableDrawerFragment on TripsComposableDrawer {\n    ...TripsInternalComposableDrawerFragment\n    tripsViewHeader {\n      toolbar {\n        ...ToolbarFragment\n      }\n    }\n    elements {\n      ...TripsSectionContainerFragment\n      ...TripsFormContainerFragment\n      ...TripsPrimaryButtonFragment\n      ...TripsSecondaryButtonFragment\n      ...TripsTertiaryButtonFragment\n      ...TripsImageSlimCardFragment\n      ...TripsSlimCardFragment\n      ...TripsIllustrationCardFragment\n      ...TripsItemRecallCardFragment\n    }\n  }\n\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n"]);return Wn=function(){return e},e}function Yn(){var e=Ie(["\n  query TripCreationQuery($metadata: TripCreationMetadataInput, $context: ContextInput!) {\n    trip(context: $context) {\n      creation(metadata: $metadata) {\n        ...TripsComposableDrawerFragment\n      }\n    }\n  }\n\n  ","\n"]);return Yn=function(){return e},e}function Kn(){var e=Ie(["\n  query TripsPlanQuery($item: TripsPlanInput!, $context: ContextInput!) {\n    trips(context: $context) {\n      plan(input: $item) {\n        ...TripsComposableDrawerFragment\n      }\n    }\n  }\n\n  ","\n"]);return Kn=function(){return e},e}function Zn(){var e=Ie(["\n  fragment TripsSaveItemFragment on TripsSaveItem {\n    initialChecked\n    itemId\n    source\n    attributes {\n      ...TripsSaveItemAttributesFragment\n    }\n    save {\n      ...TripsSaveItemPropertiesFragment\n    }\n    remove {\n      ...TripsSaveItemPropertiesFragment\n    }\n  }\n  ","\n  ","\n"]);return Zn=function(){return e},e}function Qn(){var e=Ie(["\n  fragment TripsSaveItemButtonFragment on TripsSecondaryButton {\n    primary\n    icon {\n      theme\n    }\n    action {\n      ...TripsOpenDialogActionFragment\n      ...TripsOpenSaveToTripDrawerActionFragment\n    }\n  }\n  ","\n  ","\n"]);return Qn=function(){return e},e}function Jn(){var e=Ie(["\n  fragment TripsViewContentItemFragment on TripsViewContentItem {\n    primary\n    action {\n      ...TripsNavigateToViewActionFragment\n    }\n  }\n\n  ","\n"]);return Jn=function(){return e},e}function Xn(){var e=Ie(["\n  fragment TripsInlineContentFragment on TripsInlineContent {\n    items {\n      ...TripsViewContentItemFragment\n    }\n  }\n\n  ","\n"]);return Xn=function(){return e},e}function et(){var e=Ie(["\n  fragment TripsSaveItemDetailsFragment on TripsSaveItemDetails {\n    heading\n    primary {\n      ...TripsInlineContentFragment\n    }\n    saveItemButton {\n      ...TripsSaveItemButtonFragment\n    }\n    graphicText {\n      text\n      graphic {\n        ... on Illustration {\n          description\n          url\n        }\n      }\n    }\n  }\n\n  ","\n  ","\n"]);return et=function(){return e},e}function nt(){var e=Ie(["\n  query TripSaveEntityQuery($context: ContextInput!, $saveItemInput: TripsSaveItemInput!) {\n    trips(context: $context) {\n      saveItem(input: $saveItemInput) {\n        subscriptionAttributes {\n          anchorPrice\n        }\n        saveItemDetails {\n          ...TripsSaveItemDetailsFragment\n        }\n        saveItemButton {\n          ...TripsSaveItemButtonFragment\n        }\n      }\n    }\n  }\n\n  ","\n  ","\n"]);return nt=function(){return e},e}var tt=Object.defineProperty,rt=function(e,n,t){return function(e,n,t){n in e?tt(e,n,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[n]=t}(e,"symbol"!==(void 0===n?"undefined":function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e}(n))?n+"":n,t),t},at=function(e,n){return n?I.createPortal(e,n):e},it=(0,y.QS)(void 0),ot=r.createContext(it);function st(){return r.useContext(ot)}var lt={onDismiss:function(e){e(void 0)}},ct=r.createContext(lt);function ut(){var e=r.useContext(ct),n=st();return{onDismiss:function(){lt.onDismiss(n),lt!==e&&e.onDismiss(n)}}}var mt=function(e){var n=e.ignoreCompleteStatus,t=e.refetch,a=ut().onDismiss,i=(0,g.useLocalization)().formatText,s=(0,f.t)().htmlElement,l=st(),c=(0,o.l)(l);if((0,r.useEffect)((function(){var e;(null===(e=c)||void 0===e?void 0:e.refetch)&&t&&(c.queryVariables?t(c.queryVariables):t())}),[c,t]),!c)return null;switch(c.status){case"reset":default:return l(void 0),null;case"loading":return at(r.createElement(v.i,{visible:!0}),s);case"error":return r.createElement(T.C,{onDismiss:a,show:!0},i("trip.error.cancel.message"));case"complete":return c.toastElement&&!n?c.toastElement:(l(void 0),null)}},dt=r.createContext({dialogName:"trips-dialog",drawerName:"trips-drawer"});function pt(){return r.useContext(dt).dialogName}function gt(){return r.useContext(dt).drawerName}var ft=r.createContext({onEditCTAInToastClick:function(){}}),vt=function(e){var n=e.children,t=e.onEditCTAInToastClick,a=r.useMemo((function(){return{onEditCTAInToastClick:t}}),[t]);return r.createElement(ft.Provider,{value:a},n)},Tt={MAP_SAVE_ITEM_ATTRIBUTES_MISSING:new N.nS(N.nl.INFO,"MAP_SAVE_ITEM_ATTRIBUTES_MISSING"),MAP_SAVE_ITEM_ATTRIBUTES_UNSUPPORTED_TYPENAME:new N.nS(N.nl.INFO,"MAP_SAVE_ITEM_ATTRIBUTES_UNSUPPORTED_TYPENAME")};function It(){var e=(0,N.Iw)(Tt);return function(n){if(!n)return e.MAP_SAVE_ITEM_ATTRIBUTES_MISSING.log({}),null;switch(n.__typename){case"TripsSaveStayAttributes":var t,r;return{stayAttributes:{checkInDate:n.checkInDate?{day:n.checkInDate.day,month:n.checkInDate.month,year:n.checkInDate.year}:null,checkoutDate:n.checkoutDate?{day:n.checkoutDate.day,month:n.checkoutDate.month,year:n.checkoutDate.year}:null,regionId:n.regionId,roomConfiguration:null!==(r=null===(t=n.roomConfiguration)||void 0===t?void 0:t.map((function(e){return{numberOfAdults:e.numberOfAdults,childAges:e.childAges}})))&&void 0!==r?r:null}};case"TripsSaveActivityAttributes":return{activityAttributes:{dateRange:n.dateRange?{start:{day:n.dateRange.start.day,month:n.dateRange.start.month,year:n.dateRange.start.year},end:{day:n.dateRange.end.day,month:n.dateRange.end.month,year:n.dateRange.end.year}}:null,regionId:n.regionId}};case"TripsSaveFlightSearchAttributes":var a,i,o,s,l,c,u,m,d,p;return{flightAttributes:{primary:{journeyCriterias:null===(a=n.searchCriteria)||void 0===a?void 0:a.primary.journeyCriterias.map((function(e){return{departureDate:{day:e.departureDate.day,month:e.departureDate.month,year:e.departureDate.year},destination:e.destination,origin:e.origin,destinationAirportLocationType:e.destinationAirportLocationType,originAirportLocationType:e.destinationAirportLocationType,arrivalDate:e.arrivalDate?{day:e.arrivalDate.day,month:e.arrivalDate.month,year:e.arrivalDate.year}:null}})),travelers:null===(i=n.searchCriteria)||void 0===i?void 0:i.primary.travelers.map((function(e){return{type:e.type,age:e.age}})),tripType:null===(o=n.searchCriteria)||void 0===o?void 0:o.primary.tripType,searchPreferences:(null===(s=n.searchCriteria)||void 0===s?void 0:s.primary.searchPreferences)?{cabinClass:n.searchCriteria.primary.searchPreferences.cabinClass,airline:n.searchCriteria.primary.searchPreferences.airline,advancedFilters:n.searchCriteria.primary.searchPreferences.advancedFilters}:null},secondary:(null===(l=n.searchCriteria)||void 0===l?void 0:l.secondary)?{booleans:null===(c=n.searchCriteria.secondary.booleans)||void 0===c?void 0:c.map((function(e){return{id:e.id,value:e.value}})),counts:null===(u=n.searchCriteria.secondary.counts)||void 0===u?void 0:u.map((function(e){return{id:e.id,value:e.value}})),dates:null===(m=n.searchCriteria.secondary.dates)||void 0===m?void 0:m.map((function(e){return{id:e.id,value:{month:e.value.month,day:e.value.day,year:e.value.year}}})),ranges:null===(d=n.searchCriteria.secondary.ranges)||void 0===d?void 0:d.map((function(e){return{id:e.id,min:e.min,max:e.max}})),selections:null===(p=n.searchCriteria.secondary.selections)||void 0===p?void 0:p.map((function(e){return{id:e.id,value:e.value}}))}:null}};case"TripsSaveCarOfferAttributes":return function(e){var n,t,r,a,i,o,s=e.categoryCode,l=e.fuelAcCode,c=e.offerToken,u=e.searchCriteria,m=e.transmissionDriveCode,d=e.typeCode,p=e.vendorCode,g=u||{},f=g.dropOffDateTime,v=g.dropOffLocation,T=g.pickUpDateTime,I=g.pickUpLocation,y=function(e){return{day:e.day,hour:e.hour,month:e.month,minute:e.minute,second:e.second,year:e.year}};return{carAttributes:{categoryCode:s,fuelAcCode:l,offerToken:c,searchCriteria:{dropOffDateTime:y(f),dropOffLocation:function(){if(v){var e=v.airportCode,n=v.coordinates,t=v.isExactLocationSearch,r=v.regionId,a=v.searchTerm;return{airportCode:e,coordinates:function(e){return e?{latitude:e.latitude,longitude:e.longitude}:null}(n),isExactLocationSearch:t,regionId:r,searchTerm:a}}return null}(),pickUpDateTime:y(T),pickUpLocation:(t=I.airportCode,r=I.coordinates,a=I.isExactLocationSearch,i=I.regionId,o=I.searchTerm,{airportCode:t,coordinates:(n=r,n?{latitude:n.latitude,longitude:n.longitude}:null),isExactLocationSearch:a,regionId:i,searchTerm:o})},transmissionDriveCode:m,typeCode:d,vendorCode:p}}}(n);default:return e.MAP_SAVE_ITEM_ATTRIBUTES_UNSUPPORTED_TYPENAME.log({}),null}}}var yt=function(e){return e.ACTIVITY_DETAILS="ACTIVITY_DETAILS",e.ACTIVITY_SEARCH="ACTIVITY_SEARCH",e.CAR_INFOSITE="CAR_INFOSITE",e.CAR_INFOSITE_V2="CAR_INFOSITE_V2",e.CAR_SEARCH="CAR_SEARCH",e.CAR_SEARCH_V2="CAR_SEARCH_V2",e.HOTEL_SEARCH="HOTEL_SEARCH",e.LODGING_DETAILS="LODGING_DETAILS",e.LODGING_SEARCH="LODGING_SEARCH",e.PACKAGE_DETAILS="PACKAGE_DETAILS",e.TRIP_OVERVIEW="TRIP_OVERVIEW",e}(yt||{});function Et(e){return null!=e}var St=function(e,n){var t;return(null===(t=e)||void 0===t?void 0:t.length)?e.map((function(e,t){var a,i,o,s=e.__typename,l=n.find((function(e){return e.fragment.__typename===s}));if(!l)return null;var c=null!==(o=null===(a=(i=l).getKey)||void 0===a?void 0:a.call(i,e))&&void 0!==o?o:"trips-composable-element";return r.createElement(l,{key:"".concat(s,"-").concat(c.toLowerCase(),"-").concat(t),data:e})})).filter(Et):null},_t=(0,i.Ps)(Se()),ht=(0,i.Ps)(_e()),bt=(0,i.Ps)(he(),ht,_t),At=function(e){var n=e.data,t=e.children,a=(0,u.useEgClickstream)();return r.useEffect((function(){var e,t,r,i,o,s,l,c;n.clickstreamAnalytics&&a((e=n.clickstreamAnalytics,t=e.event,r=t.clickstreamTraceId,i=t.eventName,o=t.eventType,s=t.eventVersion,l=t.eventCategory,c=e.payload,{event:{clickstream_trace_id:r,event_name:i,event_version:s,event_type:o,event_category:l},recommendation_module:{recommendation_title:c.title,eg_recommendation_response_id:c.responseId,recommendations:c.recommendations.map((function(e){return function(e){return{recommendation_id:e.id,recommendation_position:e.position,presentation_details_price_displayed:e.priceDisplayed,presentation_details_currency_code:e.currencyCode,presentation_details_recommendation_name:e.name}}(e)}))}}))}),[n.clickstreamAnalytics,a]),n.uisPrimeAnalytics?r.createElement(u.IntersectionTracker,{referrerId:n.uisPrimeAnalytics.referrerId,linkName:n.uisPrimeAnalytics.linkName,intersectionOptions:{threshold:.5}},t):r.createElement(r.Fragment,null,t)};At.displayName="ClientSideImpressionAnalyticsIntersectionTracker",At.fragment=bt;var Ct=function(e){var n,t,a,i=e.data,o=e.children,s=(0,u.useClickstreamAnalytics)().track,l=null===(a=i)||void 0===a||null===(t=a.uisPrimeAnalytics)||void 0===t||null===(n=t.uisPrimeMessages)||void 0===n?void 0:n.map((function(e){var n,t=e.schemaName,r=e.messageContent;try{n=JSON.parse(r)}catch(a){n=null}return{schemaName:t,messageContent:n}}));return r.useEffect((function(){if(i.uisPrimeAnalytics){var e={data:[{schemaName:"referrer",messageContent:{referrerId:i.uisPrimeAnalytics.referrerId,linkName:i.uisPrimeAnalytics.linkName,eventType:"impression"}}].concat(ye(l||[]))};s(u.ITrackType.EVENT,e)}}),[i.uisPrimeAnalytics,s]),r.createElement(r.Fragment,null,o)};Ct.displayName="ClientSideImpressionAnalyticsTracker",Ct.fragment=bt;var Ft=(0,i.Ps)(be(),Ct.fragment),Dt=function(e){var n,t=e.data,a=ut().onDismiss,i=Te((0,p.gw)(),1)[0];if(!t.primary)return null;var o=r.createElement(T.C,{show:!0,onDismiss:a,verticalOffset:null===(n=i.toastState)||void 0===n?void 0:n.offset},t.primary);return t.impressionTracking?r.createElement(Ct,{data:t.impressionTracking},o):o};Dt.fragment=Ft,Dt.displayName="TripsInfoToast",Dt.fragment.__typename="TripsInfoToast";var Nt,Pt,wt,kt=(0,i.Ps)(Ae()),Rt=(0,i.Ps)(Ce()),Ot=(0,i.Ps)(Fe()),Mt=function(e){var n=e.data,t=e.defaultIconSize,a=e.className;return r.createElement(k.fR,{className:a,description:n.description,id:n.id,name:n.id,size:n.size?k.eZ[n.size]:t,title:null!==(Nt=n.title)&&void 0!==Nt?Nt:void 0,theme:null!==(Pt=n.theme)&&void 0!==Pt?Pt:void 0,shadow:null!==(wt=n.withBackground)&&void 0!==wt?wt:void 0})};Mt.displayName="Icon",(Mt.fragment=Ot).__typename="Icon";var Vt=(0,i.Ps)(De()),Lt=function(e){var n=e.data;return r.createElement(R.a,{alt:n.description,url:n.link})};Lt.displayName="Illustration",(Lt.fragment=Vt).__typename="Illustration";var xt=(0,i.Ps)(Ne()),Ut=function(e){var n,t,a=e.data,i=e.defaultMarkSize,o=e.className;return(null===(n=a.url)||void 0===n?void 0:n.value)?r.createElement(O.F,{className:o,description:a.description,id:a.id,name:a.id,size:a.markSize?M.j[a.markSize]:i,url:null===(t=a.url)||void 0===t?void 0:t.value}):null};Ut.displayName="Mark",(Ut.fragment=xt).__typename="Mark";var Bt=(0,i.Ps)(Pe(),Mt.fragment,Ut.fragment,Lt.fragment),Gt=function(e){var n,t=e.data,a=e.defaultIconSize,i=e.defaultMarkSize,o=e.className;switch(null===(n=t)||void 0===n?void 0:n.__typename){case"Icon":return r.createElement(Mt,{className:o,data:t,defaultIconSize:a});case"Mark":return r.createElement(Ut,{className:o,data:t,defaultMarkSize:i});case"Illustration":return r.createElement(Lt,{data:t});default:return null}};Gt.displayName="UIGraphic",Gt.fragment=Bt;var zt=(0,i.Ps)(we(),Gt.fragment),Ht=function(e){var n=e.className,t=e.textSize,a=e.data;return r.createElement(h.v,{className:n,space:"one",alignItems:"center"},r.createElement(b.t,null,r.createElement(Gt,{data:a.graphic})),r.createElement(b.t,null,r.createElement(D.b,{size:t},a.text)))};Ht.fragment=zt,Ht.displayName="EGDSGraphicText";var jt=(0,i.Ps)(ke()),$t=function(e){var n=e.className,t=e.align,a=e.size,i=e.data.text;return r.createElement(D.b,{className:n,align:t,size:a},i)};$t.fragment=jt,$t.displayName="EGDSPlainText";var qt=(0,i.Ps)(Re(),$t.fragment,Ht.fragment),Wt=function(e){var n,t=e.className,a=e.textAlign,i=e.textSize,o=e.data;switch(null===(n=o)||void 0===n?void 0:n.__typename){case"EGDSPlainText":return r.createElement($t,{className:t,align:a,size:i,data:o});case"EGDSGraphicText":return r.createElement(Ht,{className:t,textSize:i,data:o});default:return null}};Wt.fragment=qt,Wt.displayName="EGDSText";var Yt=(0,i.Ps)(Oe(),$t.fragment),Kt=(0,i.Ps)(Me(),Yt),Zt=(0,i.Ps)(Ve(),Kt),Qt=(0,i.Ps)(Le(),Rt,kt,Zt);function Jt(e){return e.map((function(e){var n,t=e.schemaName,r=e.messageContent;try{n=JSON.parse(r)}catch(a){n=null}return{schemaName:t,messageContent:n}}))}function Xt(e){var n=st(),t=(0,u.useClickTracker)(),a=r.useContext(ft).onEditCTAInToastClick;return r.useCallback((function(){if(e.button.action)switch(e.button.action.__typename){case"TripsNavigateToViewAction":var r=Jt(e.button.action.analytics.uisPrimeMessages);t(e.button.action.analytics.referrerId,e.button.action.analytics.linkName,void 0,r);var i=e.button.action,o=i.viewUrl,s=i.displayMode;if(!o)return;n({status:"reset"}),"NEW_TAB"===s?window.open(o,"_blank"):window.location.href=o;break;case"TripsDismissAction":t(e.button.action.analytics.referrerId,e.button.action.analytics.linkName),n({status:"reset"});break;case"TripsOpenDrawerAction":var l=Jt(e.button.action.analytics.uisPrimeMessages);t(e.button.action.analytics.referrerId,e.button.action.analytics.linkName,void 0,l),a(),n({status:"reset"})}}),[e,t,n,a])}var er=(0,i.Ps)(xe(),Qt,Ct.fragment),nr=function(e){var n,t=e.data,a=ut().onDismiss,i=Te((0,p.gw)(),1)[0],o=Xt(t),s=r.createElement(T.C,{onDismiss:a,actionCallback:o,actionText:t.button.primary||void 0,show:!0,autoHide:!0,verticalOffset:null===(n=i.toastState)||void 0===n?void 0:n.offset},t.primary);return t.impressionTracking?r.createElement(Ct,{data:t.impressionTracking},s):s};nr.fragment=er,nr.displayName="TripsInlineActionToast",nr.fragment.__typename="TripsInlineActionToast";var tr=(0,i.Ps)(Ue(),Qt,Ct.fragment),rr=function(e){var n,t=e.data,a=ut().onDismiss,i=Xt(t),o=Te((0,p.gw)(),1)[0],s=r.createElement(T.C,{onDismiss:a,actionCallback:i,actionText:t.button.primary||void 0,show:!0,stacked:!0,autoHide:!0,verticalOffset:null===(n=o.toastState)||void 0===n?void 0:n.offset},t.primary);return t.impressionTracking?r.createElement(Ct,{data:t.impressionTracking},s):s};rr.fragment=tr,rr.displayName="TripsStackedActionToast",rr.fragment.__typename="TripsStackedActionToast";var ar=(0,i.Ps)(Be(),Dt.fragment,nr.fragment,rr.fragment),ir=function(e){var n,t,a=e.data;return n=a,(t=[Dt,nr,rr].find((function(e){return e.fragment.__typename===n.__typename})))?r.createElement(t,{data:n}):null};ir.fragment=ar,ir.displayName="TripsToast";var or=(0,i.Ps)(Ge()),sr=(0,i.Ps)(ze(),or);function lr(){var e=(0,V.x)().cache;return r.useCallback((function(n,t){var r,a,i={__typename:"TripsLocalSavedItem",id:n,checked:t},o=null!==(a=null===(r=e.readQuery({query:sr}))||void 0===r?void 0:r.localSavedItems.filter((function(e){return e.id!==n})))&&void 0!==a?a:[];e.writeQuery({query:sr,data:{localSavedItems:ye(o).concat([i])}})}),[e])}var cr={TRIP_ITEM_SAVED:"TRIP_ITEM_SAVED",TRIP_ITEM_UNSAVED:"TRIP_ITEM_UNSAVED"},ur=(0,i.Ps)(He()),mr=(0,i.Ps)(je(),ur),dr=(0,i.Ps)($e()),pr=(0,i.Ps)(qe()),gr=(0,i.Ps)(We(),dr,pr),fr=(0,i.Ps)(Ye(),ur),vr=(0,i.Ps)(Ke(),ur),Tr=(0,i.Ps)(Ze(),mr,vr,fr,gr),Ir=(0,i.Ps)(Qe()),yr=(0,i.Ps)(Je(),ir.fragment,Ir),Er=(0,i.Ps)(Xe(),Tr),Sr={SAVE_ITEM_TO_TRIP_ACTION_ERROR:new N.nS(N.nl.ERROR,"SAVE_ITEM_TO_TRIP_ACTION_ERROR"),SAVE_ITEM_TO_TRIP_ACTION_SUCCESS:new N.nS(N.nl.INFO,"SAVE_ITEM_TO_TRIP_ACTION_SUCCESS")},_r=function(e,n){if("TripsView"===e.trip.saveItemToTrip.__typename&&e.trip.saveItemToTrip.toast)return at(r.createElement(ir,{data:e.trip.saveItemToTrip.toast}),n)},hr=function(e){var n=(0,c.v)().context,t=(0,N.Iw)(Sr),r=(0,f.t)().htmlElement,a=gt(),i=Te((0,m.useDialog)(a),2),o=i[0],s=i[1],l=Te((0,m.useDialog)("trips-dialog"),2),u=l[0],d=l[1],p=lr(),g=It(),v=(0,S.s0)().publishSignal,T=st(),I=Te((0,P.D)(yr),1)[0];if("TripsSaveItemToTripAction"===e.__typename){var y=e.tripId,E=e.saveItemInput;return{onClick:function(){if(E){o&&s.closeDialog(),u&&d.closeDialog();var e=E.itemId,a=E.pageLocation,i=E.source,l=E.subscriptionAttributes,c=E.tripItem;T({status:"loading"}),I({variables:{itemInput:{itemId:e,pageLocation:a,source:i,attributes:g(E.attributes),subscriptionAttributes:l?{anchorPrice:l.anchorPrice}:void 0,tripItem:c?{tripItemId:c.tripItemId,tripViewId:c.tripViewId}:void 0},tripId:y,context:n}}).then((function(n){if(n.data){var a,i=_r(n.data,r);T({status:i?"complete":"reset",toastElement:i,refetch:!0});var o=n.data.trip.saveItemToTrip;return"TripsView"===o.__typename&&(null===(a=o.tripsSideEffects)||void 0===a?void 0:a.length)&&o.tripsSideEffects.forEach((function(e){"TripsChangeSaveItemState"===e.__typename&&(p(e.tripItemId,e.toggleState),v({type:cr.TRIP_ITEM_SAVED,payload:{tripItemId:e.tripItemId,toggleState:e.toggleState}}))})),t.SAVE_ITEM_TO_TRIP_ACTION_SUCCESS.log({message:"Save item to trip succeeded.",variables:{tripItemId:e,tripViewId:y}}),Promise.resolve()}return Promise.reject(new Error("response.data is null"))})).catch((function(n){T({status:"error"}),t.SAVE_ITEM_TO_TRIP_ACTION_ERROR.log({message:"Save item to trip failed.",variables:{tripItemId:e,tripViewId:y},error:n})}))}}}}},br=(0,i.Ps)(en()),Ar=(0,y.QS)(void 0),Cr={BOTTOM:"bottom",CENTER:"centered",FULL:"full",SIDE:"side"},Fr=(0,i.Ps)(nn(),At.fragment),Dr=function(e){var n=e.dialogName,t=e.data,a=e.children,i=e.toolBar,o=e.triggerRef,s=Te((0,m.useDialog)(n),3),l=s[0],c=s[2],u=t.tripsViewHeader,d=t.type,p=null!=u?u:{},g=p.primary,f=p.secondaries,v=d?Cr[d]:void 0,T=r.createElement("div",null,g&&r.createElement(C.l,{margin:f&&0!==f.length?{blockend:"three"}:{blockend:"six"}},r.createElement(B.y,{tag:"h1",size:4},g)),Array.isArray(f)&&f.map((function(e,n){return r.createElement(C.l,{key:"trip-subheading-".concat(n),padding:{blockend:"six"}},r.createElement("div",null,r.createElement(G.w,{tag:"p"},e)))})),a),I=r.createElement(r.Fragment,null,"bottom"===v?T:r.createElement(C.l,{margin:{small:"four",medium:"six"}},T)),y=r.createElement(L.U,{isVisible:l},r.createElement(c,null,r.createElement(_.Viewport,null,r.createElement(_.ViewSmall,null,r.createElement(x.K,{isVisible:!0,type:null!=v?v:"full",autoFocus:!0,returnFocusOnClose:!0,triggerRef:null!=o?o:null},i,r.createElement(U.z,{key:"".concat(n,"-composable-drawer-dialog-content")},I))),r.createElement(_.ViewMedium,null,r.createElement(x.K,{isVisible:!0,type:null!=v?v:"side",sideSheetLayout:{position:"trailing",columns:6},triggerRef:null!=o?o:null,centeredSheetSize:"small",autoFocus:!0,returnFocusOnClose:!0},i,r.createElement(U.z,{padded:!1},I))),r.createElement(_.ViewLarge,null,r.createElement(x.K,{isVisible:!0,type:null!=v?v:"side",sideSheetLayout:{position:"trailing",columns:4},triggerRef:null!=o?o:null,centeredSheetSize:"small",autoFocus:!0,returnFocusOnClose:!0},i,r.createElement(U.z,{padded:!1},I))))));return t.impressionTracking?r.createElement(At,{data:t.impressionTracking},y):y};Dr.displayName="TripsComposableDrawer",Dr.fragment=Fr;var Nr=(0,i.Ps)(tn()),Pr=function(e){var n,t=e.data,a=ve(e,["data"]);if(!t||!t.primary)return null;var i=t.primary,o=t.icon,s=t.width,l=t.accessibility,c="MATCH_PARENT_CONTAINER"===s;return r.createElement(z.Y,ge({"aria-label":(null===(n=l)||void 0===n?void 0:n.label)?l.label:i,isFullWidth:c},a),o&&r.createElement(k.fR,{name:o.id,size:k.eZ.MEDIUM}),i)};Pr.displayName="TripsPrimaryButton",(Pr.fragment=Nr).__typename="TripsPrimaryButton";var wr=(0,i.Ps)(rn()),kr=function(e){var n,t=e.data,a=e.isFullWidth,i=void 0===a||a,o=e.actionProps;if(!t||!t.primary)return null;var s,l=t.primary,c=t.icon,u=t.disabled,m=t.accessibility;return r.createElement(C.l,{margin:{blockstart:"three"}},r.createElement("div",null,r.createElement(H.p,fe(ge({"aria-label":null!==(s=null===(n=m)||void 0===n?void 0:n.label)&&void 0!==s?s:l,disabled:u},o),{isFullWidth:i}),c&&r.createElement(k.fR,{name:c.id,size:k.eZ.MEDIUM}),l)))};kr.displayName="TripsSecondaryButton",(kr.fragment=wr).__typename="TripsSecondaryButton",kr.getKey=function(e){return e.primary};var Rr=(0,i.Ps)(an()),Or=function(e){var n,t,a=e.data,i=ve(e,["data"]);if(!a||!a.primary&&!a.icon)return null;var o=a.primary,s=a.icon,l=a.disabled,c=a.width,u=a.accessibility,m="MATCH_PARENT_CONTAINER"===c;return r.createElement(j.m,ge({size:o?$.xY.MEDIUM:$.xY.LARGE,"aria-label":(null===(n=u)||void 0===n?void 0:n.label)?u.label:null!=o?o:null===(t=s)||void 0===t?void 0:t.description,disabled:l,className:o?"":"uitk-button-only-icon",isFullWidth:m},i),s&&r.createElement(k.fR,{name:s.id}),o)};Or.displayName="TripsTertiaryButton",(Or.fragment=Rr).__typename="TripsTertiaryButton";var Mr=(0,i.Ps)(on()),Vr=function e(){!function(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}(this,e),rt(this,"data",{inputFields:[]}),rt(this,"stateFieldName","validatedInputs"),rt(this,"events",["addInputField","updateInputValue","updateInputErrorMessage","removeInputField"]),rt(this,"update",(function(e,n,t){switch(e){case"addInputField":return fe(ge({},n),{inputFields:ye(n.inputFields).concat([{inputId:t.data.inputId,inputValue:t.data.inputValue,currentErrorMessage:void 0,validations:t.data.validations}])});case"updateInputValue":return fe(ge({},n),{inputFields:ye(n.inputFields.map((function(e){return e.inputId===t.data.inputId?fe(ge({},e),{inputValue:t.data.inputValue}):e})))});case"updateInputErrorMessage":return fe(ge({},n),{inputFields:ye(n.inputFields.map((function(e){return e.inputId===t.data.inputId?fe(ge({},e),{currentErrorMessage:t.data.currentErrorMessage}):e})))});case"removeInputField":return fe(ge({},n),{inputFields:ye(n.inputFields.filter((function(e){return t.data.inputId!==e.inputId})))});default:return ge({},n)}}))},Lr=/^[a-zA-Z0-9.!#$%&*+=?^_`{|}~-]+@[a-zA-Z0-9_-]+(\.\w{2,3})+$/,xr=function(e,n){var t,r="";if(!(null===(t=n)||void 0===t?void 0:t.length))return r;var a=e.trim(),i=a.length;return n.every((function(e){switch(e.__typename){case"EGDSRequiredInputValidation":return!(a.length<1)||(r=e.errorMessage,!1);case"EGDSMaxLengthInputValidation":return!(i>e.maxLength)||(r=e.errorMessage,!1);case"EGDSMinLengthInputValidation":return!(i<e.minLength)||(r=e.errorMessage,!1);case"MultiEmailValidation":if(a.includes(",")){if(!a.split(",").map((function(e){return e.trim()})).every((function(e){return!!e.match(Lr)})))return r=e.errorMessage,!1}else if(!a.match(Lr))return r=e.errorMessage,!1;return!0;case"SingleEmailValidation":return!!a.match(Lr)||(r=e.errorMessage,!1);case"EGDSRegexInputValidation":return!!a.match(e.pattern)||(r=e.errorMessage,!1);default:return!0}})),r},Ur={TRIPS_MUTATION_SEND_INFO:new N.nS(N.nl.INFO,"TRIPS_MUTATION_SEND_INFO"),TRIPS_MUTATION_SEND_SUCCESS_INFO:new N.nS(N.nl.INFO,"TRIPS_MUTATION_SEND_SUCCESS_INFO"),TRIPS_MUTATION_SEND_ERROR:new N.nS(N.nl.ERROR,"TRIPS_MUTATION_SEND_ERROR"),TRIPS_MUTATION_SEND_INPUTS_NOT_VALIDATED_INFO:new N.nS(N.nl.INFO,"TRIPS_MUTATION_SEND_INPUTS_NOT_VALIDATED_INFO")},Br=function(e,n,t){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],a=arguments.length>4?arguments[4]:void 0,i=arguments.length>5?arguments[5]:void 0,o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:"inputs",s=(0,c.v)().context,l=(0,N.Iw)(Ur),u=Te((0,p.gw)(),2),d=u[0],g=u[1],v=gt(),T=Te((0,m.useDialog)(v),2)[1],I=(0,E._$)(a).emit,y=(0,f.t)().htmlElement,S=st(),_=(0,q.rY)(e),h=Te((0,P.D)(e),1)[0];return{onClick:function(){S({status:"loading"}),l.TRIPS_MUTATION_SEND_INFO.log({message:"Sending ".concat(_),variables:n});var e=n.inputIds,a=ve(n,["inputIds"]),c=d.validatedInputs.inputFields.filter((function(n){return e.includes(n.inputId)}));if(function(e,n){return!!e.length&&e.every((function(e){var t=xr(e.inputValue,e.validations);return n({type:"updateInputErrorMessage",payload:{inputId:e.inputId,currentErrorMessage:t}}),""===t||!e.validations}))}(c,g)){var u=c.map((function(e){return{key:e.inputId,value:e.inputValue}}));I();var m=ge(pe({context:s},o,u),a);T.closeDialog(),e.forEach((function(e){g({type:"removeInputField",payload:{inputId:e}})})),h({variables:m}).then((function(e){var a;l.TRIPS_MUTATION_SEND_SUCCESS_INFO.log({message:"".concat(_," mutation complete"),variables:n});var o=t(e.data,y);S({status:o?"complete":"reset",toastElement:o,refetch:r}),null===(a=i)||void 0===a||a(e.data)})).catch((function(e){S({status:"error"}),l.TRIPS_MUTATION_SEND_ERROR.log({message:"".concat(_," mutation failed on send"),variables:n,error:e})}))}else{S({status:"reset"}),l.TRIPS_MUTATION_SEND_INPUTS_NOT_VALIDATED_INFO.log({message:"".concat(_," mutation failed because some inputs validations failed"),variables:n,requiredVariables:c});var p=d.validatedInputs.inputFields.find((function(e){return""!==xr(e.inputValue,e.validations)}));if(p){var f;null===(f=document.getElementById(p.inputId))||void 0===f||f.focus()}}}}},Gr=(0,i.Ps)(sn(),Tr),zr=(0,i.Ps)(ln()),Hr=(0,i.Ps)(cn(),Tr),jr=new N.nS(N.nl.INFO,"TRIPS_OPEN_SAVE_TO_TRIP_DRAWER_ACTION_INFO"),$r=(0,i.Ps)(un(),Tr),qr=(0,i.Ps)(mn()),Wr=(0,i.Ps)(dn(),Tr),Yr=(0,i.Ps)(pn(),Wr),Kr=(0,y.QS)(void 0),Zr=(0,i.Ps)(gn(),ir.fragment,Ir),Qr=(0,i.Ps)(fn()),Jr={UNSAVE_ITEM_FROM_TRIP_ACTION_ERROR:new N.nS(N.nl.ERROR,"UNSAVE_ITEM_FROM_TRIP_ACTION_ERROR"),UNSAVE_ITEM_FROM_TRIP_ACTION_SUCCESS:new N.nS(N.nl.INFO,"UNSAVE_ITEM_FROM_TRIP_ACTION_SUCCESS")},Xr={TripsInvalidValidAction:function(){},TripsSaveItemToTripAction:hr,TripsUnsaveItemFromTripAction:function(e){var n=(0,c.v)().context,t=(0,N.Iw)(Jr),a=(0,f.t)().htmlElement,i=Te((0,P.D)(Zr),1)[0],o=gt(),s=Te((0,m.useDialog)(o),2)[1],l=lr(),u=(0,S.s0)().publishSignal,d=st();if("TripsUnsaveItemFromTripAction"===e.__typename){var p=e.tripItem,g=e.tripEntity,v=p.tripItemId,T=p.tripViewId;return{onClick:function(){s.closeDialog(),d({status:"loading"}),i({variables:{tripItem:{tripItemId:v,tripViewId:T},tripEntity:g,context:n}}).then((function(e){if(e.data){var n,i=function(e,n){if("TripsView"===e.trip.unsaveItemFromTrip.__typename&&e.trip.unsaveItemFromTrip.toast)return at(r.createElement(ir,{data:e.trip.unsaveItemFromTrip.toast}),n)}(e.data,a);d({status:i?"complete":"reset",toastElement:i,refetch:!0});var o=e.data.trip.unsaveItemFromTrip;return"TripsView"===o.__typename&&(null===(n=o.tripsSideEffects)||void 0===n?void 0:n.length)&&o.tripsSideEffects.forEach((function(e){"TripsChangeSaveItemState"===e.__typename&&(l(e.tripItemId,e.toggleState),u({type:cr.TRIP_ITEM_UNSAVED,payload:{tripItemId:e.tripItemId,toggleState:e.toggleState}}))})),t.UNSAVE_ITEM_FROM_TRIP_ACTION_SUCCESS.log({message:"Unsave item from trip success",variables:{tripItemId:v,tripViewId:T}}),Promise.resolve()}return Promise.reject(new Error("response.data is null"))})).catch((function(e){d({status:"error"}),t.UNSAVE_ITEM_FROM_TRIP_ACTION_ERROR.log({message:"Unsave item from trip failed",variables:{tripItemId:v,tripViewId:T},error:e})}))}}}},TripsDismissDrawerAction:function(){var e=gt(),n=Te((0,m.useDialog)(e),2)[1];return{onClick:r.useCallback((function(){n.closeDialog()}),[n])}},TripsOpenCreateNewTripDrawerForItemAction:function(e){var n=It();if("TripsOpenCreateNewTripDrawerForItemAction"===e.__typename){var t=e.createTripMetadata;if(t){var r=t.saveItemInput;if(r){var a=r.itemId,i=r.pageLocation,o=r.attributes,s=r.subscriptionAttributes,l={type:"TripCreationDrawerOptions",queryInputs:{item:{itemId:a,saveItemInput:{itemId:a,pageLocation:i,attributes:n(o),subscriptionAttributes:s?{anchorPrice:s.anchorPrice}:void 0}}}};return{onClick:function(){Ar(l)}}}}}},TripsCreateTripFromItemAction:function(e){var n=It(),t=lr();if("TripsCreateTripFromItemAction"===e.__typename){var r=e.saveItemInput,a=e.inputIds;if(r){var i=r.itemId,o=r.pageLocation,s=r.attributes,l=r.subscriptionAttributes,c={inputIds:a,itemInput:{itemId:i,pageLocation:o,attributes:n(s),subscriptionAttributes:l?{anchorPrice:l.anchorPrice}:void 0}};return Br(yr,c,_r,!0,[],(function(e){var n,r,a,i=null===(n=e)||void 0===n?void 0:n.trip.saveItemToTrip;"TripsView"===(null===(r=i)||void 0===r?void 0:r.__typename)&&(null===(a=i.tripsSideEffects)||void 0===a?void 0:a.length)&&i.tripsSideEffects.forEach((function(e){"TripsChangeSaveItemState"===e.__typename&&t(e.tripItemId,e.toggleState)}))}),"newTripInputs")}}},TripsNavigateToViewAction:function(e){var n=(0,w.H)().navigate;if("TripsNavigateToViewAction"===e.__typename){var t=e.viewUrl;return t?ge({href:t},n&&{onClick:function(e){return n({event:e,absoluteURL:t})}}):{}}},TripsDismissAction:function(e){var n=pt(),t=Te((0,m.useDialog)(n),2)[1],r=st();if("TripsDismissAction"===e.__typename)return{onClick:function(){r({status:"reset"}),t.closeDialog()}}},TripsLinkAction:function(e){var n,t;return(null===(t=e)||void 0===t||null===(n=t.resource)||void 0===n?void 0:n.value)?{href:e.resource.value,target:"EXTERNAL"===e.target?"_blank":"_self",rel:"EXTERNAL"===e.target?"noopener noreferrer":""}:{}},TripsFormAction:function(e){var n,t=It(),a=lr(),i=(0,u.useClickTracker)(),o=Te((0,p.gw)(),1)[0],s=(0,S.s0)().publishSignal,l=r.useCallback((function(e){var n=o.validatedInputs.inputFields.find((function(n){return n.inputId===e}));return n?n.inputValue:void 0}),[o.validatedInputs.inputFields]),c=r.useRef(new Set);if(r.useEffect((function(){var n;"TripsFormAction"===e.__typename&&(null===(n=e.validatedInputAnalytics)||void 0===n||n.forEach((function(e){var n=e.egdsElementId,t=e.referenceValue,r=e.analytics;if(!c.current.has(n)){var a=l(n);void 0!==a&&a!==t&&(i(r.referrerId,r.linkName),c.current.add(n))}})))}),[e,l,i]),"TripsFormAction"===e.__typename){var m=e.validatedInputIds,d=e.formData,g=e.type;if("TripsCreateTripFromItem"===(null===(n=d)||void 0===n?void 0:n.__typename)){var f=d.input,v=f.itemId,T=f.source,I=f.pageLocation,y=f.attributes,E=f.subscriptionAttributes;if(!m.length)return{};if("CREATE_NEW_TRIP_FROM_ITEM"===g){var _={inputIds:m,itemInput:{itemId:v,pageLocation:I,source:T,attributes:t(y),subscriptionAttributes:E?{anchorPrice:E.anchorPrice}:void 0}};return Br(yr,_,(function(e,n){var t,a;if("TripsView"===e.trip.saveItemToTrip.__typename)return null!==(a=(null===(t=e.trip.saveItemToTrip)||void 0===t?void 0:t.toast)&&at(r.createElement(ir,{data:e.trip.saveItemToTrip.toast}),n))&&void 0!==a?a:void 0}),!0,[],(function(e){var n,t,r,i=null===(n=e)||void 0===n?void 0:n.trip.saveItemToTrip;"TripsView"===(null===(t=i)||void 0===t?void 0:t.__typename)&&(null===(r=i.tripsSideEffects)||void 0===r?void 0:r.length)&&i.tripsSideEffects.forEach((function(e){"TripsChangeSaveItemState"===e.__typename&&(a(e.tripItemId,e.toggleState),s({type:cr.TRIP_ITEM_SAVED,payload:{tripItemId:e.tripItemId,toggleState:e.toggleState}}))}))}),"newTripInputs")}return{}}}},TripsOpenSaveToTripDrawerAction:function(e){var n,t=(0,N.Iw)({TRIPS_OPEN_SAVE_TO_TRIP_DRAWER_ACTION_INFO:jr}),r=gt(),a=Te((0,m.useDialog)(r),2)[1],i=It();if("TripsOpenSaveToTripDrawerAction"===(null===(n=e)||void 0===n?void 0:n.__typename)){var o=e.input,s=o.itemId,l=o.pageLocation,c=o.attributes,u=o.subscriptionAttributes,d=o.tripItem,p={type:"TripSaveItemDrawerOptions",queryInputs:{item:{itemId:s,pageLocation:l,attributes:i(c),subscriptionAttributes:u?{anchorPrice:u.anchorPrice}:void 0,tripItem:d?{tripItemId:d.tripItemId,tripViewId:d.tripViewId}:void 0}}};return{onClick:function(){t.TRIPS_OPEN_SAVE_TO_TRIP_DRAWER_ACTION_INFO.log({message:"Save to trip button clicked",variables:{tripItemId:s}}),a.openDialog(),Ar(p)}}}},TripsOpenDialogAction:function(e){var n=pt(),t=Te((0,m.useDialog)(n),2)[1];if("TripsOpenDialogAction"===e.__typename){var r=e.modalDialog;return r?{onClick:function(){Kr(r),t.openDialog()}}:{}}}};var ea=function(e){var n=(0,u.useClickTracker)(),t=function(e){return Boolean(e&&Object.keys(Xr).find((function(n){return e.__typename===n})))}(e)?e:{__typename:"TripsInvalidValidAction"},r=Xr[t.__typename](t);return"TripsInvalidValidAction"!==t.__typename&&r?ge({onClickCapture:function(){var e=t.analytics.uisPrimeMessages.map((function(e){return{messageContent:JSON.parse(e.messageContent),schemaName:e.schemaName}}));n(t.analytics.referrerId,t.analytics.linkName,!1,e)}},r):{}},na=(0,i.Ps)(vn(),Pr.fragment,Mr,Rt,Hr,Gr,Yr),ta=function(e){var n,t=e.data,a=st(),i=(0,o.l)(a),s=ea(t.action),l=fe(ge({},s),{disabled:t.disabled||s.disabled||"loading"===(null===(n=i)||void 0===n?void 0:n.status)});return r.createElement(Pr,ge({data:t},l))};ta.displayName="PrimaryButton",(ta.fragment=na).__typename="TripsPrimaryButton";var ra=(0,i.Ps)(Tn(),Er,qr),aa=function(e){var n,t,a,i=e.data,s=st(),l=(0,o.l)(s),c=ea(null===(n=i)||void 0===n?void 0:n.action);if(!(null===(t=i)||void 0===t?void 0:t.primary))return null;var u=i.primary,m=i.icon,d=i.width,p=i.__typename,g=i.disabled,f="MATCH_PARENT_CONTAINER"===d,v=fe(ge({},c),{disabled:g||c.disabled||"loading"===(null===(a=l)||void 0===a?void 0:a.status)});switch(p){case"TripsPrimaryButton":return r.createElement(z.Y,ge({isFullWidth:f},v),m&&r.createElement(k.fR,{name:m.id,size:k.eZ.MEDIUM}),u);case"TripsSecondaryButton":return r.createElement(H.p,ge({isFullWidth:f},v),m&&r.createElement(k.fR,{name:m.id,size:k.eZ.MEDIUM}),u);case"TripsTertiaryButton":return r.createElement(j.m,ge({isFullWidth:f},v),m&&r.createElement(k.fR,{name:m.id,size:k.eZ.MEDIUM}),u);default:return null}};aa.displayName="DialogActionElement",aa.fragment=ra;var ia=(0,i.Ps)(In()),oa=function(e){var n,t=e.data;return r.createElement(r.Fragment,null,null===(n=t.secondaries)||void 0===n?void 0:n.map((function(e,n){return r.createElement(D.b,{key:"".concat(n)},e)})))};oa.displayName="EmbeddedContentList",oa.fragment=ia;var sa=function(e){var n,t,a=e.data,i=a.heading,o=a.buttons,s=a.content;return r.createElement(W.A,{dialogShow:!0,returnFocusOnClose:!0},r.createElement(Y.D,{key:"trips-dialog-inline-content"},i&&r.createElement(B.y,{tag:"h1",size:5},i),null===(n=s)||void 0===n?void 0:n.map((function(e,n){return r.createElement(oa,{data:e,key:n})})),r.createElement(C.l,{margin:{blockstart:"four"}},r.createElement(h.v,{space:"three"},null===(t=o)||void 0===t?void 0:t.map((function(e,n){return r.createElement(b.t,{grow:1,key:"trips-dialog-inline-action-element-".concat(n)},r.createElement(C.l,null,r.createElement(aa,{data:e})))}))))))},la=(0,i.Ps)(yn(),aa.fragment,oa.fragment),ca=function(e){var n,t=e.data,a=pt(),i=Te((0,m.useDialog)(a),3),o=i[0],s=i[2];return t.heading||(null===(n=t.content)||void 0===n?void 0:n.length)?r.createElement(L.U,{isVisible:o},r.createElement(s,null,r.createElement(sa,{data:t}))):null};ca.displayName="ModalDialog",ca.fragment=la;var ua=(0,i.Ps)(En(),ca.fragment),ma=(0,i.Ps)(Sn(),kr.fragment,Mr,zr,Hr,Gr,$r,ua),da=function(e){var n=e.data,t=e.isFullWidth,a=ea(n.action);return r.createElement(kr,{actionProps:a,data:n,isFullWidth:t})};da.displayName="SecondaryButton",(da.fragment=ma).__typename="TripsSecondaryButton",da.getKey=function(e){return e.primary};var pa=(0,i.Ps)(_n(),Or.fragment,Mr,Hr,Gr),ga=function(e){var n=e.data,t=ea(n.action);return r.createElement(Or,ge({data:n},t))};ga.displayName="TertiaryButton",(ga.fragment=pa).__typename="TripsTertiaryButton";var fa,va=(0,i.Ps)(hn()),Ta=function(e){var n,t,a=e.data;if(!a)return null;var i=a.primary,o=a.secondaries,s=a.illustration;return r.createElement(C.l,{margin:{small:{blockend:"six"},medium:{block:"twelve"}}},r.createElement(K.t,null,r.createElement(h.v,{justifyContent:"center",direction:"column",alignItems:"center"},r.createElement(r.Fragment,null,r.createElement(b.t,{maxWidth:"24x"},(null===(n=s)||void 0===n?void 0:n.url)&&r.createElement(R.a,{alt:s.description,url:s.url})),(i||(null===(t=o)||void 0===t?void 0:t.length)>0)&&r.createElement(C.l,{margin:{blockstart:"three"}},r.createElement("div",null,i&&r.createElement(B.y,{tag:"h3",size:5,align:"center"},i),Array.isArray(o)&&o.map((function(e,n){return r.createElement(D.b,{size:300,key:"trip-illustration-subheading-".concat(n)},e)}))))))))};Ta.displayName="TripsIllustrationCardFragment",(Ta.fragment=va).__typename="TripsIllustrationCard";var Ia=(pe(fa={},Z._5.SMALL,"small"),pe(fa,Z._5.LARGE,"large"),fa),ya={lowtier:"lowtier",midtier:"midtier",hightier:"hightier",vip:"vip",extrahightier:"extrahightier"},Ea={deal:"deal",member:"member",trip:"trip",supplierpromo:"supplierpromo",vmc:"vmc"},Sa={standard:"standard",emphasis:"emphasis",info:"info",featured:"featured",brand:"brand",warning:"warning",positive:"positive"},_a=(0,i.Ps)(bn()),ha=function(e){var n=e.className,t=e.badgeSize,a=e.data,i=a.text,o=a.theme,s=a.accessibility,l=a.size,c=l?Ia[l]:void 0;return i?r.createElement(ee.G,{className:n,a11yText:null!=s?s:void 0,text:i,size:null!=t?t:c,theme:o?ya[o]:void 0}):null};ha.fragment=_a,ha.displayName="EGDSLoyaltyBadge";var ba=(0,i.Ps)(An()),Aa=function(e){var n,t=e.className,a=e.data,i=a.text,o=a.theme,s=a.accessibility;return i&&o?r.createElement(ne.Z,{className:t,a11yText:null!=s?s:void 0,text:i,theme:null!==(n=Ea[o])&&void 0!==n?n:"deal"}):null};Aa.fragment=ba,Aa.displayName="EGDSProgramBadge";var Ca=(0,i.Ps)(Cn(),Gt.fragment),Fa=function(e){var n=e.className,t=e.badgeSize,a=e.data,i=a.graphic,o=a.text,s=a.theme,l=a.accessibility,c=a.size,u=c?Ia[c]:void 0;return o?!s&&i?r.createElement("div",{className:n},r.createElement(Gt,{data:i,defaultIconSize:k.eZ.EXTRA_SMALL,defaultMarkSize:M.j.EXTRA_SMALL}),r.createElement(C.l,{padding:{inlinestart:"one"}},r.createElement(D.b,{size:200,inline:!0},a.text))):r.createElement(te.F,{className:n,a11yText:null!=l?l:void 0,text:o,size:null!=t?t:u,theme:s?Sa[s]:void 0}):null};Fa.fragment=Ca,Fa.displayName="EGDSStandardBadge";var Da=(0,i.Ps)(Fn(),Fa.fragment,ha.fragment,Aa.fragment),Na=function(e){var n=e.className,t=e.size,a=e.data;switch(a.__typename){case"EGDSStandardBadge":return r.createElement(Fa,{className:n,badgeSize:t,data:a});case"EGDSLoyaltyBadge":return r.createElement(ha,{className:n,badgeSize:t,data:a});case"EGDSProgramBadge":return r.createElement(Aa,{className:n,data:a});default:return null}};Na.fragment=Da,Na.displayName="EGDSBadge";var Pa=function(e){var n=e.src,t=e.alt,a=e.placeholderImage,i=void 0===a||a;return r.createElement(r.Fragment,null,n?r.createElement(re.p,{src:n,alt:t,placeholderImage:i}):r.createElement("div",{"data-stid":"placeholder-image",className:"uitk-image-placeholder uitk-image-placeholder-image"}))},wa=(0,i.Ps)(Dn(),At.fragment,Na.fragment),ka=function(e){var n,t=e.data,a=e.cardRightSideLinkSection,i=e.cardIconSection,o=t.primary,s=t.secondaries,l=t.badgeList;return r.createElement(C.l,{padding:"three"},r.createElement(h.v,{direction:"column",space:"one"},l&&l.length>0&&r.createElement(b.t,null,r.createElement(h.v,{wrap:"wrap"},l.map((function(e,n){return r.createElement(b.t,{key:"trip-image-slim-card-".concat(o,"-").concat(n)},r.createElement(C.l,{margin:{blockend:"half",inlineend:"one"}},r.createElement(Na,{size:Z._5.SMALL,data:e})))})))),o&&r.createElement(X.a,{rows:1,columns:2},r.createElement(X.a,null,r.createElement(B.y,{size:6,overflow:"truncate-2-lines"},o)),r.createElement(X.a,null,r.createElement(A.O,{type:"absolute",cloneElement:!0,position:{top:"zero",right:"zero"}},r.createElement("div",null,i,a)))),null===(n=s)||void 0===n?void 0:n.map((function(e,n){return r.createElement(b.t,{key:"trip-image-slim-card-".concat(n)},r.createElement(D.b,{size:300,overflow:"truncate-2-lines"},e))}))))},Ra=function(e){var n,t,a=e.data,i=e.middleSection,o=e.cardLeftSideLinkSection,s=e.cardMiddleLinkSection,l=e.cardRightSideLinkSection,c=e.cardIconSection,u=a.impressionTracking,m=a.thumbnail,d=r.createElement(C.l,{margin:{block:"three"}},r.createElement(K.t,{border:!0,overflow:!0},r.createElement(h.v,null,m&&r.createElement(b.t,{minWidth:"16x",shrink:0},r.createElement(Q.U,{padded:["blockstart","blockend","inlinestart"]},r.createElement(J.N,{ratio:J.s.R1_1,roundcorner:!0},r.createElement(Pa,{src:null!==(n=m.url)&&void 0!==n?n:void 0,alt:null!==(t=m.description)&&void 0!==t?t:void 0})),o)),r.createElement(b.t,{grow:1},r.createElement(Q.U,{padded:!1},null!=i?i:r.createElement(ka,{data:a,cardIconSection:c,cardRightSideLinkSection:l}),s)))));return u?r.createElement(At,{data:u},d):d};Ra.displayName="ImageSlimCard",(Ra.fragment=wa).__typename="TripsImageSlimCard";var Oa=(0,i.Ps)(Nn(),Mt.fragment,Ut.fragment,Lt.fragment,At.fragment),Ma=function(e){var n,t,a=e.data,i=e.actionProps,o=e.isActionAvailable,s=a.graphic,l=a.primary,c=a.secondaries,u=a.accessibility,m=a.impressionTracking,d=r.createElement(C.l,{margin:{blockstart:"three"}},r.createElement(K.t,{border:!0,overflow:!0},r.createElement(Q.U,null,r.createElement(C.l,{margin:l&&!c?{block:"two"}:"unset"},r.createElement(h.v,{space:"two",alignItems:"center"},r.createElement(r.Fragment,null,s&&r.createElement(C.l,{padding:{inline:"three"}},r.createElement("div",null,r.createElement(b.t,null,r.createElement(Gt,{data:s,defaultIconSize:k.eZ.MEDIUM,defaultMarkSize:M.j.MEDIUM})))),r.createElement(b.t,{grow:1},r.createElement("div",null,l&&r.createElement(B.y,{tag:"h3",size:6},l),Array.isArray(c)&&c.map((function(e,n){return r.createElement(D.b,{size:300,spacing:"one",key:"trip-subheading-".concat(n)},e)})))),o&&r.createElement(b.t,null,r.createElement(k.fR,{name:"chevron_right","data-testid":"chevron_right"})))))),(i.href||i.onClick)&&r.createElement(ae.o,null,i.href?r.createElement("a",ge({},i),null===(n=u)||void 0===n?void 0:n.label):r.createElement("button",ge({type:"button"},i),null===(t=u)||void 0===t?void 0:t.label))));return m?r.createElement(At,{data:m},d):d};Ma.displayName="SlimCard",(Ma.fragment=Oa).__typename="TripsSlimCard";var Va=(0,i.Ps)(Pn(),Er,Qr),La={inlinestart:"one"},xa={blockstart:"three",inlineend:"three"},Ua=function(e){var n,t,a=e.data,i=a.label,o=a.icon;return r.createElement(C.l,{padding:xa},r.createElement(Q.U,null,r.createElement(h.v,{alignItems:"center",wrap:"wrap",justifyContent:"space-around"},o&&r.createElement(k.fR,{name:o.id,id:o.id,description:o.description,title:null!==(n=o.title)&&void 0!==n?n:void 0,"data-testid":o.id,theme:null!==(t=o.theme)&&void 0!==t?t:"default"}),i&&r.createElement(C.l,{margin:La},r.createElement(D.b,{size:400,overflow:"wrap"},i)))))};Ua.displayName="CardIcon",(Ua.fragment=Va).__typename="TripsIcon";var Ba=(0,i.Ps)(wn(),Ra.fragment,Er,Qr,Ua.fragment),Ga=function(e){var n,t,a=e.data,i=ea(a.primaryAction),o=ea(a.secondaryAction),s=ea(null!==(t=null===(n=a.cardIcon)||void 0===n?void 0:n.action)&&void 0!==t?t:null),l=a.accessibility,c=a.cardIcon,u=(null!=c?c:{}).label,m=r.useMemo((function(){var e;return o?r.createElement(ae.o,null,r.createElement("button",ge({type:"button"},o),null===(e=l)||void 0===e?void 0:e.label)):null}),[l,o]),d=r.useMemo((function(){var e;return i?r.createElement(ae.o,null,r.createElement("button",ge({type:"button"},i),null===(e=l)||void 0===e?void 0:e.label)):null}),[l,i]),p=r.useMemo((function(){return s?r.createElement(ae.o,null,r.createElement("button",ge({type:"button"},s),u)):null}),[u,s]),g=r.useMemo((function(){return c&&r.createElement(Ua,{data:c})}),[c]);return r.createElement(Ra,{data:a,cardLeftSideLinkSection:m,cardMiddleLinkSection:d,cardRightSideLinkSection:p,cardIconSection:g})};Ga.displayName="ImageSlimCard",(Ga.fragment=Ba).__typename="TripsImageSlimCard",Ga.getKey=function(e){return e.primary};var za=(0,i.Ps)(kn()),Ha=function(e){var n,t,a,i=e.data,o=i.primary,s=i.secondaries,l=i.image;return r.createElement(C.l,{padding:{blockend:"six"}},r.createElement(K.t,null,r.createElement(h.v,null,r.createElement(b.t,{minWidth:150,shrink:0},r.createElement(J.N,{ratio:J.s.R3_2,roundcorner:!0,imageFit:"cover"},r.createElement(re.p,{src:null===(n=l)||void 0===n?void 0:n.url,alt:null===(t=l)||void 0===t?void 0:t.description,placeholderImage:!0}))),r.createElement(Q.U,{padded:["inlinestart"]},r.createElement("div",null,r.createElement(B.y,{overflow:"truncate-3-lines",tag:"h3",size:5,align:"left"},o),null===(a=s)||void 0===a?void 0:a.map((function(e,n){return r.createElement(b.t,{key:"trip-item-recall-card-".concat(n)},r.createElement(Q.U,{padded:["blockstart"]},r.createElement(D.b,{size:300},e)))})))))))};Ha.displayName="ItemRecallCard",(Ha.fragment=za).__typename="TripsItemRecallCard";var ja=(0,i.Ps)(Rn(),Ma.fragment,Rt),$a=function(e){var n,t,a=e.data,i=ea(null===(n=a)||void 0===n?void 0:n.action),o=a.action;return r.createElement(Ma,{data:a,actionProps:i,isActionAvailable:Boolean(null===(t=o)||void 0===t?void 0:t.__typename)})};$a.displayName="SlimCard",($a.fragment=ja).__typename="TripsSlimCard",$a.getKey=function(e){return e.primary};var qa=function(e){var n=e.elements;return n&&n.length?r.createElement(ie.$,{hasRequiredFieldIndicator:!0,name:"trips-form"},n.map((function(e,n){return r.createElement(C.l,{key:"trips-form-item-".concat(n),margin:{blockend:"three"}},r.createElement("div",null,e))}))):null},Wa=(0,i.Ps)(On()),Ya=(0,i.Ps)(Mn()),Ka=(0,i.Ps)(Vn()),Za=(0,i.Ps)(Ln()),Qa=(0,i.Ps)(xn()),Ja=(0,i.Ps)(Un()),Xa=(0,i.Ps)(Bn()),ei=((0,i.Ps)(Gn()),(0,i.Ps)(zn(),Wa,Ya,Ka,Za,Qa,Ja,Xa));function ni(e){return"EGDSMaxLengthInputValidation"===e.__typename}var ti=function(e){var n,t,a,i,o,s,l=e.data,c=Te((0,p.gw)(),2),u=c[0],m=c[1];if(r.useEffect((function(){var e;l&&(u.validatedInputs.inputFields.some((function(e){return e.inputId===l.egdsElementId}))||m({type:"addInputField",payload:{inputId:l.egdsElementId,inputValue:null!==(e=l.value)&&void 0!==e?e:"",validations:l.validations}}))}),[null===(n=l)||void 0===n?void 0:n.egdsElementId]),!(null===(t=l)||void 0===t?void 0:t.egdsElementId))return null;var d,g=l.egdsElementId,f=l.label,v=l.placeholder,T=l.instructions,I=l.required,y=l.leftIcon,E=l.validations,S="MULTIPLE"===l.inputType,_=S?null===(a=E)||void 0===a?void 0:a.find(ni):void 0,h=u.validatedInputs.inputFields.find((function(e){return e.inputId===g})),b=null===(i=h)||void 0===i?void 0:i.currentErrorMessage,A=T?{primary:T}:void 0,F={id:g,icon:null===(o=y)||void 0===o?void 0:o.leftIconId,name:g,label:null!=f?f:"",placeholder:null!=v?v:"",value:null!==(d=null===(s=h)||void 0===s?void 0:s.inputValue)&&void 0!==d?d:"",required:null!=I&&I,invalid:b,instruction:A,onChange:function(e){if(m({type:"updateInputValue",payload:{inputId:g,inputValue:e.target.value}}),_){var n=xr(e.target.value,E);m({type:"updateInputErrorMessage",payload:{inputId:g,currentErrorMessage:n}})}},onBlur:function(e){e.preventDefault();var n=e.target.value,t=xr(n,E);m({type:"updateInputErrorMessage",payload:{inputId:g,currentErrorMessage:t}})}},D=S?oe.J:se.w;return r.createElement(C.l,{margin:{blockend:"three"}},r.createElement("div",null,r.createElement(D,ge({},F))))};ti.displayName="TripsValidatedInput",(ti.fragment=ei).__typename="TripsValidatedInput";var ri=(0,i.Ps)(Hn(),ta.fragment,da.fragment,ti.fragment),ai=function(e){var n=e.data.elements,t=St(n,[ta,da,ti]);return r.createElement(qa,{elements:t})};ai.displayName="FormContainer",(ai.fragment=ri).__typename="TripsFormContainer";var ii=(0,i.Ps)(jn()),oi=function(e){var n,t,a=e.data,i=e.children,o=a.heading,s=a.subheadings,l=a.tripsListSubTexts,c="IMPORTANT"===a.theme?"six":"twelve";return r.createElement(C.l,{padding:{inline:"six"},margin:{blockstart:c}},r.createElement("section",null,o&&r.createElement(B.y,{tag:"h2",size:5},o),s||l?r.createElement(C.l,{margin:{block:"three"}},r.createElement("div",null,null===(n=s)||void 0===n?void 0:n.map((function(e){return r.createElement(G.w,{key:e},e)})),null===(t=l)||void 0===t?void 0:t.map((function(e){return r.createElement(D.b,{key:e,size:100},e)})))):null,i))};oi.displayName="TripsSectionContainer",oi.fragment=ii,oi.getKey=function(e){return e.heading};var si=(0,i.Ps)($n(),oi.fragment,ta.fragment,da.fragment,ga.fragment,Ga.fragment,$a.fragment),li=function(e){var n=e.data,t=n.elements,a=St(t,[$a,Ga,ta,da,ga]);return r.createElement(oi,{data:n},a)};li.displayName="SectionContainer",(li.fragment=si).__typename="TripsSectionContainer";var ci=(0,i.Ps)(qn(),ga.fragment),ui=function(e){var n,t,a=e.data,i=e.dialogName,o=a.actions,s=o.primary,l=s.accessibility,c=s.action,d=o.secondaries,p=(0,u.useClickTracker)(),g=Te((0,m.useDialog)(i),2)[1],f=d&&r.createElement(h.v,{justifyContent:"space-between"},d.map((function(e){return r.createElement(b.t,{key:e.primary},r.createElement(ga,{data:e}))})));return r.createElement(le.b,{key:"".concat(i,"-composable-drawer-toolbar"),navigationContent:{onClick:function(){c&&p(c.analytics.referrerId,c.analytics.linkName),g.closeDialog()},navIconLabel:null!==(t=null===(n=l)||void 0===n?void 0:n.label)&&void 0!==t?t:void 0,navType:"close"},toolbarActionContent:f})};ui.fragment=ci,ui.displayName="Toolbar";var mi=(0,i.Ps)(Wn(),Dr.fragment,li.fragment,ai.fragment,ta.fragment,da.fragment,ga.fragment,Ga.fragment,$a.fragment,ui.fragment,Ta.fragment,Ha.fragment),di=function(e){var n,t,a=e.data,i=e.refetch,s=a.elements,l=gt(),c=St(s,[li,ai,ta,da,ga,Ga,$a,Ta,Ha]),u=null===(n=(0,o.l)(Ar))||void 0===n?void 0:n.favoriteSwitchRef;if(!c)return null;var m=(null===(t=a.tripsViewHeader)||void 0===t?void 0:t.toolbar)?r.createElement(ui,{data:a.tripsViewHeader.toolbar,dialogName:l}):null;return r.createElement(r.Fragment,null,r.createElement(Dr,{triggerRef:u,dialogName:l,data:a,toolBar:m},c),r.createElement(mt,{refetch:i}))};di.displayName="ComposableDrawer",(di.fragment=mi).__typename="TripsComposableDrawer";var pi=(0,i.Ps)(Yn(),di.fragment),gi=new N.nS(N.nl.ERROR,"FETCH_TRIP_CREATION_VIEW_ERROR"),fi=function(e){var n,t,a,i=e.inputs,o=(0,c.v)().context,l=(0,f.t)().htmlElement,u=(0,N.Iw)({FETCH_TRIP_CREATION_VIEW_ERROR:gi}),m=(0,g.useLocalization)().formatText,d=fe(ge({},i),{context:o}),p=(0,s.a)(pi,{variables:d,fetchPolicy:"cache-and-network",notifyOnNetworkStatusChange:!0}),I=p.data,y=p.loading,E=p.error;return E?(u.FETCH_TRIP_CREATION_VIEW_ERROR.log({error:E}),at(r.createElement(T.C,{show:!0},m("trip.error.detail.message")),l)):r.createElement(r.Fragment,null,y&&at(r.createElement(v.i,{visible:!0}),l),"TripsComposableDrawer"===(null===(a=I)||void 0===a||null===(t=a.trip)||void 0===t||null===(n=t.creation)||void 0===n?void 0:n.__typename)&&r.createElement(di,{data:I.trip.creation}))};fi.displayName="TripCreationDrawer";var vi=(0,i.Ps)(Kn(),di.fragment),Ti=new N.nS(N.nl.ERROR,"FETCH_TRIPS_PLAN_VIEW_ERROR"),Ii=function(e){var n,t,a,i=e.inputs,o=(0,c.v)().context,l=(0,f.t)().htmlElement,u=(0,N.Iw)({FETCH_TRIPS_PLAN_VIEW_ERROR:Ti}),m=(0,g.useLocalization)().formatText,d=fe(ge({},i),{context:o}),p=(0,s.a)(vi,{variables:d,fetchPolicy:"cache-and-network",notifyOnNetworkStatusChange:!0}),I=p.data,y=p.loading,E=p.error,S=p.refetch;return E?(u.FETCH_TRIPS_PLAN_VIEW_ERROR.log({error:E}),at(r.createElement(T.C,{show:!0},m("trip.error.detail.message")),l)):r.createElement(r.Fragment,null,y&&at(r.createElement(v.i,{visible:!0}),l),"TripsComposableDrawer"===(null===(a=I)||void 0===a||null===(t=a.trips)||void 0===t||null===(n=t.plan)||void 0===n?void 0:n.__typename)&&r.createElement(di,{data:I.trips.plan,refetch:S}))};Ii.displayName="TripSaveItemDrawer";var yi=function(e){switch(e.type){case"TripSaveItemDrawerOptions":return r.createElement(Ii,{inputs:{item:e.queryInputs.item}});case"TripCreationDrawerOptions":return r.createElement(fi,{inputs:{metadata:{saveItemInput:e.queryInputs.item.saveItemInput}}});default:return null}},Ei=yt,Si=(0,i.Ps)(Zn(),Tr,br),_i=function(e){var n,t,i,g,f,v,T,I,y,N=e.data,P=e.source,w=e.heartLayoutPosition,k=e.saveItemCallback,R=e.removeItemCallback,O=N.itemId,M=N.initialChecked,V=N.save,L=N.remove,x=N.attributes,U=N.source,B=r.useMemo((function(){return Math.random().toString(36).slice(2,5)}),[]),G="trip-save-item-".concat(B),z=(0,u.useClickTracker)(),H=gt(),j=Te((0,m.useDialog)(H),2)[1],$=(0,o.l)(Ar),q=It(),W=(0,c.v)().context,Y=(0,d.useExperiment)("Saving_anonymous_signinscreen_web"),K=Y.exposure,Z=Y.logExperiment,Q=(0,d.useExperiment)("one_click_save"),J=Q.exposure,X=Q.logExperiment,ee=(0,d.useExperiment)("Disable_heart_icon_bug_fix"),ne=ee.exposure,te=ee.logExperiment,re=(0,d.useExperiment)("Persist_saving_anonymous"),ae=re.exposure,ie=re.logExperiment,oe=(0,d.useExperiment)("Heart_RedOutline_LodgingLX"),se=oe.exposure,le=oe.logExperiment,ce=(0,d.useExperiment)("Saving_for_Identified_Users").exposure,ue=(0,_.useMediaQueries)({viewSizes:_.defaultViewSizes}),me=st(),de=(0,o.l)(me),pe={__typename:"TripsSaveItemToTripAction",analytics:V.analytics,saveItemInput:{itemId:O,pageLocation:U,source:P,attributes:x,subscriptionAttributes:null,tripItem:null}},fe=hr(pe),ve=(0,s.a)(sr,{fetchPolicy:"cache-only"}).data;if(!Te((0,p.gw)(),1)[0].validatedInputs)throw new Error("TripSaveItem must be wrapped with a provider that provides ValidatedInputsState");var Ie,ye=null!==(y=null===(t=ve)||void 0===t||null===(n=t.localSavedItems.find((function(e){return e.id===O})))||void 0===n?void 0:n.checked)&&void 0!==y?y:M,Ee=1===ne.bucket&&"loading"===(null===(i=de)||void 0===i?void 0:i.status)&&((null===(g=$)||void 0===g?void 0:g.queryInputs.item.itemId)===O||sessionStorage.getItem("itemId")===O),Se=null!==(Ie=ye?L.accessibility:V.accessibility)&&void 0!==Ie?Ie:void 0,_e=ye?L.analytics:V.analytics,he=ye?L.label:V.label,be=ye?R:k,Ae=r.useRef(null),Ce=null===(f=W.identity)||void 0===f?void 0:f.authState,Fe="AUTHENTICATED"===Ce,De="AUTHENTICATED"!==Ce,Ne="ANONYMOUS"===Ce,Pe="IDENTIFIED"===Ce,we=null===(v=window.location)||void 0===v?void 0:v.search,ke=null===(T=window.location)||void 0===T?void 0:T.pathname,Re=new URLSearchParams(we),Oe=(0,a.useHistory)(),Me=!1,Ve=["CAR_SEARCH_V2","CAR_INFOSITE_V2"].includes(P),Le=["LODGING_DETAILS","LODGING_SEARCH"].includes(P),xe=["ACTIVITY_DETAILS","ACTIVITY_SEARCH"].includes(P),Ue=function(){return Le||xe},Be=function(){return 1===J.bucket||2===J.bucket},Ge=function(){return 1===ce.bucket},ze=r.useMemo((function(){return{type:"TripSaveItemDrawerOptions",queryInputs:{item:{itemId:O,source:P,pageLocation:U,attributes:q(x),subscriptionAttributes:void 0}},favoriteSwitchRef:Ae}}),[O,P,U,x,q]);(0,S._9)({query:{type:cr.TRIP_ITEM_SAVED},onSignal:function(e){var n,t;1===J.bucket&&sessionStorage.setItem("itemId",null===(t=e)||void 0===t||null===(n=t.payload)||void 0===n?void 0:n.tripItemId)}});var He=function(){return ye||0===J.bucket&&!ye||Be()&&De&&!Pe||Pe&&!Ge()&&Be()},je=function(){return Pe&&Ge()&&Be()||Be()},$e=r.useCallback((function(){var e,n,t,r,a="".concat(ke).concat(we),i="/login?redirectTo=".concat(encodeURIComponent(a)),o=null===(n=_e)||void 0===n||null===(e=n.uisPrimeMessages)||void 0===e?void 0:e.map((function(e){var n=e.schemaName,t=e.messageContent;return{schemaName:n,messageContent:JSON.parse(t)}}));_e&&z(_e.referrerId,_e.linkName,void 0,o),Ne&&ie(ae),De&&(Z(K),1===K.bucket&&(window.location.href=i)),be&&be(),me({status:"reset"}),Ae.current=document.activeElement,X(J),te(ne),sessionStorage.removeItem("itemId"),He()?(j.openDialog(),Ar(ze)):je()&&(null===(t=fe)||void 0===t?void 0:t.onClick)&&(fe.onClick(),sessionStorage.setItem("itemId",O)),"AUTHENTICATED"===Ce&&(r={one_click_save_interacted:!0},window.tc_vars=window.tc_vars?ge({},window.tc_vars,r):r)}),[_e,z,j,be,ze,W]);(0,r.useEffect)((function(){var e;1===ae.bucket&&O&&Re.get("saveItemId")===O&&Fe&&(Re.delete("saveItemId"),Oe.replace({pathname:null===(e=window.location)||void 0===e?void 0:e.pathname,search:Re.toString()}),$e())}),[]);var qe=Te(r.useState(he),2),We=qe[0],Ye=qe[1];r.useEffect((function(){ue!==_.defaultViewSizes.SMALL?Ye(he):Ye("")}),[ue,he]);var Ke=r.useMemo((function(){return r.createElement("div",{"data-stid":"outlined-save-button"},r.createElement(l.tc,{key:G,checked:ye,accessibilityLabel:Se,accentOutlineHighlighted:!0,onClick:$e,text:We||void 0}))}),[G,Se,ye,$e,P,Ee]),Ze=r.useMemo((function(){return r.createElement(F.s,{key:G,id:G,label:Se,checked:ye,onChange:$e,disabled:Ee})}),[G,Se,ye,$e,Ee]),Qe=r.useMemo((function(){return r.createElement(h.v,{direction:"row",alignItems:"center"},r.createElement(b.t,null,Ze),r.createElement(b.t,null,r.createElement(_.Viewport,null,r.createElement(_.ViewMedium,null,r.createElement(C.l,{padding:{inlineend:"four"}},r.createElement(D.b,{whiteSpace:"nowrap","data-stid":"save-item-label"},he))))))}),[Ze,he]),Je=r.useCallback((function(){Ue()&&le(se);var e=function(){return 1===se.bucket&&Ue()||Ve?Ke:he?Qe:Ze};return w?r.createElement(A.O,{type:w.type,position:w.position},e()):e()}),[w,P,he,Qe,Ze,Ke]);return r.createElement(vt,{onEditCTAInToastClick:function(){1===J.bucket&&(sessionStorage.getItem("itemId")&&(ze.queryInputs.item.itemId=sessionStorage.getItem("itemId")),Ar(ze),j.openDialog())}},r.createElement(E.Fu,null,Je(),(null===(I=$)||void 0===I?void 0:I.queryInputs.item.itemId)===O&&r.createElement(yi,ge({},$)),function(){var e,n=Be()&&"undefined"!=typeof sessionStorage&&sessionStorage.getItem("itemId")===O;return"complete"===(null===(e=de)||void 0===e?void 0:e.status)?!Me&&(Me=!0,n):n}()&&r.createElement(mt,null)))};_i.fragment=Si,_i.displayName="sharedui-TripSaveItem";var hi=(0,i.Ps)(Qn(),ua,$r),bi=function(e){var n,t,a=e.data,i=null!==(t=a.primary)&&void 0!==t?t:void 0,o="negative"===(null===(n=a.icon)||void 0===n?void 0:n.theme),s=ea(a.action),l=s.onClick,c=s.onClickCapture,u=r.useCallback((function(){var e,n;null===(e=l)||void 0===e||e(),null===(n=c)||void 0===n||n()}),[l,c]);return r.createElement(ce.n,{checked:o,onChange:u,a11yLabel:i})};bi.displayName="TripsSaveItemButton",bi.fragment=hi;var Ai=(0,i.Ps)(Jn(),Rt),Ci=function(e){var n,t=e.data,a="TripsNavigateToViewAction"===(null===(n=t.action)||void 0===n?void 0:n.__typename)?t.action:void 0,i=ea(t.action);return r.createElement(r.Fragment,null,!a&&t.primary&&r.createElement(D.b,{size:200},t.primary),a&&t.primary&&r.createElement(me.M,{size:"small"},r.createElement("a",ge({},i),t.primary)))};Ci.displayName="TripsViewContentItem",Ci.fragment=Ai;var Fi=(0,i.Ps)(Xn(),Ci.fragment),Di=function(e){var n=e.data;return r.createElement(r.Fragment,null,n.items.map((function(e,t){return r.createElement(Ci,{data:e,key:"".concat(n.__typename,"-").concat(t)})})))};Di.displayName="TripsInlineContent",Di.fragment=Fi;var Ni=(0,i.Ps)(et(),Di.fragment,bi.fragment),Pi=function(e){var n=e.data;return r.createElement(K.t,{padded:!0},n.graphicText&&r.createElement(h.v,{alignItems:"center"},"Illustration"===n.graphicText.graphic.__typename&&r.createElement(b.t,{alignSelf:"center",grow:0},r.createElement(Q.U,{padded:!1},r.createElement(R.a,{url:n.graphicText.graphic.url,alt:n.graphicText.graphic.description}))),r.createElement(b.t,{grow:1},r.createElement(Q.U,{padded:["inlinestart"]},r.createElement(B.y,null,n.graphicText.text)))),r.createElement(ue.B,null),r.createElement(h.v,{alignItems:"center"},r.createElement(b.t,{grow:1},r.createElement(Q.U,{padded:!1},r.createElement(D.b,{spacing:"one"},n.heading),r.createElement(Di,{data:n.primary}))),r.createElement(b.t,{grow:0,alignSelf:"center"},r.createElement(Q.U,{padded:["inlinestart"]},r.createElement(bi,{data:n.saveItemButton})))))};Pi.displayName="TripsSaveItemDetails",Pi.fragment=Ni;(0,i.Ps)(nt(),bi.fragment,Pi.fragment);var wi={data:{offset:0},stateFieldName:"toastState",events:["setOffset"],update:function(e,n,t){return"setOffset"===e?fe(ge({},n),{offset:t.data.offset}):n}}}}]);
//# sourceMappingURL=shared-ui-trips-save-item.e4019032622cda1fabef.js.map